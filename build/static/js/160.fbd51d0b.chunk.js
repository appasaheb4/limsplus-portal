"use strict";(self.webpackChunklimsplus_portal=self.webpackChunklimsplus_portal||[]).push([[160],{40160:function(e,n,i){i.r(n);var o=i(4942),t=i(1413),l=i(29439),r=i(72791),s=i(71672),u=i(10879),c=i(47394),d=i(22414),a=i(80184),h=(0,s.Pi)((function(){var e,n,i,s,h,g,v=(0,d.mZ)(),p=v.loginStore,m=v.shortcutMenuStore,f=v.routerStore;(0,r.useEffect)((function(){var e,n=[];null===(e=f.userRouter)||void 0===e||e.filter((function(e){e.children.filter((function(i){var o,t,l,r=(null===(o=p.login)||void 0===o?void 0:o.shortcutMenu)&&(null===(t=p.login)||void 0===t?void 0:t.shortcutMenu[p.login.role||""])&&(null===(l=p.login)||void 0===l?void 0:l.shortcutMenu[p.login.role||""].filter((function(n){return n.category===e.name&&n.name===i.name})));r&&(null===r||void 0===r?void 0:r.length)>0?i.selected=!0:i.selected=!1,i.category=e.name,n.push(i)}))})),m.updateShortcutMenu(n)}),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u._q,{title:(null===(e=f.selectedComponents)||void 0===e?void 0:e.title)||"",store:p}),(null===(n=p.login)||void 0===n?void 0:n.shortcutMenu)&&(null===(i=p.login)||void 0===i?void 0:i.shortcutMenu[p.login.role||""])&&(null===(s=p.login)||void 0===s?void 0:s.shortcutMenu)&&(null===(h=p.login)||void 0===h?void 0:h.shortcutMenu[p.login.role||""].length)>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mt-2",children:"Active:"}),(0,a.jsx)(c.Z5,{onDragEnd:function(e){var n,i,r,s=Array.from((null===(n=p.login)||void 0===n?void 0:n.shortcutMenu)&&(null===(i=p.login)||void 0===i?void 0:i.shortcutMenu[p.login.role||""])||[]),u=s.splice(e.source.index,1),c=(0,l.Z)(u,1)[0];s.splice(e.destination.index,0,c),p.updateLogin((0,t.Z)((0,t.Z)({},p.login),{},{shortcutMenu:(0,o.Z)({},(null===(r=p.login)||void 0===r?void 0:r.role)||"",s)})),m.updateDragDrop(!0)},children:(0,a.jsx)(c.bK,{droppableId:"characters",direction:"horizontal",children:function(e,n){var i,o,l;return(0,a.jsx)("ul",(0,t.Z)((0,t.Z)({style:(l=n.isDraggingOver,{background:l?"lightblue":"none",display:"flex",padding:8,overflow:"auto"})},e.droppableProps),{},{ref:e.innerRef,children:(null===(i=p.login)||void 0===i?void 0:i.shortcutMenu)&&(null===(o=p.login)||void 0===o?void 0:o.shortcutMenu[p.login.role||""].map((function(e,n){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c._l,{draggableId:e.title,index:n,children:function(n,i){return(0,a.jsxs)("div",(0,t.Z)((0,t.Z)((0,t.Z)({className:"flex items-center bg-blue-500  p-2 m-2 rounded-md",ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:[(0,a.jsx)(u.PJ.RIcon,{nameIcon:e.icon||"VscListSelection",propsIcon:{color:"#ffffff",size:18}}),(0,a.jsx)("li",{className:"m-2 text-white",children:e.title})]}))}},e.title)})})))}))}})}),m.isDragDropList&&(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(u.EK.zx,{size:"medium",type:"solid",icon:u.ny.vc,onClick:function(){var e,n,i,o;m.ShortcutMenuService.updateShortcutMenu({input:{userRole:null===(e=p.login)||void 0===e?void 0:e.role,selectedList:(null===(n=p.login)||void 0===n?void 0:n.shortcutMenu)&&(null===(i=p.login)||void 0===i?void 0:i.shortcutMenu[p.login.role||""]),_id:null===(o=p.login)||void 0===o?void 0:o._id}}).then((function(e){e.updateShortcutMenu.success?(u.FN.success({message:"\ud83d\ude0a ".concat(e.updateShortcutMenu.message)}),m.updateDragDrop(!1)):u.FN.error({message:"\ud83d\ude14Please try agian."})}))},children:"Update"}),(0,a.jsx)("br",{})," ",(0,a.jsx)("br",{})]})]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"flex-wrap",children:[(0,a.jsx)("label",{className:"mt-2",children:"List:"}),(0,a.jsx)("ul",{className:"grid sm:grid-cols-1 md:grid-cols-6 xl:grid-cols-6 p-2",children:m.shortcutMenuList&&(null===(g=m.shortcutMenuList)||void 0===g?void 0:g.map((function(e,n){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex items-center bg-gray-500  p-2 m-2 rounded-md ",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",name:e.name,value:e.name,checked:e.selected,onChange:function(){return function(e,n){var i=m.shortcutMenuList;i&&(i[n].selected=!i[n].selected),m.updateShortcutMenu(i)}(0,n)}}),(0,a.jsx)(u.PJ.RIcon,{nameIcon:e.icon||"VscListSelection",propsIcon:{color:"#ffffff",size:18}}),(0,a.jsx)("li",{className:"m-2 text-white",children:e.title})]})})})))}),(0,a.jsx)("br",{}),(0,a.jsx)(u.aV,{direction:"row",space:3,align:"center",children:(0,a.jsx)(u.EK.zx,{size:"medium",type:"solid",icon:u.ny.vc,onClick:function(){var e,n,i,o=null===(e=m.shortcutMenuList)||void 0===e?void 0:e.filter((function(e){return!0===e.selected})),l=null===(n=p.login)||void 0===n?void 0:n.role;o&&(null===o||void 0===o?void 0:o.length)>0&&m.ShortcutMenuService.updateShortcutMenu({input:{userRole:l,selectedList:o,_id:null===(i=p.login)||void 0===i?void 0:i._id}}).then((function(e){e.updateShortcutMenu.success?(u.FN.success({message:"\ud83d\ude0a ".concat(e.updateShortcutMenu.message)}),p.updateLogin((0,t.Z)((0,t.Z)({},p.login),{},{shortcutMenu:e.updateShortcutMenu.data.shortcutMenu}))):u.FN.error({message:"\ud83d\ude14Please try agian."})}))},children:"Update"})})]})]})}));n.default=h}}]);
//# sourceMappingURL=160.fbd51d0b.chunk.js.map