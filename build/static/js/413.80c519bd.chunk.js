"use strict";(self.webpackChunklimsplus_portal=self.webpackChunklimsplus_portal||[]).push([[413],{6413:function(e,n,t){t.r(n);var i=t(4942),o=t(1413),l=t(29439),r=t(47313),s=t(92126),u=t(15987),c=t(5772),d=t(65733),a=t(46417),h=(0,s.Pi)((function(){var e,n,t,s,h,g,v=(0,d.mZ)(),p=v.loginStore,m=v.shortcutMenuStore,f=v.routerStore;(0,r.useEffect)((function(){var e,n=[];null===(e=f.userRouter)||void 0===e||e.filter((function(e){e.children.filter((function(t){var i,o,l,r=(null===(i=p.login)||void 0===i?void 0:i.shortcutMenu)&&(null===(o=p.login)||void 0===o?void 0:o.shortcutMenu[p.login.role||""])&&(null===(l=p.login)||void 0===l?void 0:l.shortcutMenu[p.login.role||""].filter((function(n){return n.category===e.name&&n.name===t.name})));r&&(null===r||void 0===r?void 0:r.length)>0?t.selected=!0:t.selected=!1,t.category=e.name,n.push(t)}))})),m.updateShortcutMenu(n)}),[]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.h4,{children:[(0,a.jsx)(u.CD,{title:(null===(e=f.selectedComponents)||void 0===e?void 0:e.title)||""}),(0,a.jsx)(u.Nd,{store:p})]}),(null===(n=p.login)||void 0===n?void 0:n.shortcutMenu)&&(null===(t=p.login)||void 0===t?void 0:t.shortcutMenu[p.login.role||""])&&(null===(s=p.login)||void 0===s?void 0:s.shortcutMenu)&&(null===(h=p.login)||void 0===h?void 0:h.shortcutMenu[p.login.role||""].length)>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mt-2",children:"Active:"}),(0,a.jsx)(c.Z5,{onDragEnd:function(e){var n,t,r,s=Array.from((null===(n=p.login)||void 0===n?void 0:n.shortcutMenu)&&(null===(t=p.login)||void 0===t?void 0:t.shortcutMenu[p.login.role||""])||[]),u=s.splice(e.source.index,1),c=(0,l.Z)(u,1)[0];s.splice(e.destination.index,0,c),p.updateLogin((0,o.Z)((0,o.Z)({},p.login),{},{shortcutMenu:(0,i.Z)({},(null===(r=p.login)||void 0===r?void 0:r.role)||"",s)})),m.updateDragDrop(!0)},children:(0,a.jsx)(c.bK,{droppableId:"characters",direction:"horizontal",children:function(e,n){var t,i,l;return(0,a.jsx)("ul",(0,o.Z)((0,o.Z)({style:(l=n.isDraggingOver,{background:l?"lightblue":"none",display:"flex",padding:8,overflow:"auto"})},e.droppableProps),{},{ref:e.innerRef,children:(null===(t=p.login)||void 0===t?void 0:t.shortcutMenu)&&(null===(i=p.login)||void 0===i?void 0:i.shortcutMenu[p.login.role||""].map((function(e,n){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c._l,{draggableId:e.title,index:n,children:function(n,t){return(0,a.jsxs)("div",(0,o.Z)((0,o.Z)((0,o.Z)({className:"flex items-center bg-blue-500  p-2 m-2 rounded-md",ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:[(0,a.jsx)(u.PJ.IconContext,{color:"#fff",size:"22",children:u.PJ.getIconTag(u.PJ.getIcons(e.icon)||u.PJ.IconBs.BsList)}),(0,a.jsx)("li",{className:"m-2 text-white",children:e.title})]}))}},e.title)})})))}))}})}),m.isDragDropList&&(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)(u.EK.zx,{size:"medium",type:"solid",icon:u.ny.vc,onClick:function(){var e,n,t,i;m.ShortcutMenuService.updateShortcutMenu({input:{userRole:null===(e=p.login)||void 0===e?void 0:e.role,selectedList:(null===(n=p.login)||void 0===n?void 0:n.shortcutMenu)&&(null===(t=p.login)||void 0===t?void 0:t.shortcutMenu[p.login.role||""]),_id:null===(i=p.login)||void 0===i?void 0:i._id}}).then((function(e){e.updateShortcutMenu.success?(u.FN.success({message:"\ud83d\ude0a ".concat(e.updateShortcutMenu.message)}),m.updateDragDrop(!1)):u.FN.error({message:"\ud83d\ude14Please try agian."})}))},children:"Update"}),(0,a.jsx)("br",{})," ",(0,a.jsx)("br",{})]})]}),(0,a.jsx)("hr",{}),(0,a.jsxs)("div",{className:"flex-wrap",children:[(0,a.jsx)("label",{className:"mt-2",children:"List:"}),(0,a.jsx)("ul",{className:"grid grid-cols-6 p-2",children:m.shortcutMenuList&&(null===(g=m.shortcutMenuList)||void 0===g?void 0:g.map((function(e,n){return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex items-center bg-gray-500  p-2 m-2 rounded-md",children:[(0,a.jsx)("input",{type:"checkbox",className:"mr-2",name:e.name,value:e.name,checked:e.selected,onChange:function(){return function(e,n){var t=m.shortcutMenuList;t&&(t[n].selected=!t[n].selected),m.updateShortcutMenu(t)}(0,n)}}),(0,a.jsx)(u.PJ.IconContext,{color:"#fff",size:"22",children:u.PJ.getIconTag(u.PJ.getIcons(e.icon)||u.PJ.IconBs.BsList)}),(0,a.jsx)("li",{className:"m-2 text-white",children:e.title})]})})})))}),(0,a.jsx)("br",{}),(0,a.jsx)(u.aV,{direction:"row",space:3,align:"center",children:(0,a.jsx)(u.EK.zx,{size:"medium",type:"solid",icon:u.ny.vc,onClick:function(){var e,n,t,i=null===(e=m.shortcutMenuList)||void 0===e?void 0:e.filter((function(e){return!0===e.selected})),l=null===(n=p.login)||void 0===n?void 0:n.role;i&&(null===i||void 0===i?void 0:i.length)>0&&m.ShortcutMenuService.updateShortcutMenu({input:{userRole:l,selectedList:i,_id:null===(t=p.login)||void 0===t?void 0:t._id}}).then((function(e){e.updateShortcutMenu.success?(u.FN.success({message:"\ud83d\ude0a ".concat(e.updateShortcutMenu.message)}),p.updateLogin((0,o.Z)((0,o.Z)({},p.login),{},{shortcutMenu:e.updateShortcutMenu.data.shortcutMenu}))):u.FN.error({message:"\ud83d\ude14Please try agian."})}))},children:"Update"})})]})]})}));n.default=h}}]);