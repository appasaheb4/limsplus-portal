(this.webpackJsonplimsplus_portal=this.webpackJsonplimsplus_portal||[]).push([[5],{851:function(e,a,t){"use strict";t.r(a);var r=t(43),n=t(3),o=t(15),c=t(1),l=t.n(c),i=t(21),d=t(2),u=t(214),s=t(7),m=t(5),f=t(4),g=t(10),h=t(30),v=t(6),E=Object(i.a)((function(){var e,a,t,i=Object(m.b)(),E=i.control,S=i.handleSubmit,p=i.formState.errors,C=i.setValue,b=Object(f.b)().loginStore,M=Object(c.useState)(),j=Object(o.a)(M,2),O=j[0],F=j[1],I=Object(c.useState)(!0),y=Object(o.a)(I,2),k=y[0],w=y[1];Object(c.useEffect)((function(){f.a.loginStore.login&&"SYSADMIN"!==f.a.loginStore.login.role&&(g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{environment:f.a.loginStore.login.environment})),C("environment",f.a.loginStore.login.environment))}),[f.a.loginStore.login]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a.Header,null,l.a.createElement(d.a.PageHeading,{title:(null===(e=f.a.routerStore.selectedComponents)||void 0===e?void 0:e.title)||""}),l.a.createElement(d.a.PageHeadingLabDetails,{store:b})),h.a.checkPermission(Object(v.toJS)(f.a.routerStore.userPermission),"Add")&&l.a.createElement(d.a.Buttons.ButtonCircleAddRemove,{show:k,onClick:function(e){return w(!k)}}),l.a.createElement("div",{className:" mx-auto  flex-wrap"},l.a.createElement("div",{className:"p-2 rounded-lg shadow-xl "+(k?"hidden":"shown")},l.a.createElement(d.a.Grid,{cols:2},l.a.createElement(d.a.List,{direction:"col",space:4,justify:"stretch",fill:!0},l.a.createElement(m.a,{control:E,render:function(e){var a,t=e.field.onChange;return l.a.createElement(d.a.Form.Input,{label:"Interface Type",name:"interfaceType",placeholder:p.interfaceType?"Please Enter InterFace Type":"Interface Type",hasError:p.interfaceType,value:null===(a=g.a.interfaceManagerStore.encodeCharacter)||void 0===a?void 0:a.interfaceType,onChange:function(e){t(e),g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{interfaceType:e}))}})},name:"interfaceType",rules:{required:!0},defaultValue:""}),l.a.createElement(m.a,{control:E,render:function(e){var a,t=e.field.onChange;return l.a.createElement(d.a.Form.Input,{label:"Instrument Type",name:"instrumentType",placeholder:p.instrumentType?"Please Enter instrumentType":"Instrument Type",hasError:p.instrumentType,value:null===(a=g.a.interfaceManagerStore.encodeCharacter)||void 0===a?void 0:a.instrumentType,onChange:function(e){t(e),g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{instrumentType:e}))}})},name:"instrumentType",rules:{required:!0},defaultValue:""}),l.a.createElement(m.a,{control:E,render:function(e){var a,t=e.field.onChange;return l.a.createElement(d.a.Form.Input,{label:"Instrument Name",name:"instrumentName",placeholder:p.instrumentName?"Please Enter InstrumentName":"Instrument Name",hasError:p.instrumentName,value:null===(a=g.a.interfaceManagerStore.encodeCharacter)||void 0===a?void 0:a.instrumentName,onChange:function(e){t(e),g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{instrumentName:e}))}})},name:"instrumentName",rules:{required:!0},defaultValue:""}),l.a.createElement(m.a,{control:E,render:function(e){var a,t=e.field.onChange;return l.a.createElement(d.a.Form.Input,{label:"Data Flow From",name:"dataFlowFrom",placeholder:p.dataFlowFrom?"Please Enter DataFlowFrom":"Data Flow From",hasError:p.dataFlowFrom,value:null===(a=g.a.interfaceManagerStore.encodeCharacter)||void 0===a?void 0:a.dataFlowFrom,onChange:function(e){t(e),g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{dataFlowFrom:e}))}})},name:"dataFlowFrom",rules:{required:!1},defaultValue:""}),l.a.createElement(m.a,{control:E,render:function(e){var a,t=e.field.onChange;return l.a.createElement(d.a.Form.Input,{label:"Communication Protocol",name:"communicationProtocal",placeholder:p.communicationProtocal?"Please Enter communicationProtocal":"Communication Protocal",hasError:p.communicationProtocal,value:null===(a=g.a.interfaceManagerStore.encodeCharacter)||void 0===a?void 0:a.communicationProtocol,onChange:function(e){t(e),g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{communicationProtocol:e}))}})},name:"communicationProtocal",rules:{required:!1},defaultValue:""}),l.a.createElement("div",{className:"clearfix"})),l.a.createElement(d.a.List,{direction:"col",space:4,justify:"stretch",fill:!0},l.a.createElement(d.a.Form.InputWrapper,{label:"Block",id:"block"},l.a.createElement(d.a.Grid,{cols:2},l.a.createElement(m.a,{control:E,render:function(e){var a,t=e.field.onChange;return l.a.createElement(d.a.Form.Input,{name:"startBlock",placeholder:p.startBlock?"Please Enter BlockStart":"Start Block",hasError:p.startBlock,value:null===(a=g.a.interfaceManagerStore.encodeCharacter)||void 0===a?void 0:a.blockStart,onChange:function(e){t(e),g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{blockStart:e}))}})},name:"startBlock",rules:{required:!0},defaultValue:""}),l.a.createElement(m.a,{control:E,render:function(e){var a,t=e.field.onChange;return l.a.createElement(d.a.Form.Input,{name:"endBlock",placeholder:p.endBlock?"Please Enter endBlock":"End Block",hasError:p.endBlock,value:null===(a=g.a.interfaceManagerStore.encodeCharacter)||void 0===a?void 0:a.blockEnd,onChange:function(e){t(e),g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{blockEnd:e}))}})},name:"endBlock",rules:{required:!0},defaultValue:""}))),l.a.createElement(d.a.Form.InputWrapper,{label:"Filed",id:"filed"},l.a.createElement(d.a.Grid,{cols:3},l.a.createElement(m.a,{control:E,render:function(e){var a,t=e.field.onChange;return l.a.createElement(d.a.Form.Input,{name:"filed",placeholder:p.filed?"Please Enter Filed":"Filed",hasError:p.filed,value:null===(a=g.a.interfaceManagerStore.encodeCharacter)||void 0===a?void 0:a.filed,onChange:function(e){t(e),g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{filed:e}))}})},name:"filed",rules:{required:!1},defaultValue:""}),l.a.createElement(m.a,{control:E,render:function(e){var a,t=e.field.onChange;return l.a.createElement(d.a.Form.Input,{name:"value",placeholder:p.value?"Please Enter Value":"Value",hasError:p.value,value:null===(a=g.a.interfaceManagerStore.encodeCharacter)||void 0===a?void 0:a.value,onChange:function(e){t(e),g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{value:e}))}})},name:"value",rules:{required:!1},defaultValue:""}),l.a.createElement("div",{className:"mt-2"},l.a.createElement(d.a.Buttons.Button,{size:"medium",type:"solid",onClick:function(){var e,a,t,r=null===(e=g.a.interfaceManagerStore.encodeCharacter)||void 0===e?void 0:e.filed,o=null===(a=g.a.interfaceManagerStore.encodeCharacter)||void 0===a?void 0:a.value,c=(null===(t=g.a.interfaceManagerStore.encodeCharacter)||void 0===t?void 0:t.fileds)||[];if(void 0===r)return alert("Please enter filed and value.");void 0!==r&&(void 0!==c?c.push({filed:r,value:o}):c=[{filed:r,value:o}],g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{fileds:c})),g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{filed:"",value:""})))}},l.a.createElement(d.a.Icon.EvaIcon,{icon:"plus-circle-outline"}),"Add")),l.a.createElement("div",{className:"clearfix"})),l.a.createElement(d.a.List,{space:2,direction:"row",justify:"center"},l.a.createElement("div",null,null===(a=g.a.interfaceManagerStore.encodeCharacter)||void 0===a||null===(t=a.fileds)||void 0===t?void 0:t.map((function(e,a){return l.a.createElement("div",{className:"mb-2"},l.a.createElement(d.a.Buttons.Button,{key:a,size:"medium",type:"solid",icon:d.a.Icon.Remove,onClick:function(){var e,t,o,c,l=(null===(e=g.a.interfaceManagerStore.encodeCharacter)||void 0===e||null===(t=e.fileds)||void 0===t?void 0:t.slice(0,a))||[],i=(null===(o=g.a.interfaceManagerStore.encodeCharacter)||void 0===o||null===(c=o.fileds)||void 0===c?void 0:c.slice(a+1))||[],d=[].concat(Object(r.a)(l),Object(r.a)(i));g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{fileds:d}))}},"".concat(e.filed," - ").concat(e.value)))}))))),l.a.createElement(m.a,{control:E,render:function(e){var a,t,r=e.field.onChange;return l.a.createElement(d.a.Form.InputWrapper,{label:"Environment"},l.a.createElement("select",{value:null===(a=g.a.interfaceManagerStore.encodeCharacter)||void 0===a?void 0:a.environment,className:"leading-4 p-2 focus:ring-indigo-500 ocus:border-indigo-500 block w-full shadow-sm sm:text-base border-2 ".concat(p.environment?"border-red-500  ":"border-gray-300"," rounded-md"),disabled:!(!f.a.loginStore.login||"SYSADMIN"===f.a.loginStore.login.role),onChange:function(e){var a=e.target.value;r(a),g.a.interfaceManagerStore.updateEncodeCharacter(Object(n.a)(Object(n.a)({},g.a.interfaceManagerStore.encodeCharacter),{},{environment:a}))}},l.a.createElement("option",{selected:!0},f.a.loginStore.login&&"SYSADMIN"!==f.a.loginStore.login.role?"Select":(null===(t=g.a.interfaceManagerStore.encodeCharacter)||void 0===t?void 0:t.environment)||"Select"),s.a(f.a.routerStore.lookupItems,"ENVIRONMENT").map((function(e,a){return l.a.createElement("option",{key:a,value:e.code},"".concat(e.value," - ").concat(e.code))}))))},name:"environment",rules:{required:!0},defaultValue:""}))),l.a.createElement(d.a.List,{direction:"row",space:3,align:"center"},l.a.createElement(d.a.Buttons.Button,{size:"medium",type:"solid",icon:d.a.Icon.Save,onClick:S((function(){var e;g.a.interfaceManagerStore.encodeCharacter&&g.a.interfaceManagerStore.encodeCharacter.fileds&&(null===(e=g.a.interfaceManagerStore.encodeCharacter.fileds)||void 0===e?void 0:e.length)>0?g.a.interfaceManagerStore.encodeCharacterService.addInterfaceManager(g.a.interfaceManagerStore.encodeCharacter).then((function(e){200===e.status&&(d.a.Toast.success({message:"\ud83d\ude0a Encode Character created."}),setTimeout((function(){window.location.reload()}),1e3))})):d.a.Toast.warning({message:"\ud83d\ude14 Please enter filed and value!"})}))},"Save"),l.a.createElement(d.a.Buttons.Button,{size:"medium",type:"outline",icon:d.a.Icon.Remove,onClick:function(){window.location.reload()}},"Clear"),l.a.createElement("div",{className:"clearfix"}))),l.a.createElement("div",{className:"p-2 rounded-lg shadow-xl overflow-scroll"},l.a.createElement(u.b.InterfaceManagerList,{data:g.a.interfaceManagerStore.listEncodeCharacter||[],totalSize:g.a.interfaceManagerStore.listEncodeCharacterCount,extraData:{lookupItems:f.a.routerStore.lookupItems},isDelete:h.a.checkPermission(Object(v.toJS)(f.a.routerStore.userPermission),"Delete"),isEditModify:h.a.checkPermission(Object(v.toJS)(f.a.routerStore.userPermission),"Edit/Modify"),onDelete:function(e){return F(e)},onSelectedRow:function(e){F({show:!0,type:"Delete",id:e,title:"Are you sure?",body:"Delete selected items!"})},onUpdateItem:function(e,a,t){F({show:!0,type:"Update",data:{value:e,dataField:a,id:t},title:"Are you sure?",body:"Update interface manager!"})},onPageSizeChange:function(e,a){g.a.interfaceManagerStore.fetchEncodeCharacter(e,a)}})),l.a.createElement(d.b.ModalConfirm,Object.assign({},O,{click:function(e){"Delete"===e?g.a.interfaceManagerStore.encodeCharacterService.deleteInterfaceManager(O.id).then((function(e){console.log({res:e}),200===e.status&&(d.a.Toast.success({message:"\ud83d\ude0aInterface manager deleted."}),F({show:!1}),g.a.interfaceManagerStore.fetchEncodeCharacter())})):g.a.interfaceManagerStore.encodeCharacterService.interfaceManagerUpdateSingleFiled(O.data).then((function(e){200===e.status&&(g.a.interfaceManagerStore.fetchEncodeCharacter(),d.a.Toast.success({message:"\ud83d\ude0aUpdated."}))}))},onClose:function(){F({show:!1})}}))))}));a.default=E}}]);