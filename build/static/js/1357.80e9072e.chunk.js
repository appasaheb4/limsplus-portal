"use strict";(self.webpackChunklimsplus_portal=self.webpackChunklimsplus_portal||[]).push([[1357],{41357:function(t,e,n){n.r(e);var o,i,r,s=n(1413),l=n(29439),a=n(72791),d=n(71672),c=n(763),u=n.n(c),f=n(10879),v=n(97892),m=n.n(v),h=n(22414),y=n(40130),x=n.n(y),p=n(80184);m().extend(x());var I=(0,d.Pi)((function(){var t,e=(0,h.mZ)(),n=e.loginStore,d=e.loginActivityStore,c=e.routerStore,v=(0,a.useState)({}),y=(0,l.Z)(v,2),x=y[0],I=y[1];return(0,a.useEffect)((function(){d.fetchLoginActivity()}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(f._q,{title:(null===(t=c.selectedComponents)||void 0===t?void 0:t.title)||"",store:n}),(0,p.jsx)("div",{className:"mx-auto  flex-wrap",children:(0,p.jsx)("div",{className:"p-2 rounded-lg shadow-xl overflow-auto",children:(0,p.jsx)("div",{style:{position:"relative"},children:(0,p.jsx)(f.tM,{id:"_id",data:d.listLoginActivity||[],totalSize:d.listLoginActivityCount,columns:[{dataField:"_id",text:"Id",hidden:!0,csvExport:!1},{dataField:"userId",text:"User details",sort:!0,headerStyle:{fontSize:0},sortCaret:function(t,e){return(0,f.t$)(t,e)},csvFormatter:function(t,e,n){return"UserId: ".concat(e.user.userId,", User Name: ").concat(e.user.fullName,",  Lab: ").concat(e.user.lab,", Role: ").concat(e.user.role)},filter:(0,f.DN)({getFilter:function(t){o=t}}),headerClasses:"textHeader5",editable:!1,formatter:function(t,e){var n,o,i,r;return(0,p.jsxs)("div",{children:[(0,p.jsxs)("h6",{children:["UserId: ".concat(null===(n=e.user)||void 0===n?void 0:n.userId)," "]}),(0,p.jsx)("h6",{children:"User Name: ".concat(null===(o=e.user)||void 0===o?void 0:o.fullName)}),(0,p.jsx)("h6",{children:"Lab: ".concat(null===(i=e.user)||void 0===i?void 0:i.lab)}),(0,p.jsx)("h6",{children:"Role: ".concat(null===(r=e.user)||void 0===r?void 0:r.role)})]})}},{dataField:"systemInfo",text:"System info",sort:!0,headerStyle:{fontSize:0},sortCaret:function(t,e){return(0,f.t$)(t,e)},filter:(0,f.DN)({getFilter:function(t){i=t}}),csvFormatter:function(t,e,n){var o,i,r,s,l,a,d,c,u,f,v,m;return"Device:".concat(e.systemInfo.device,", OS, name:").concat(null===(o=e.systemInfo)||void 0===o||null===(i=o.workstation)||void 0===i||null===(r=i.os)||void 0===r?void 0:r.name,",  version:").concat(null===(s=e.systemInfo)||void 0===s||null===(l=s.workstation)||void 0===l||null===(a=l.os)||void 0===a?void 0:a.version,", Browser,name: ").concat(null===(d=e.systemInfo)||void 0===d||null===(c=d.workstation)||void 0===c||null===(u=c.browser)||void 0===u?void 0:u.name,"\n                    version:").concat(null===(f=e.systemInfo)||void 0===f||null===(v=f.workstation)||void 0===v||null===(m=v.browser)||void 0===m?void 0:m.version)},headerClasses:"textHeader5",formatter:function(t,e){var n,o,i,r,s,l,a,d,c,u,f,v,m;return(0,p.jsxs)("div",{children:[(0,p.jsxs)("h6",{children:["Device: ".concat(null===(n=e.systemInfo)||void 0===n?void 0:n.device)," "]}),(0,p.jsx)("h6",{children:" OS:"}),(0,p.jsx)("h6",{className:"ml-4",children:"name: ".concat(null===(o=e.systemInfo)||void 0===o||null===(i=o.workstation)||void 0===i||null===(r=i.os)||void 0===r?void 0:r.name,"\n                                      version:").concat(null===(s=e.systemInfo)||void 0===s||null===(l=s.workstation)||void 0===l||null===(a=l.os)||void 0===a?void 0:a.version)}),(0,p.jsx)("h6",{children:" Browser:"}),(0,p.jsx)("h6",{className:"ml-4",children:"name: ".concat(null===(d=e.systemInfo)||void 0===d||null===(c=d.workstation)||void 0===c||null===(u=c.browser)||void 0===u?void 0:u.name,"\n                                      version:").concat(null===(f=e.systemInfo)||void 0===f||null===(v=f.workstation)||void 0===v||null===(m=v.browser)||void 0===m?void 0:m.version)})]})}},{dataField:"ipInfo",text:"Ip Information",sort:!0,headerStyle:{fontSize:0},sortCaret:function(t,e){return(0,f.t$)(t,e)},filter:(0,f.DN)({getFilter:function(t){r=t}}),headerClasses:"textHeader4",csvFormatter:function(t,e,n){return"Ip:".concat(e.systemInfo.ipInfo.ip,", Address:").concat(e.systemInfo.ipInfo.city,", ").concat(e.systemInfo.ipInfo.region,", ").concat(e.systemInfo.ipInfo.country,", Location:").concat(e.systemInfo.ipInfo.ll)},formatter:function(t,e){var n,o,i,r;return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{children:[(0,p.jsxs)("h6",{children:["Ip: ",null===(n=e.systemInfo)||void 0===n||null===(o=n.ipInfo)||void 0===o?void 0:o.ip]}),e.systemInfo.ipInfo.city&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("h6",{children:["Address:"," ","".concat(e.systemInfo.ipInfo.city,", ").concat(e.systemInfo.ipInfo.region,", ").concat(e.systemInfo.ipInfo.country)]}),(0,p.jsxs)("h6",{children:["Location: ","".concat(null===(i=e.systemInfo)||void 0===i||null===(r=i.ipInfo)||void 0===r?void 0:r.ll)]})]})]})})}},{dataField:"dateOfEntry",text:"In",headerClasses:"textHeader11",sort:!0,headerStyle:{fontSize:0},sortCaret:function(t,e){return(0,f.t$)(t,e)},csvFormatter:function(t,e,n){return e.dateOfEntry?m()(e.dateOfEntry).format("YYYY-MM-DD h:mm:ss a"):""},filter:(0,f.w9)(),filterRenderer:function(t,e){return(0,p.jsx)(f.fU,{onFilter:t,column:e})},formatter:function(t,e){return m()(m()(e.dateOfEntry).format("YYYY-MM-DD h:mm:ss a")).fromNow()}},{dataField:"lastUpdated",text:"Out",headerClasses:"textHeader5",sort:!0,headerStyle:{fontSize:0},sortCaret:function(t,e){return(0,f.t$)(t,e)},csvFormatter:function(t,e,n){return e.lastUpdated?m()(e.lastUpdated).format("YYYY-MM-DD h:mm:ss a"):""},filter:(0,f.w9)(),filterRenderer:function(t,e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(f.fU,{onFilter:t,column:e,isStatus:!0,onStatus:function(t){var e={type:"options-filter",filter:{status:t},page:0,limit:10};d.LoginActivityService.filter({input:e}),I({input:e})}})})},formatter:function(t,e){return e.lastUpdated?(0,p.jsx)(p.Fragment,{children:m()(m()(e.lastUpdated).format("YYYY-MM-DD h:mm:ss a")).fromNow()}):"Active User"}},{text:"Company Code",dataField:"companyCode",sort:!0,headerStyle:{fontSize:0},sortCaret:function(t,e){return(0,f.t$)(t,e)},editable:!1,csvFormatter:function(t){return t||""},filter:(0,f.DN)({getFilter:function(t){t}}),headerClasses:"textHeader2"},{dataField:"environment",text:"Environment",headerClasses:"textHeader4",sort:!0,headerStyle:{fontSize:0},editable:!1,sortCaret:function(t,e){return(0,f.t$)(t,e)},csvFormatter:function(t){return t||""},filter:(0,f.DN)({getFilter:function(t){t}})}],onPageSizeChange:function(t,e){u().isEmpty(x)?d.fetchLoginActivity(t,e):d.fetchLoginActivity(t,e,x)},onFilter:function(t,e,n,o){u().isEmpty(x)?d.LoginActivityService.filter({input:{type:t,filter:e,page:n,limit:o}}):d.LoginActivityService.filter((0,s.Z)((0,s.Z)({},x),{},{page:n,limit:o}))},clearAllFilter:function(){o(""),i(""),r(""),I({}),setTimeout((function(){d.fetchLoginActivity(0,10)}),2e3)},isEditModify:!1,isSelectRow:!1,fileName:"Login Activity",dynamicStylingFields:[],hideExcelSheet:["_id"]})})})})]})}));e.default=I}}]);
//# sourceMappingURL=1357.80e9072e.chunk.js.map