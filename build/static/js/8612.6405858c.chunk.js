"use strict";(self.webpackChunklimsplus_portal=self.webpackChunklimsplus_portal||[]).push([[8612],{58612:function(e,t,a){a.r(t),a.d(t,{default:function(){return A}});var n=a(1413),o=a(74165),i=a(15861),r=a(29439),s=a(72791),l=a(71672),d=a(20500),c=a(61134),u=a(10621),m=a(97892),p=a.n(m),x=a(4942),f=a(2002),h=a(763),g=a.n(h),v=a(33294),b=a.n(v),F=a(36161),P=a(92746),C=(a(26192),a(65028)),w=a(80184),S=v.Search.SearchBar,y=v.Search.ClearSearchButton,j=v.CSVExport.ExportCSVButton,D=function(e){var t=e.id,a=e.data,o=e.totalSize,i=void 0===o?10:o,l=e.searchPlaceholder,c=void 0===l?"Search...":l,u=e.page,m=void 0===u?0:u,h=e.sizePerPage,v=void 0===h?10:h,D=e.columns,I=e.fileName,Z=(e.isDelete,e.isEditModify),E=e.isExport,N=void 0===E||E,z=(e.isSelectRow,e.selectedItem),T=(e.onSelectedRow,e.onUpdateItem),A=e.onPageSizeChange,R=e.onFilter,k=e.clearAllFilter,Y=e.onClickRow,H=(0,s.useState)(),M=(0,r.Z)(H,2),L=(M[0],M[1],(0,s.useState)(!1)),U=(0,r.Z)(L,2),_=U[0],O=U[1],V={cutome:!0,totalSize:i,paginationSize:5,pageStartIndex:0,firstPageText:"<<",prePageText:"<",nextPageText:">",lastPageText:">>",disablePageTitle:!0,paginationTotalRenderer:function(e,t,a){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"clearfix"}),(0,w.jsxs)("span",{children:["Showing ",e," to ",t," of ",a," Results"]})]})},hideSizePerPage:!0,showTotal:!1,alwaysShowAllBtns:!0,sizePerPageList:[{text:"10",value:10},{text:"20",value:20},{text:"30",value:30},{text:"40",value:40},{text:"50",value:50}],hidePageListOnlyOnePage:!0,sizePerPageRenderer:function(e){var t=e.options,a=e.currSizePerPage,n=e.onSizePerPageChange;return(0,w.jsxs)("div",{className:"btn-group items-center",role:"group",children:[(0,w.jsx)("input",{type:"number",min:"0",placeholder:"No",onChange:function(e){e.target.value&&n(e.target.value)},className:"mr-2 ml-2 leading-4 p-2 w-14 focus:outline-none focus:ring block  shadow-sm sm:text-base border border-gray-300 rounded-md"}),t.map((function(e){return(0,w.jsx)("button",{type:"button",onClick:function(){return n(e.page)},className:"btn  ".concat(a==="".concat(e.page)?"bg-primary":"bg-grey"),children:e.text},e.text)}))]})}},B={placeholder:c},J=function(e,t){var a=t.data,n=t.cellEdit,o=t.page,s=t.sizePerPage,l=t.filters,d=t.sortField,c=t.sortOrder,u=t.searchText;if("cellEdit"===e&&Z&&T&&T(n.newValue,n.dataField,n.rowId),"pagination"===e&&g().isEmpty(l)&&A&&A(o,s),"filter"===e||"pagination"===e&&!g().isEmpty(l)){if("pagination"===e){if(s>i)return alert("You have not more records.");if(o*s>i)return alert("You have not more records.")}for(var m={},p=0,f=Object.entries(l);p<f.length;p++){var h=(0,r.Z)(f[p],2),v=h[0],b=h[1],F=(0,x.Z)({},v,b.filterVal);m=Object.assign(m,F)}R&&(0,C.Ds)((function(){R(e,m,"filter"===e&&1===o?0:o,s)}))}("search"===e&&(0,C.Ds)((function(){R&&R(e,{srText:u},o,s)})),"sort"===e)&&("asc"===c?a.sort((function(e,t){return e[d]>t[d]?1:t[d]>e[d]?-1:0})):a.sort((function(e,t){return e[d]>t[d]?-1:t[d]>e[d]?1:0})))},G=function(e){var t=e.columns,a=e.onColumnToggle,o=e.toggles;return(0,w.jsx)("div",{className:"flex btn-group btn-group-toggle","data-toggle":"buttons",children:t.map((function(e){return(0,n.Z)((0,n.Z)({},e),{},{toggle:o[e.dataField]})})).map((function(e,t){if(t>0)return(0,w.jsx)("button",{type:"button",className:" btn btn-primary border-white  btn-sm whitespace-nowrap ".concat(e.toggle?"active":"inactive"),style:{height:"31px"},"data-toggle":"button","aria-pressed":e.toggle?"true":"false",onClick:function(){return a(e.dataField)},children:e.text},e.dataField)}))})},W={onClick:function(e,t,a){Y&&Y(t)}},q=function(e,t){return e._id==(null===z||void 0===z?void 0:z._id)?{backgroundColor:"#a9a9a9"}:0==e.balance?{backgroundColor:"#90EE90"}:void 0};return(0,w.jsx)(F.bN,{pagination:(0,F.ZP)(0!==i?V:{page:m,sizePerPage:v,totalSize:i}),keyField:t,columns:D,data:a,children:function(e){var o=e.paginationProps,i=e.paginationTableProps;return(0,w.jsx)(b(),{keyField:t,bootstrap4:!0,data:a,columns:D,search:!0,exportCSV:{fileName:"".concat(I,"_").concat(p()(new Date).format("YYYY-MM-DD HH:mm"),".csv"),noAutoBOM:!1,blobType:"text/csv;charset=ansi",exportAll:!1,onlyExportFiltered:!0},columnToggle:!0,children:function(e){return(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"flex items-center flex-wrap",children:[(0,w.jsx)("div",{className:"mt-2",children:(0,w.jsx)(S,(0,n.Z)((0,n.Z)((0,n.Z)({},B),e.searchProps),{},{onChange:function(e){console.log({value:e})}}))}),(0,w.jsx)(y,(0,n.Z)({className:"inline-flex ml-2 bg-gray-500 items-center small outline shadow-sm  font-medium  disabled:opacity-50 disabled:cursor-not-allowed text-center h-9 text-white"},e.searchProps)),(0,w.jsx)("button",{className:"ml-2 px-2 focus:outline-none bg-gray-500 items-center  outline shadow-sm  font-medium  text-center rounded-md h-9 text-white",onClick:k,children:"Clear all filters"}),N&&(0,w.jsx)(j,(0,n.Z)((0,n.Z)({className:"inline-flex m-2.5 bg-gray-500 items-center  small outline shadow-sm  font-medium  disabled:opacity-50 disabled:cursor-not-allowed text-center h-9 text-white"},e.csvProps),{},{children:"Export CSV!!"})),_?(0,w.jsx)(d.EK.zx,{size:"medium",type:"outline",onClick:function(){O(!_)},children:(0,w.jsx)(d.PJ.IconFa.FaChevronUp,{})}):(0,w.jsx)(d.EK.zx,{size:"medium",type:"outline",onClick:function(){O(!_)},children:(0,w.jsx)(d.PJ.IconFa.FaChevronDown,{})})]}),_&&(0,w.jsx)("div",{className:"flex overflow-auto",children:(0,w.jsx)(G,(0,n.Z)({contextual:"primary",className:"list-custom-class",btnClassName:"list-btn-custom-class"},e.columnToggleProps))}),(0,w.jsx)("div",{className:"scrollTable",children:(0,w.jsx)(f.Z,(0,n.Z)((0,n.Z)((0,n.Z)({remote:!0},e.baseProps),{},{noDataIndication:"Table is Empty",hover:!0},i),{},{filter:(0,P.ZP)(),headerClasses:"bg-gray-500 text-white whitespace-nowrap",onTableChange:J,rowEvents:W,rowStyle:q}))}),(0,w.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,w.jsx)(F.dE,(0,n.Z)({},Object.assign({},(0,n.Z)((0,n.Z)({},o),{},{hideSizePerPage:!1})))),(0,w.jsx)(F.yJ,(0,n.Z)({},o))]}),(0,w.jsx)("div",{className:"flex items-center gap-2 mt-2",children:(0,w.jsx)(F.NJ,(0,n.Z)({},o))})]})}})}})},I=(0,l.Pi)((function(e){var t=(0,s.useState)({}),a=(0,r.Z)(t,2),o=a[0],i=(a[1],(0,s.useState)("")),l=(0,r.Z)(i,2),c=l[0],u=l[1],m=(0,s.useState)(e.data),x=(0,r.Z)(m,2),f=x[0],h=x[1];return(0,s.useEffect)((function(){var t,a;u(e.selectId||""),h(e.selectId?null===(t=e.data)||void 0===t||null===(a=t.filter((function(t){return t._id===e.selectId})))||void 0===a?void 0:a.map((function(t){return(0,n.Z)((0,n.Z)({},t),{},{selectedId:e.selectId})})):e.data)}),[e.selectId,e.data]),(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"".concat(e.isView?"shown":"hidden"),children:(0,w.jsx)(D,{id:"_id",data:f,totalSize:e.totalSize,selectedItem:o,columns:[{dataField:"_id",text:"Id",hidden:!0,csvExport:!1},{dataField:"headerId",text:"Header Id",sort:!0,editable:!1},{dataField:"collectionCenter",text:"Collection Center",sort:!0,editable:!1},{dataField:"corporateCode",text:"Corporate Code",sort:!0,editable:!1},{dataField:"labId",text:"Lab Id",sort:!0,editable:!1,headerClasses:"textHeaderm"},{dataField:"invoiceAc",text:"Invoice Ac",sort:!0,editable:!1},{dataField:"invoiceDate",text:"Invoice Date",sort:!0,editable:!1,headerClasses:"textHeaderm",formatter:function(e,t){return t.invoiceDate&&p()(t.invoiceDate).format("DD-MM-YYYY HH:mm:ss")}},{dataField:"actionDate",text:"Action Date",sort:!0,editable:!1,headerClasses:"textHeaderm",formatter:function(e,t){return t.actionDate&&p()(t.actionDate).format("DD-MM-YYYY HH:mm:ss")}},{dataField:"registrationDate",text:"Registration Date",sort:!0,headerClasses:"textHeaderm",editable:!1,formatter:function(e,t){return t.registrationDate&&p()(t.registrationDate).format("DD-MM-YYYY HH:mm:ss")}},{dataField:"dueDate",text:"Due Date",sort:!0,headerClasses:"textHeaderm",editable:!1,formatter:function(e,t){return t.dueDate&&p()(t.dueDate).format("DD-MM-YYYY HH:mm:ss")}},{dataField:"reportingDate",text:"Reporting Date",sort:!0,editable:!1,headerClasses:"textHeaderm",formatter:function(e,t){return t.reportingDate&&p()(t.reportingDate).format("DD-MM-YYYY HH:mm:ss")}},{dataField:"doctorId",text:"Doctor Id",sort:!0,editable:!1},{dataField:"pId",text:"PId",sort:!0,editable:!1},{dataField:"grossAmount",text:"Gross Amount",sort:!0,editable:!1},{dataField:"netAmount",text:"NetAmount",sort:!0,editable:!1},{dataField:"discountAmount",text:"Discount Amount",sort:!0,editable:!1},{dataField:"discountPer",text:"Discount Per",sort:!0,editable:!1},{dataField:"miscellaneousCharges",text:"Miscellaneous Charges",sort:!0,editable:!1},{dataField:"allMiscCharges",text:"All Misc Charges",headerClasses:"textHeader3",sort:!0,csvFormatter:function(e,t){return e||""},editable:!1,formatter:function(e,t){var a;return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"flex flex-row gap-2",children:null===t||void 0===t||null===(a=t.allMiscCharges)||void 0===a?void 0:a.map((function(e){var t;return(0,w.jsx)("span",{children:(null===e||void 0===e?void 0:e.code)+" - "+(null===e||void 0===e||null===(t=e.amount)||void 0===t?void 0:t.toString())})}))})})}},{dataField:"discountCharges",text:"Other Charges",sort:!0,editable:!1,formatter:function(e,t){var a,n,o;return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"flex flex-row gap-2",children:(null===t||void 0===t?void 0:t.discountCharges)&&(0,w.jsx)("span",{children:(null===t||void 0===t||null===(a=t.discountCharges)||void 0===a?void 0:a.code)+" - "+(null===t||void 0===t||null===(n=t.discountCharges)||void 0===n||null===(o=n.amount)||void 0===o?void 0:o.toString())})})})}},{dataField:"receivedAmount",text:"Received Amount",sort:!0,editable:!1},{dataField:"balance",text:"Balance",sort:!0,editable:!1},{dataField:"acClass",text:"AC Class",sort:!0,editable:!1},{dataField:"accountType",text:"Account Type",sort:!0,editable:!1},{dataField:"customerGroup",text:"Customer Group",sort:!0,editable:!1},{dataField:"status",text:"Status",sort:!0,editable:!1},{dataField:"enteredBy",text:"Entered By",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{text:"Company Code",dataField:"companyCode",sort:!0,editable:!1},{text:"Environment",dataField:"environment",editable:!1,sort:!0},{dataField:"operation",text:"Report",editable:!1,csvExport:!1,formatter:function(t,a){return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"flex flex-row",children:[(0,w.jsx)(d.u,{tooltipText:"Generate PDF",children:(0,w.jsx)(d.PJ.IconContext,{color:"#fff",size:"20",onClick:function(){return e.onReport&&e.onReport(a)},children:d.PJ.getIconTag(d.PJ.Iconai.AiOutlineFilePdf)})}),c===a._id?(0,w.jsx)(d.u,{tooltipText:"close",children:(0,w.jsx)(d.PJ.IconContext,{color:"#fff",size:"20",onClick:function(){e.onExpand&&e.onExpand("")},children:d.PJ.getIconTag(d.PJ.Iconai.AiFillMinusCircle)})}):(0,w.jsx)(d.u,{tooltipText:"Expand",children:(0,w.jsx)(d.PJ.IconContext,{color:"#fff",size:"20",onClick:function(){e.onExpand&&e.onExpand(a)},children:d.PJ.getIconTag(d.PJ.Iconai.AiFillPlusCircle)})})]})})},headerClasses:"sticky right-0  bg-gray-500 text-white z-50",classes:function(e,t,a,n){return"sticky right-0 bg-gray-500"},style:function(t,a,n,o){var i;return{zIndex:(null===(i=e.data)||void 0===i?void 0:i.length)-n}}}],isDelete:e.isDelete,isEditModify:e.isUpdate,isExport:e.isExport,isSelectRow:!0,fileName:"Report Delivery",onSelectedRow:function(t){e.onSelectedRow&&e.onSelectedRow(t.map((function(e){return e._id})))},onUpdateItem:function(t,a,n){e.onUpdateItem&&e.onUpdateItem(t,a,n)},onPageSizeChange:function(t,a){e.onPageSizeChange&&e.onPageSizeChange(t,a)},onFilter:function(t,a,n,o){e.onFilter&&e.onFilter(t,a,n,o)},clearAllFilter:function(){},onClickRow:function(e){}})})})})),Z=(v.Search.SearchBar,v.Search.ClearSearchButton,v.CSVExport.ExportCSVButton,function(e){var t=e.id,a=e.data,o=e.totalSize,i=void 0===o?10:o,l=(e.searchPlaceholder,e.page),d=void 0===l?0:l,c=e.sizePerPage,u=void 0===c?10:c,m=e.columns,h=e.fileName,v=(e.isDelete,e.isEditModify),S=(e.isExport,e.isSelectRow,e.selectedItem),y=(e.onSelectedRow,e.onUpdateItem),j=e.onPageSizeChange,D=e.onFilter,I=(e.clearAllFilter,e.onClickRow),Z=(0,s.useState)(),E=(0,r.Z)(Z,2),N=(E[0],E[1],(0,s.useState)(!1)),z=(0,r.Z)(N,2),T=(z[0],z[1],{cutome:!0,totalSize:i,paginationSize:5,pageStartIndex:0,firstPageText:"<<",prePageText:"<",nextPageText:">",lastPageText:">>",disablePageTitle:!0,paginationTotalRenderer:function(e,t,a){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"clearfix"}),(0,w.jsxs)("span",{children:["Showing ",e," to ",t," of ",a," Results"]})]})},hideSizePerPage:!0,showTotal:!1,alwaysShowAllBtns:!0,sizePerPageList:[{text:"10",value:10},{text:"20",value:20},{text:"30",value:30},{text:"40",value:40},{text:"50",value:50}],hidePageListOnlyOnePage:!0,sizePerPageRenderer:function(e){var t=e.options,a=e.currSizePerPage,n=e.onSizePerPageChange;return(0,w.jsxs)("div",{className:"btn-group items-center",role:"group",children:[(0,w.jsx)("input",{type:"number",min:"0",placeholder:"No",onChange:function(e){e.target.value&&n(e.target.value)},className:"mr-2 ml-2 leading-4 p-2 w-14 focus:outline-none focus:ring block  shadow-sm sm:text-base border border-gray-300 rounded-md"}),t.map((function(e){return(0,w.jsx)("button",{type:"button",onClick:function(){return n(e.page)},className:"btn  ".concat(a==="".concat(e.page)?"bg-primary":"bg-grey"),children:e.text},e.text)}))]})}}),A=function(e,t){var a=t.data,n=t.cellEdit,o=t.page,s=t.sizePerPage,l=t.filters,d=t.sortField,c=t.sortOrder,u=t.searchText;if("cellEdit"===e&&v&&y&&y(n.newValue,n.dataField,n.rowId),"pagination"===e&&g().isEmpty(l)&&j&&j(o,s),"filter"===e||"pagination"===e&&!g().isEmpty(l)){if("pagination"===e){if(s>i)return alert("You have not more records.");if(o*s>i)return alert("You have not more records.")}for(var m={},p=0,f=Object.entries(l);p<f.length;p++){var h=(0,r.Z)(f[p],2),b=h[0],F=h[1],P=(0,x.Z)({},b,F.filterVal);m=Object.assign(m,P)}D&&(0,C.Ds)((function(){D(e,m,"filter"===e&&1===o?0:o,s)}))}("search"===e&&(0,C.Ds)((function(){D&&D(e,{srText:u},o,s)})),"sort"===e)&&("asc"===c?a.sort((function(e,t){return e[d]>t[d]?1:t[d]>e[d]?-1:0})):a.sort((function(e,t){return e[d]>t[d]?-1:t[d]>e[d]?1:0})))},R={onClick:function(e,t,a){I&&I(t,a)}},k=function(e,t){if(e._id==(null===S||void 0===S?void 0:S._id))return{backgroundColor:"#a9a9a9"}};return(0,w.jsx)(F.bN,{pagination:(0,F.ZP)(0!==i?T:{page:d,sizePerPage:u,totalSize:i}),keyField:t,columns:m,data:a,children:function(e){e.paginationProps;var o=e.paginationTableProps;return(0,w.jsx)(b(),{keyField:t,bootstrap4:!0,data:a,columns:m,search:!0,exportCSV:{fileName:"".concat(h,"_").concat(p()(new Date).format("YYYY-MM-DD HH:mm"),".csv"),noAutoBOM:!1,blobType:"text/csv;charset=ansi",exportAll:!1,onlyExportFiltered:!0},columnToggle:!0,children:function(e){return(0,w.jsx)("div",{children:(0,w.jsx)("div",{className:"scrollTable",children:(0,w.jsx)(f.Z,(0,n.Z)((0,n.Z)((0,n.Z)({remote:!0},e.baseProps),{},{noDataIndication:"Table is Empty",hover:!0},o),{},{filter:(0,P.ZP)(),headerClasses:"bg-gray-500 text-white whitespace-nowrap",onTableChange:A,rowEvents:R,rowStyle:k}))})})}})}})}),E=(0,l.Pi)((function(e){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"".concat(e.isView?"shown":"hidden"),children:(0,w.jsx)(Z,{id:"_id",data:e.data,totalSize:e.totalSize,columns:[{dataField:"_id",text:"Id",hidden:!0,csvExport:!1},{dataField:"headerId",text:"Header Id",sort:!0,editable:!1},{dataField:"lineId",text:"Line Id",sort:!0,editable:!1},{dataField:"rLab",text:"RLab",sort:!0,editable:!1},{dataField:"pLab",text:"PLab",sort:!0,editable:!1},{dataField:"collectionCenter",text:"Collection Center",sort:!0,editable:!1},{dataField:"collectionCenterName",text:"Collection Center Name",sort:!0,editable:!1,headerClasses:"textHeader",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0,maxWidth:"250px",position:"relative"},formatter:function(e,t){return(0,w.jsx)("span",{title:t.collectionCenterName,children:e})}},{dataField:"corporateCode",text:"Corporate Code",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"invoiceAC",text:"Invoice AC",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"invoiceDate",text:"Invoice Date",sort:!0,csvFormatter:function(e){return e||""},editable:!1,headerClasses:"textHeaderm",formatter:function(e,t){return p()(t.invoiceDate).format("DD-MM-YYYY HH:mm:ss")}},{dataField:"actionDate",text:"Action Date",sort:!0,headerClasses:"textHeaderm",csvFormatter:function(e){return e||""},editable:!1,formatter:function(e,t){return p()(t.actionDate).format("DD-MM-YYYY HH:mm:ss")}},{dataField:"receipt",text:"Receipt",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"pId",text:"PId",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"labId",text:"LabId",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"acSub",text:"AC Sub",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"department",text:"Department",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"serviceType",text:"Service Type",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"panelCode",text:"Panel Code",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"panelName",text:"Panel Name",sort:!0,csvFormatter:function(e){return e||""},editable:!1,headerClasses:"textHeader",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0,maxWidth:"250px",position:"relative"},formatter:function(e,t){return(0,w.jsx)("span",{title:t.panelName,children:e})}},{dataField:"priceGroup",text:"Price Group",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"priceList",text:"Price List",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"grossAmount",text:"Gross Amount",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"netAmount",text:"Net Amount",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"discountAmount",text:"Discount Amount",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"discountPer",text:"Discount Per",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"miscellaneousCharges",text:"Miscellaneous Charges",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"transaction",text:"Transaction",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"acClass",text:"AC Class",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"accountType",text:"Account Type",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"customerGroup",text:"Customer Group",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"status",text:"Status",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"enteredBy",text:"Entered By",sort:!0,csvFormatter:function(e){return e||""},editable:!1}],isDelete:e.isDelete,isEditModify:e.isUpdate,isExport:e.isExport,isSelectRow:!0,fileName:"Order Delivered",onSelectedRow:function(t){e.onSelectedRow&&e.onSelectedRow(t.map((function(e){return e._id})))},onUpdateItem:function(t,a,n){e.onUpdateItem&&e.onUpdateItem(t,a,n)},onPageSizeChange:function(t,a){e.onPageSizeChange&&e.onPageSizeChange(t,a)},onFilter:function(t,a,n,o){e.onFilter&&e.onFilter(t,a,n,o)},clearAllFilter:function(){}})})})})),N=a(17375),z=(a(70042),a(53946)),T=(a(3069),(0,l.Pi)((function(){var e,t=(0,z.mZ)(),a=(t.loading,t.transactionDetailsStore),l=t.routerStore,m=t.loginStore,p=t.receiptStore,x=(0,c.cI)(),f=(x.control,x.handleSubmit,x.formState.errors,x.setValue,(0,s.useState)("")),h=(0,r.Z)(f,2),g=h[0],v=h[1],b=(0,s.useState)([]),F=(0,r.Z)(b,2),P=(F[0],F[1],(0,s.useState)()),C=(0,r.Z)(P,2),S=C[0],y=C[1],j=(0,s.useState)(),D=(0,r.Z)(j,2),Z=D[0],T=D[1],A=(0,s.useState)(),R=(0,r.Z)(A,2),k=R[0],Y=R[1],H=(0,s.useMemo)((function(){return(0,w.jsx)(I,{data:a.transactionHeaderList||[],totalSize:a.transactionHeaderListCount,isView:u.o.checkPermission(l.userPermission,"View"),isDelete:u.o.checkPermission(l.userPermission,"Delete"),selectId:g,isUpdate:u.o.checkPermission(l.userPermission,"Update"),isExport:u.o.checkPermission(l.userPermission,"Export"),onUpdate:function(e){return y(e)},onSelectedRow:function(e){y({show:!0,type:"delete",id:e,title:"Are you sure?",body:"Do you want to delete selected record?"})},onUpdateItem:function(e,t,a){y({show:!0,type:"update",data:{value:e,dataField:t,id:a},title:"Are you sure?",body:"Update items!"})},onPageSizeChange:function(e,t){},onFilter:function(e,t,a,n){},onExpand:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(null===t||void 0===t?void 0:t._id),"object"==typeof t?a.transactionDetailsService.findByFieldsTransactionLine({input:{filter:{headerId:null===t||void 0===t?void 0:t.headerId}}}):a.updateTransactionListList([]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onReport:function(e){p.receiptService.generatePaymentReceipt({input:{headerId:null===e||void 0===e?void 0:e.headerId}}).then((function(e){var t,a;null!==(t=e.generatePaymentReceipt)&&void 0!==t&&t.success?T({show:!0,data:null===(a=e.generatePaymentReceipt)||void 0===a?void 0:a.receiptData}):d.FN.error({message:"\ud83d\ude14 ".concat(e.generatePaymentReceipt.message)})}))}})}),[a.transactionHeaderList,g]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(d._q,{title:(null===(e=l.selectedComponents)||void 0===e?void 0:e.title)||"",store:m}),(0,w.jsxs)("div",{className:"p-1 rounded-lg shadow-xl overflow-auto",children:[(0,w.jsx)("span",{className:"font-bold text-lg underline",children:"Transaction Header"}),H]}),a.transactionListList.length>0&&(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"p-1 rounded-lg shadow-xl overflow-auto",children:[(0,w.jsx)("span",{className:"font-bold text-lg underline",children:"Transaction Line"}),(0,w.jsx)(E,{data:a.transactionListList||[],totalSize:a.transactionListListCount,isView:u.o.checkPermission(l.userPermission,"View"),isDelete:u.o.checkPermission(l.userPermission,"Delete"),isUpdate:u.o.checkPermission(l.userPermission,"Update"),isExport:u.o.checkPermission(l.userPermission,"Export"),onDelete:function(e){return y(e)},onSelectedRow:function(e){y({show:!0,type:"delete",id:e,title:"Are you sure?",body:"Do you want to delete selected record?"})},onUpdateItem:function(e,t,a){y({show:!0,type:"update",data:{value:e,dataField:t,id:a},title:"Are you sure?",body:"Do you want to update this record?"})},onPageSizeChange:function(e,t){},onFilter:function(e,t,a,n){}}),(0,w.jsx)(d.WZ,(0,n.Z)((0,n.Z)({},S),{},{click:function(e){},close:function(){y({show:!1})}})),(0,w.jsx)(N.q,(0,n.Z)((0,n.Z)({},Z),{},{onClose:function(){T({show:!1})},onReceiptUpload:function(e,t){k?window.open(t+k,"_blank"):p.receiptService.paymentReceiptUpload({input:{file:e}}).then((function(e){var a,n;e.paymentReceiptUpload.success&&(Y(null===(a=e.paymentReceiptUpload)||void 0===a?void 0:a.receiptPath),window.open("".concat(t," ").concat(null===(n=e.paymentReceiptUpload)||void 0===n?void 0:n.receiptPath),"_blank"))}))}}))]})})]})}))),A=T}}]);
//# sourceMappingURL=8612.6405858c.chunk.js.map