"use strict";(self.webpackChunklimsplus_portal=self.webpackChunklimsplus_portal||[]).push([[7931],{17931:function(e,t,a){a.r(t),a.d(t,{default:function(){return H}});var n,o=a(74165),i=a(15861),l=a(1413),r=a(29439),s=a(72791),d=a(71672),c=a(51202),u=a(61134),p=a(10621),g=a(97892),x=a.n(g),m=a(4942),f=a(2002),v=a(763),h=a.n(v),b=a(33294),P=a.n(b),S=a(12657),C=a(36161),j=a(92746),y=(a(26192),a(65028)),F=a(80184),w=b.Search.SearchBar,N=b.Search.ClearSearchButton,R=b.CSVExport.ExportCSVButton,T=function(e){var t=e.id,a=e.data,n=e.totalSize,o=void 0===n?10:n,i=e.searchPlaceholder,d=void 0===i?"Search...":i,u=e.page,p=void 0===u?0:u,g=e.sizePerPage,v=void 0===g?10:g,b=e.columns,T=e.fileName,Z=e.isEditModify,I=e.isSelectRow,z=(e.selectedItem,e.onSelectedRow),k=e.onUpdateItem,E=e.onPageSizeChange,A=e.onFilter,D=e.clearAllFilter,M=e.onClickRow,O=(0,s.useState)(),J=(0,r.Z)(O,2),_=J[0],Y=J[1],U=(0,s.useState)(!1),B=(0,r.Z)(U,2),L=B[0],V=B[1],H={cutome:!0,totalSize:o,paginationSize:5,pageStartIndex:0,firstPageText:"<<",prePageText:"<",nextPageText:">",lastPageText:">>",disablePageTitle:!0,paginationTotalRenderer:function(e,t,a){return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:"clearfix"}),(0,F.jsxs)("span",{children:["Showing ",e," to ",t," of ",a," Results"]})]})},hideSizePerPage:!0,showTotal:!1,alwaysShowAllBtns:!0,sizePerPageList:[{text:"10",value:10},{text:"20",value:20},{text:"30",value:30},{text:"40",value:40},{text:"50",value:50}],hidePageListOnlyOnePage:!0,sizePerPageRenderer:function(e){var t=e.options,a=e.currSizePerPage,n=e.onSizePerPageChange;return(0,F.jsxs)("div",{className:"btn-group items-center",role:"group",children:[I&&(0,F.jsxs)("div",{className:"flex flex-row gap-1 border-solid border-2 p-1",children:[(0,F.jsx)(c.u,{tooltipText:"Approved",children:(0,F.jsx)(c.PJ.IconContext,{color:"#6A727F",size:"30",onClick:function(){z&&z(_,"Approved")},children:c.PJ.getIconTag(c.PJ.Iconai.AiFillCheckCircle)})}),(0,F.jsx)(c.u,{tooltipText:"Rejected",children:(0,F.jsx)(c.PJ.IconContext,{color:"#6A727F",size:"30",onClick:function(){z&&z(_,"Rejected")},children:c.PJ.getIconTag(c.PJ.Iconai.AiFillCloseCircle)})})]}),(0,F.jsx)("input",{type:"number",min:"0",placeholder:"No",onChange:function(e){e.target.value&&n(e.target.value)},className:"mr-2 ml-2 leading-4 p-2 w-14 focus:outline-none focus:ring block  shadow-sm sm:text-base border border-gray-300 rounded-md"}),t.map((function(e){return(0,F.jsx)("button",{type:"button",onClick:function(){return n(e.page)},className:"btn  ".concat(a==="".concat(e.page)?"bg-primary":"bg-grey"),children:e.text},e.text)}))]})}},K={placeholder:d},G=function(e,t){if(t)if(_){var a=_;a.push(e),Y(a)}else Y([e])},$=function(e,t){e&&Y(t)},W=function(e,t){var a=t.data,n=t.cellEdit,i=t.page,l=t.sizePerPage,s=t.filters,d=t.sortField,c=t.sortOrder,u=t.searchText;if("cellEdit"===e&&Z&&k&&k(n.newValue,n.dataField,n.rowId),"pagination"===e&&h().isEmpty(s)&&E&&E(i,l),"filter"===e||"pagination"===e&&!h().isEmpty(s)){if("pagination"===e){if(l>o)return alert("You have not more records.");if(i*l>o)return alert("You have not more records.")}for(var p={},g=0,x=Object.entries(s);g<x.length;g++){var f=(0,r.Z)(x[g],2),v=f[0],b=f[1],P=(0,m.Z)({},v,b.filterVal);p=Object.assign(p,P)}A&&(0,y.Ds)((function(){A(e,p,"filter"===e&&1===i?0:i,l)}))}("search"===e&&(0,y.Ds)((function(){A&&A(e,{srText:u},i,l)})),"sort"===e)&&("asc"===c?a.sort((function(e,t){return e[d]>t[d]?1:t[d]>e[d]?-1:0})):a.sort((function(e,t){return e[d]>t[d]?-1:t[d]>e[d]?1:0})))},q=function(e){var t=e.columns,a=e.onColumnToggle,n=e.toggles;return(0,F.jsx)("div",{className:"btn-group btn-group-toggle","data-toggle":"buttons",children:t.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{toggle:n[e.dataField]})})).map((function(e,t){if(t>0)return(0,F.jsx)("button",{type:"button",className:" btn btn-primary  btn-sm whitespace-nowrap ".concat(e.toggle?"active":""),"data-toggle":"button","aria-pressed":e.toggle?"true":"false",onClick:function(){return a(e.dataField)},children:e.text},e.dataField)}))})},Q={onClick:function(e,t,a){M&&M(t,a)}},X=function(e,t){var a,n,o,i,l;switch(null===e||void 0===e||null===(a=e.colorScheme)||void 0===a?void 0:a.envRangeColor){case"BOTH":return{backgroundColor:null===e||void 0===e||null===(n=e.colorScheme)||void 0===n?void 0:n.cellColor,color:null===e||void 0===e||null===(o=e.colorScheme)||void 0===o?void 0:o.fontColor};case"BACKGROUND":return{backgroundColor:null===e||void 0===e||null===(i=e.colorScheme)||void 0===i?void 0:i.cellColor};case"FONT":return{color:null===e||void 0===e||null===(l=e.colorScheme)||void 0===l?void 0:l.fontColor}}};return(0,F.jsx)(C.bN,{pagination:(0,C.ZP)(0!==o?H:{page:p,sizePerPage:v,totalSize:o}),keyField:t,columns:b,data:a,children:function(e){var n=e.paginationProps,o=e.paginationTableProps;return(0,F.jsx)(P(),{keyField:t,bootstrap4:!0,data:a,columns:b,search:!0,exportCSV:{fileName:"".concat(T,"_").concat(x()(new Date).format("YYYY-MM-DD HH:mm"),".csv"),noAutoBOM:!1,blobType:"text/csv;charset=ansi",exportAll:!1,onlyExportFiltered:!0},columnToggle:!0,children:function(e){return(0,F.jsxs)("div",{children:[(0,F.jsxs)("div",{className:"flex items-center flex-wrap",children:[(0,F.jsx)(w,(0,l.Z)((0,l.Z)((0,l.Z)({},K),e.searchProps),{},{onChange:function(e){console.log({value:e})}})),(0,F.jsx)(N,(0,l.Z)({className:"inline-flex ml-4 bg-gray-500 items-center small outline shadow-sm  font-medium  disabled:opacity-50 disabled:cursor-not-allowed text-center h-9 text-white"},e.searchProps)),(0,F.jsx)("button",{className:"ml-2 px-2 focus:outline-none bg-gray-500 items-center  outline shadow-sm  font-medium  text-center rounded-md h-9 text-white",onClick:D,children:"Clear all filters"}),(0,F.jsx)(R,(0,l.Z)((0,l.Z)({className:"inline-flex m-2.5 bg-gray-500 items-center  small outline shadow-sm  font-medium  disabled:opacity-50 disabled:cursor-not-allowed text-center h-9 text-white"},e.csvProps),{},{children:"Export CSV!!"})),L?(0,F.jsx)(c.EK.zx,{size:"medium",type:"outline",onClick:function(){V(!L)},children:(0,F.jsx)(c.PJ.IconFa.FaChevronUp,{})}):(0,F.jsx)(c.EK.zx,{size:"medium",type:"outline",onClick:function(){V(!L)},children:(0,F.jsx)(c.PJ.IconFa.FaChevronDown,{})})]}),L&&(0,F.jsx)("div",{className:"mb-2 overflow-auto h-10",children:(0,F.jsx)(q,(0,l.Z)({contextual:"primary",className:"list-custom-class",btnClassName:"list-btn-custom-class"},e.columnToggleProps))}),(0,F.jsx)("div",{className:"scrollTable",children:(0,F.jsx)(f.Z,(0,l.Z)((0,l.Z)((0,l.Z)({remote:!0},e.baseProps),{},{noDataIndication:"Table is Empty",hover:!0},o),{},{filter:(0,j.ZP)(),headerClasses:"bg-gray-500 text-white whitespace-nowrap",selectRow:I?{mode:"checkbox",onSelect:G,onSelectAll:$}:void 0,cellEdit:Z?(0,S.ZP)({mode:"dbclick",blurToSave:!0}):void 0,rowEvents:Q,rowStyle:X,onTableChange:W}))}),(0,F.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,F.jsx)(C.dE,(0,l.Z)({},Object.assign({},(0,l.Z)((0,l.Z)({},n),{},{hideSizePerPage:!1})))),(0,F.jsx)(C.yJ,(0,l.Z)({},n))]}),(0,F.jsx)("div",{className:"flex items-center gap-2 mt-2",children:(0,F.jsx)(C.NJ,(0,l.Z)({},n))})]})}})}})},Z=function(e){var t=e.id,a=e.data,n=void 0===a?[]:a,o=e.totalSize,i=void 0===o?10:o,s=(e.searchPlaceholder,e.page),d=void 0===s?0:s,c=e.sizePerPage,u=void 0===c?10:c,p=e.columns,g=(e.onSelectedRow,e.onUpdateItem),x=e.onPageSizeChange,v=e.onFilter,b=(e.clearAllFilter,{cutome:!0,totalSize:i,paginationSize:5,pageStartIndex:0,firstPageText:"<<",prePageText:"<",nextPageText:">",lastPageText:">>",disablePageTitle:!0,paginationTotalRenderer:function(e,t,a){return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:"clearfix"}),(0,F.jsxs)("span",{children:["Showing ",e," to ",t," of ",a," Results"]})]})},hideSizePerPage:!0,showTotal:!1,alwaysShowAllBtns:!0,sizePerPageList:[{text:"10",value:10},{text:"20",value:20},{text:"30",value:30},{text:"40",value:40},{text:"50",value:50}],hidePageListOnlyOnePage:!0,sizePerPageRenderer:function(e){var t=e.options,a=e.currSizePerPage,n=e.onSizePerPageChange;return(0,F.jsxs)("div",{className:"btn-group items-center",role:"group",children:[(0,F.jsx)("input",{type:"number",min:"0",placeholder:"No",onChange:function(e){e.target.value&&n(e.target.value)},className:"mr-2 ml-2 leading-4 p-2 w-14 focus:outline-none focus:ring block  shadow-sm sm:text-base border border-gray-300 rounded-md"}),t.map((function(e){return(0,F.jsx)("button",{type:"button",onClick:function(){return n(e.page)},className:"btn ".concat(a==="".concat(e.page)?"btn-primary":"btn-secondary"),children:e.text},e.text)}))]})}}),S=function(e,t){var a=t.data,n=t.cellEdit,o=t.page,l=t.sizePerPage,s=t.filters,d=t.sortField,c=t.sortOrder,u=t.searchText;if("cellEdit"===e&&g&&g(n.newValue,n.dataField,n.rowId),"pagination"===e&&h().isEmpty(s)&&x&&x(o,l),"filter"===e||"pagination"===e&&!h().isEmpty(s)){if("pagination"===e){if(l>i)return alert("You have not more records.");if(o*l>i)return alert("You have not more records.")}for(var p={},f=0,b=Object.entries(s);f<b.length;f++){var P=(0,r.Z)(b[f],2),S=P[0],C=P[1],j=(0,m.Z)({},S,C.filterVal);p=Object.assign(p,j)}v&&(0,y.Ds)((function(){v(e,p,"filter"===e&&1===o?0:o,l)}))}("search"===e&&(0,y.Ds)((function(){v&&v(e,{srText:u},o,l)})),"sort"===e)&&("asc"===c?a.sort((function(e,t){return e[d]>t[d]?1:t[d]>e[d]?-1:0})):a.sort((function(e,t){return e[d]>t[d]?-1:t[d]>e[d]?1:0})))},w=function(e,t){var a,n,o,i,l;switch(null===e||void 0===e||null===(a=e.colorScheme)||void 0===a?void 0:a.envRangeColor){case"BOTH":return{backgroundColor:null===e||void 0===e||null===(n=e.colorScheme)||void 0===n?void 0:n.cellColor,color:null===e||void 0===e||null===(o=e.colorScheme)||void 0===o?void 0:o.fontColor};case"BACKGROUND":return{backgroundColor:null===e||void 0===e||null===(i=e.colorScheme)||void 0===i?void 0:i.cellColor};case"FONT":return{color:null===e||void 0===e||null===(l=e.colorScheme)||void 0===l?void 0:l.fontColor}}};return(0,F.jsx)(C.bN,{pagination:(0,C.ZP)(0!==i?b:{page:d,sizePerPage:u,totalSize:i}),keyField:t,columns:p,data:n,children:function(e){e.paginationProps;var a=e.paginationTableProps;return(0,F.jsx)(P(),{keyField:t,bootstrap4:!0,data:n,columns:p,search:!0,columnToggle:!0,children:function(e){return(0,F.jsx)("div",{style:{maxWidth:200},children:(0,F.jsx)(f.Z,(0,l.Z)((0,l.Z)((0,l.Z)({remote:!0},e.baseProps),{},{noDataIndication:"Table is Empty",hover:!0},a),{},{filter:(0,j.ZP)(),headerClasses:"bg-gray-500 text-white whitespace-nowrap",onTableChange:S,rowStyle:w}))})}})}})},I=a(73042),z=a(97430),k=function(e){var t=(0,s.useState)(""),a=(0,r.Z)(t,2),d=a[0],u=a[1],p=(0,s.useState)(e.data),g=(0,r.Z)(p,2),m=g[0],f=g[1],v=(0,s.useState)(""),h=(0,r.Z)(v,2),b=h[0],P=h[1];return(0,s.useEffect)((function(){u(e.selectedId||""),f(e.selectedId?e.data.map((function(t){return(0,l.Z)((0,l.Z)({},t),{},{selectedId:e.selectedId})})):e.data)}),[e.selectedId,e.data]),(0,s.useEffect)((function(){f(JSON.parse(JSON.stringify(m)))}),[b]),(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("div",{style:{position:"relative"},children:(0,F.jsx)(T,{id:"_id",data:m,totalSize:e.totalSize,columns:[{dataField:"_id",text:"Id",hidden:!0,csvExport:!1},{dataField:"labId",text:"Lab Id",sort:!0,editable:!1,headerStyle:{fontSize:0},sortCaret:function(e,t){return(0,c.t$)(e,t)},headerClasses:"textHeader3",filter:(0,c.w9)({getFilter:function(e){n=e}}),filterRenderer:function(e,t){return(0,F.jsx)(c.Tj,{onFilter:e,column:t})}},{dataField:"test",text:"Test",sort:!0,editable:!1,headerClasses:"textHeader"},{dataField:"analyte",text:"Analyte",sort:!0,editable:!1,headerClasses:"textHeaderl"},{dataField:"result",text:"Result",sort:!0,headerClasses:"textHeaderl",editorRenderer:function(t,a,n,r,s,d){return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(I.Y,{row:n,onSelect:function(){var t=(0,i.Z)((0,o.Z)().mark((function t(a){var i;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=(0,l.Z)((0,l.Z)({},n),a),e.onUpdateResult&&e.onUpdateResult((0,l.Z)((0,l.Z)({},i),{},{resultStatus:(0,z.N0)(i.resultType,i),testStatus:(0,z.vL)(i.resultType,i),abnFlag:(0,z.cL)(i.resultType,i),critical:(0,z.O3)(i.resultType,i)},a),i.patientResultId);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})})}},{dataField:"final",text:"Final",sort:!0,editable:!1,headerClasses:"textHeaderl"},{dataField:"abnFlag",text:"Abn Flag",sort:!0,editable:!1,formatter:function(e,t){return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(c.l0.ZD,{disabled:!0,value:t.abnFlag})})}},{dataField:"critical",text:"Critical",sort:!0,editable:!1,formatter:function(e,t){return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(c.l0.ZD,{disabled:!0,value:t.critical})})}},{dataField:"units",text:"Units",sort:!0,editable:!1},{dataField:"refRangesList",text:"Ref Ranges",sort:!0,editable:!1,headerClasses:"textHeader16",formatter:function(e,t){var a,n;return(0,F.jsxs)("div",{className:"flex flex-col",children:[(null===(a=t.refRangesList)||void 0===a?void 0:a.length)>0&&(0,F.jsx)(c.u,{tooltipText:t._id!=b?"Expand":"Collapse",children:(0,F.jsx)(c.PJ.IconContext,{color:"#000000",size:"20",onClick:function(){t._id==b?P(""):P(t._id)},children:c.PJ.getIconTag(t._id!=b?c.PJ.IconBi.BiExpand:c.PJ.IconBi.BiCollapse)})}),b==t._id?(0,F.jsx)(Z,{id:"_id",data:(null===t||void 0===t?void 0:t.refRangesList)||[],totalSize:(null===t||void 0===t||null===(n=t.refRangesList)||void 0===n?void 0:n.length)||0,columns:[{dataField:"result",text:"Result",editable:!1,formatter:function(){return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("span",{children:t.result})})}},{dataField:"rangeType",text:"Range Type"},{dataField:"low",text:"Low"},{dataField:"high",text:"High"},{dataField:"rangeSetOn",text:"Range Set On"},{dataField:"rangeId",text:"Range Id"},{dataField:"version",text:"Range Version"}],onSelectedRow:function(e){},onUpdateItem:function(e,t,a){}}):null]})}},{dataField:"conclusion",text:"Conclusion",headerClasses:"textHeader",editorRenderer:function(t,a,n,o,i,l){return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(c.l0.$l,{rows:3,placeholder:"Conclusion",onBlur:function(t){e.onUpdateFields&&e.onUpdateFields({conclusion:t},n._id)},defaultValue:null===n||void 0===n?void 0:n.conclusion})})}},{dataField:"remarks",text:"Remarks",sort:!0,editable:!1},{dataField:"deltaFlag",text:"Delta Flag",sort:!0,editable:!1,formatter:function(e,t){return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(c.l0.ZD,{disabled:!0,value:t.deltaFlag})})}},{dataField:"deltaValue",text:"Delta Value",sort:!0,editable:!1},{dataField:"resultStatus",text:"resultStatus",sort:!0,editable:!1},{dataField:"testStatus",text:"Test Status",sort:!0,editable:!1},{dataField:"approvalDate",text:"Approval Date",sort:!0,editable:!1,formatter:function(e,t){return t.approvalDate?x()(t.approvalDate).format("YYYY-MM-DD"):""}},{dataField:"autoRelease",text:"Auto Release",sort:!0,editable:!1,formatter:function(e,t){return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(c.l0.ZD,{disabled:!0,value:t.autoRelease})})}},{dataField:"enteredBy",text:"Entered By",sort:!0,csvFormatter:function(e){return e||""},editable:!1},{dataField:"approvalStatus",text:"Operation",sort:!0,editable:!0,formatter:function(t,a){return(0,F.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,F.jsx)(c.u,{tooltipText:"Approved",children:(0,F.jsx)(c.PJ.IconContext,{color:"#fff",size:"20",onClick:function(){e.onUpdateFields&&e.onUpdateFields({approvalStatus:"Approved"},a._id)},children:c.PJ.getIconTag(c.PJ.Iconai.AiFillCheckCircle)})}),(0,F.jsx)(c.u,{tooltipText:"Rejected",children:(0,F.jsx)(c.PJ.IconContext,{color:"#fff",size:"20",onClick:function(){e.onUpdateFields&&e.onUpdateFields({approvalStatus:"Rejected"},a._id)},children:c.PJ.getIconTag(c.PJ.Iconai.AiFillCloseCircle)})}),d==a._id?(0,F.jsx)(c.u,{tooltipText:"Expand",children:(0,F.jsx)(c.PJ.IconContext,{color:"#fff",size:"20",onClick:function(){e.onExpand&&e.onExpand("")},children:c.PJ.getIconTag(c.PJ.Iconai.AiFillMinusCircle)})}):(0,F.jsx)(c.u,{tooltipText:"Expand",children:(0,F.jsx)(c.PJ.IconContext,{color:"#fff",size:"20",onClick:function(){e.onExpand&&e.onExpand(a)},children:c.PJ.getIconTag(c.PJ.Iconai.AiFillPlusCircle)})}),(0,F.jsx)(c.u,{tooltipText:"Recheck",children:(0,F.jsx)(c.PJ.IconContext,{color:"#fff",size:"20",onClick:function(){e.onRecheck&&e.onRecheck(null===a||void 0===a?void 0:a._id,null===a||void 0===a?void 0:a.patientResultId)},children:(0,F.jsx)(c.PJ.RIcon,{nameIcon:"GoIssueReopened",propsIcon:{color:"#ffffff"}})})}),(0,F.jsx)(c.u,{tooltipText:"Retest",children:(0,F.jsx)(c.PJ.IconContext,{color:"#fff",size:"20",onClick:function(){e.onRetest&&e.onRetest(null===a||void 0===a?void 0:a._id,null===a||void 0===a?void 0:a.patientResultId)},children:(0,F.jsx)(c.PJ.RIcon,{nameIcon:"VscIssueReopened",propsIcon:{color:"#ffffff"}})})})]},null===a||void 0===a?void 0:a._id)},headerClasses:"sticky right-0  bg-gray-500 text-white z-50",classes:function(e,t,a,n){return"sticky right-0 bg-gray-500"},style:function(t,a,n,o){var i;return{zIndex:(null===(i=e.data)||void 0===i?void 0:i.length)-n}}}],isEditModify:e.isEditModify,isSelectRow:!0,fileName:"Report Panel Approval",onSelectedRow:function(t,a){e.onSelectedRow&&e.onSelectedRow(t,a)},onFilter:function(t,a,n,o){e.onFilter&&e.onFilter(t,a,n,o)},onPageSizeChange:function(t,a){e.onPageSizeChange&&e.onPageSizeChange(t,a)},clearAllFilter:function(){n("")}})})})},E=b.Search.SearchBar,A=b.Search.ClearSearchButton,D=b.CSVExport.ExportCSVButton,M=function(e){var t=e.id,a=e.data,n=e.totalSize,o=void 0===n?10:n,i=e.searchPlaceholder,d=void 0===i?"Search...":i,u=e.page,p=void 0===u?0:u,g=e.sizePerPage,v=void 0===g?10:g,b=e.columns,S=e.fileName,y=e.isEditModify,w=(e.isSelectRow,e.selectedItem),N=(e.onSelectedRow,e.onUpdateItem),R=e.onPageSizeChange,T=e.onFilter,Z=e.clearAllFilter,I=e.onClickRow,z=(0,s.useState)(),k=(0,r.Z)(z,2),M=(k[0],k[1],(0,s.useState)(!1)),O=(0,r.Z)(M,2),J=O[0],_=O[1],Y={cutome:!0,totalSize:o,paginationSize:5,pageStartIndex:0,firstPageText:"<<",prePageText:"<",nextPageText:">",lastPageText:">>",disablePageTitle:!0,paginationTotalRenderer:function(e,t,a){return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:"clearfix"}),(0,F.jsxs)("span",{children:["Showing ",e," to ",t," of ",a," Results"]})]})},hideSizePerPage:!0,showTotal:!1,alwaysShowAllBtns:!0,sizePerPageList:[{text:"10",value:10},{text:"20",value:20},{text:"30",value:30},{text:"40",value:40},{text:"50",value:50}],hidePageListOnlyOnePage:!0,sizePerPageRenderer:function(e){var t=e.options,a=e.currSizePerPage,n=e.onSizePerPageChange;return(0,F.jsxs)("div",{className:"btn-group items-center",role:"group",children:[(0,F.jsx)("input",{type:"number",min:"0",placeholder:"No",onChange:function(e){e.target.value&&n(e.target.value)},className:"mr-2 ml-2 leading-4 p-2 w-14 focus:outline-none focus:ring block  shadow-sm sm:text-base border border-gray-300 rounded-md"}),t.map((function(e){return(0,F.jsx)("button",{type:"button",onClick:function(){return n(e.page)},className:"btn  ".concat(a==="".concat(e.page)?"bg-primary":"bg-grey"),children:e.text},e.text)}))]})}},U={placeholder:d},B=function(e,t){var a=t.data,n=t.cellEdit,i=t.page,l=t.sizePerPage,s=t.filters,d=t.sortField,c=t.sortOrder,u=t.searchText;if("cellEdit"===e&&y&&N&&N(n.newValue,n.dataField,n.rowId),"pagination"===e&&h().isEmpty(s)&&R&&R(i,l),"filter"===e||"pagination"===e&&!h().isEmpty(s)){if("pagination"===e){if(l>o)return alert("You have not more records.");if(i*l>o)return alert("You have not more records.")}for(var p={},g=0,x=Object.entries(s);g<x.length;g++){var f=(0,r.Z)(x[g],2),v=f[0],b=f[1],P=(0,m.Z)({},v,b.filterVal);p=Object.assign(p,P)}T&&T(e,p,"filter"===e&&1===i?0:i,l)}("search"===e&&setTimeout((function(){T&&T(e,{srText:u},i,l)}),2e3),"sort"===e)&&("asc"===c?a.sort((function(e,t){return e[d]>t[d]?1:t[d]>e[d]?-1:0})):a.sort((function(e,t){return e[d]>t[d]?-1:t[d]>e[d]?1:0})))},L=function(e){var t=e.columns,a=e.onColumnToggle,n=e.toggles;return(0,F.jsx)("div",{className:"btn-group btn-group-toggle","data-toggle":"buttons",children:t.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{toggle:n[e.dataField]})})).map((function(e,t){if(t>0)return(0,F.jsx)("button",{type:"button",className:" btn btn-primary  btn-sm whitespace-nowrap ".concat(e.toggle?"active":""),"data-toggle":"button","aria-pressed":e.toggle?"true":"false",onClick:function(){return a(e.dataField)},children:e.text},e.dataField)}))})},V={onClick:function(e,t,a){I&&I(t,a)}},H=function(e,t){if(e._id==(null===w||void 0===w?void 0:w._id))return{backgroundColor:"#a9a9a9"}};return(0,F.jsx)(C.bN,{pagination:(0,C.ZP)(0!==o?Y:{page:p,sizePerPage:v,totalSize:o}),keyField:t,columns:b,data:a,children:function(e){e.paginationProps;var n=e.paginationTableProps;return(0,F.jsx)(P(),{keyField:t,bootstrap4:!0,data:a,columns:b,search:!0,exportCSV:{fileName:"".concat(S,"_").concat(x()(new Date).format("YYYY-MM-DD HH:mm"),".csv"),noAutoBOM:!1,blobType:"text/csv;charset=ansi",exportAll:!1,onlyExportFiltered:!0},columnToggle:!0,children:function(e){return(0,F.jsxs)("div",{children:[(0,F.jsxs)("div",{className:"flex items-center flex-wrap",children:[(0,F.jsx)(E,(0,l.Z)((0,l.Z)((0,l.Z)({},U),e.searchProps),{},{onChange:function(e){console.log({value:e})}})),(0,F.jsx)(A,(0,l.Z)({className:"inline-flex ml-4 bg-gray-500 items-center small outline shadow-sm  font-medium  disabled:opacity-50 disabled:cursor-not-allowed text-center h-9 text-white"},e.searchProps)),(0,F.jsx)("button",{className:"ml-2 px-2 focus:outline-none bg-gray-500 items-center  outline shadow-sm  font-medium  text-center rounded-md h-9 text-white",onClick:Z,children:"Clear all filters"}),(0,F.jsx)(D,(0,l.Z)((0,l.Z)({className:"inline-flex m-2.5 bg-gray-500 items-center  small outline shadow-sm  font-medium  disabled:opacity-50 disabled:cursor-not-allowed text-center h-9 text-white"},e.csvProps),{},{children:"Export CSV!!"})),J?(0,F.jsx)(c.EK.zx,{size:"medium",type:"outline",onClick:function(){_(!J)},children:(0,F.jsx)(c.PJ.IconFa.FaChevronUp,{})}):(0,F.jsx)(c.EK.zx,{size:"medium",type:"outline",onClick:function(){_(!J)},children:(0,F.jsx)(c.PJ.IconFa.FaChevronDown,{})})]}),J&&(0,F.jsx)("div",{className:"mb-2 overflow-auto h-10",children:(0,F.jsx)(L,(0,l.Z)({contextual:"primary",className:"list-custom-class",btnClassName:"list-btn-custom-class"},e.columnToggleProps))}),(0,F.jsx)("div",{className:"scrollTable",children:(0,F.jsx)(f.Z,(0,l.Z)((0,l.Z)((0,l.Z)({remote:!0},e.baseProps),{},{noDataIndication:"Table is Empty",hover:!0},n),{},{filter:(0,j.ZP)(),headerClasses:"bg-gray-500 text-white whitespace-nowrap",onTableChange:B,rowEvents:V,rowStyle:H}))})]})}})}})},O=(0,d.Pi)((function(e){var t=(0,s.useState)({}),a=(0,r.Z)(t,2),n=a[0],o=a[1];return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("div",{style:{position:"relative"},children:(0,F.jsx)(M,{id:"_id",data:e.data,totalSize:e.totalSize,selectedItem:n,columns:[{dataField:"_id",text:"Id",hidden:!0,csvExport:!1},{dataField:"labId",text:"Lab Id",sort:!0,editable:!1},{dataField:"sampleId",text:"Sample Id",sort:!0,editable:!1},{dataField:"sampleType",text:"Sample Type",sort:!0,editable:!1},{dataField:"containerId",text:"Container Id",sort:!0,editable:!1},{dataField:"panel",text:"Panel",sort:!0,editable:!1,headerClasses:"textHeaderl"},{dataField:"dueDate",text:"Due Date",sort:!0,editable:!1,formatter:function(e,t){return null!==t&&void 0!==t&&t.dueDate?x()(t.dueDate).format("YYYY-MM-DD"):""}},{dataField:"status",text:"Status",sort:!0,editable:!1},{dataField:"comments",text:"Comments",sort:!0,editable:!1},{dataField:"pLab",text:"PLab",sort:!0,editable:!1},{dataField:"department",text:"Department",sort:!0,editable:!1}],isEditModify:e.isEditModify,isSelectRow:!0,fileName:"Pending Panel Approval",onSelectedRow:function(t){e.onSelectedRow&&e.onSelectedRow(t.map((function(e){return e._id})))},onUpdateItem:function(t,a,n){e.onUpdateItem&&e.onUpdateItem(t,a,n)},onPageSizeChange:function(t,a){e.onPageSizeChange&&e.onPageSizeChange(t,a)},onFilter:function(t,a,n,o){e.onFilter&&e.onFilter(t,a,n,o)},clearAllFilter:function(){},onClickRow:function(t,a){o(t),e.onClickRow&&e.onClickRow(t,a)}})})})})),J=b.Search.SearchBar,_=b.Search.ClearSearchButton,Y=b.CSVExport.ExportCSVButton,U=function(e){var t=e.id,a=e.data,n=e.totalSize,o=void 0===n?10:n,i=e.searchPlaceholder,d=void 0===i?"Search...":i,u=e.page,p=void 0===u?0:u,g=e.sizePerPage,v=void 0===g?10:g,b=e.columns,S=e.fileName,y=e.isEditModify,w=(e.isSelectRow,e.selectedItem),N=(e.onSelectedRow,e.onUpdateItem),R=e.onPageSizeChange,T=e.onFilter,Z=e.clearAllFilter,I=e.onClickRow,z=(0,s.useState)(),k=(0,r.Z)(z,2),E=(k[0],k[1],(0,s.useState)(!1)),A=(0,r.Z)(E,2),D=A[0],M=A[1],O={cutome:!0,totalSize:o,paginationSize:5,pageStartIndex:0,firstPageText:"<<",prePageText:"<",nextPageText:">",lastPageText:">>",disablePageTitle:!0,paginationTotalRenderer:function(e,t,a){return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("div",{className:"clearfix"}),(0,F.jsxs)("span",{children:["Showing ",e," to ",t," of ",a," Results"]})]})},hideSizePerPage:!0,showTotal:!1,alwaysShowAllBtns:!0,sizePerPageList:[{text:"10",value:10},{text:"20",value:20},{text:"30",value:30},{text:"40",value:40},{text:"50",value:50}],hidePageListOnlyOnePage:!0,sizePerPageRenderer:function(e){var t=e.options,a=e.currSizePerPage,n=e.onSizePerPageChange;return(0,F.jsxs)("div",{className:"btn-group items-center",role:"group",children:[(0,F.jsx)("input",{type:"number",min:"0",placeholder:"No",onChange:function(e){e.target.value&&n(e.target.value)},className:"mr-2 ml-2 leading-4 p-2 w-14 focus:outline-none focus:ring block  shadow-sm sm:text-base border border-gray-300 rounded-md"}),t.map((function(e){return(0,F.jsx)("button",{type:"button",onClick:function(){return n(e.page)},className:"btn  ".concat(a==="".concat(e.page)?"bg-primary":"bg-grey"),children:e.text},e.text)}))]})}},U={placeholder:d},B=function(e,t){var a=t.data,n=t.cellEdit,i=t.page,l=t.sizePerPage,s=t.filters,d=t.sortField,c=t.sortOrder,u=t.searchText;if("cellEdit"===e&&y&&N&&N(n.newValue,n.dataField,n.rowId),"pagination"===e&&h().isEmpty(s)&&R&&R(i,l),"filter"===e||"pagination"===e&&!h().isEmpty(s)){if("pagination"===e){if(l>o)return alert("You have not more records.");if(i*l>o)return alert("You have not more records.")}for(var p={},g=0,x=Object.entries(s);g<x.length;g++){var f=(0,r.Z)(x[g],2),v=f[0],b=f[1],P=(0,m.Z)({},v,b.filterVal);p=Object.assign(p,P)}T&&T(e,p,"filter"===e&&1===i?0:i,l)}("search"===e&&setTimeout((function(){T&&T(e,{srText:u},i,l)}),2e3),"sort"===e)&&("asc"===c?a.sort((function(e,t){return e[d]>t[d]?1:t[d]>e[d]?-1:0})):a.sort((function(e,t){return e[d]>t[d]?-1:t[d]>e[d]?1:0})))},L=function(e){var t=e.columns,a=e.onColumnToggle,n=e.toggles;return(0,F.jsx)("div",{className:"btn-group btn-group-toggle","data-toggle":"buttons",children:t.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{toggle:n[e.dataField]})})).map((function(e,t){if(t>0)return(0,F.jsx)("button",{type:"button",className:" btn btn-primary  btn-sm whitespace-nowrap ".concat(e.toggle?"active":""),"data-toggle":"button","aria-pressed":e.toggle?"true":"false",onClick:function(){return a(e.dataField)},children:e.text},e.dataField)}))})},V={onClick:function(e,t,a){I&&I(t,a)}},H=function(e,t){if(e._id==(null===w||void 0===w?void 0:w._id))return{backgroundColor:"#a9a9a9"}};return(0,F.jsx)(C.bN,{pagination:(0,C.ZP)(0!==o?O:{page:p,sizePerPage:v,totalSize:o}),keyField:t,columns:b,data:a,children:function(e){e.paginationProps;var n=e.paginationTableProps;return(0,F.jsx)(P(),{keyField:t,bootstrap4:!0,data:a,columns:b,search:!0,exportCSV:{fileName:"".concat(S,"_").concat(x()(new Date).format("YYYY-MM-DD HH:mm"),".csv"),noAutoBOM:!1,blobType:"text/csv;charset=ansi",exportAll:!1,onlyExportFiltered:!0},columnToggle:!0,children:function(e){return(0,F.jsxs)("div",{children:[(0,F.jsxs)("div",{className:"flex items-center flex-wrap",children:[(0,F.jsx)(J,(0,l.Z)((0,l.Z)((0,l.Z)({},U),e.searchProps),{},{onChange:function(e){console.log({value:e})}})),(0,F.jsx)(_,(0,l.Z)({className:"inline-flex ml-4 bg-gray-500 items-center small outline shadow-sm  font-medium  disabled:opacity-50 disabled:cursor-not-allowed text-center h-9 text-white"},e.searchProps)),(0,F.jsx)("button",{className:"ml-2 px-2 focus:outline-none bg-gray-500 items-center  outline shadow-sm  font-medium  text-center rounded-md h-9 text-white",onClick:Z,children:"Clear all filters"}),(0,F.jsx)(Y,(0,l.Z)((0,l.Z)({className:"inline-flex m-2.5 bg-gray-500 items-center  small outline shadow-sm  font-medium  disabled:opacity-50 disabled:cursor-not-allowed text-center h-9 text-white"},e.csvProps),{},{children:"Export CSV!!"})),D?(0,F.jsx)(c.EK.zx,{size:"medium",type:"outline",onClick:function(){M(!D)},children:(0,F.jsx)(c.PJ.IconFa.FaChevronUp,{})}):(0,F.jsx)(c.EK.zx,{size:"medium",type:"outline",onClick:function(){M(!D)},children:(0,F.jsx)(c.PJ.IconFa.FaChevronDown,{})})]}),D&&(0,F.jsx)("div",{className:"mb-2 overflow-auto h-10",children:(0,F.jsx)(L,(0,l.Z)({contextual:"primary",className:"list-custom-class",btnClassName:"list-btn-custom-class"},e.columnToggleProps))}),(0,F.jsx)("div",{className:"scrollTable",children:(0,F.jsx)(f.Z,(0,l.Z)((0,l.Z)((0,l.Z)({remote:!0},e.baseProps),{},{noDataIndication:"Table is Empty",hover:!0},n),{},{filter:(0,j.ZP)(),headerClasses:"bg-gray-500 text-white whitespace-nowrap",onTableChange:B,rowEvents:V,rowStyle:H}))})]})}})}})},B=(0,d.Pi)((function(e){var t=(0,s.useState)({}),a=(0,r.Z)(t,2),n=a[0],o=a[1];return(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("div",{style:{position:"relative"},children:(0,F.jsx)(U,{id:"_id",data:e.data,totalSize:e.totalSize,selectedItem:n,columns:[{dataField:"_id",text:"Id",hidden:!0,csvExport:!1},{dataField:"pId",text:"Pid",sort:!0,editable:!1},{dataField:"name",text:"Name",sort:!0,editable:!1},{dataField:"age",text:"Age",sort:!0,editable:!1},{dataField:"sex",text:"Sex",sort:!0,editable:!1},{dataField:"dob",text:"DOB",sort:!0,editable:!1,formatter:function(e,t){return null!==t&&void 0!==t&&t.dob?x()(t.dob).format("YYYY-MM-DD"):""}},{dataField:"patientMobileNo",text:"patientMobileNo",sort:!0,editable:!1},{dataField:"doctorId",text:"Doctor Id",sort:!0,editable:!1},{dataField:"doctorMobileNo",text:"Doctor Mobile No",sort:!0,editable:!1},{dataField:"registrationLocation",text:"Registration Location",sort:!0,editable:!1},{dataField:"contactNo",text:"Contact Number",sort:!0,editable:!1},{dataField:"history",text:"History",sort:!0,csvFormatter:function(e,t){return"".concat(t.history&&t.history?"Yes":"No")},editable:!1,formatter:function(e,t){return(0,F.jsxs)(F.Fragment,{children:[" ",(0,F.jsx)(c.l0.ZD,{disabled:!0,value:t.history})]})}}],isEditModify:e.isEditModify,isSelectRow:!0,fileName:"Pending Panel Approval",onSelectedRow:function(t){e.onSelectedRow&&e.onSelectedRow(t.map((function(e){return e._id})))},onUpdateItem:function(t,a,n){e.onUpdateItem&&e.onUpdateItem(t,a,n)},onPageSizeChange:function(t,a){e.onPageSizeChange&&e.onPageSizeChange(t,a)},onFilter:function(t,a,n,o){e.onFilter&&e.onFilter(t,a,n,o)},clearAllFilter:function(){},onClickRow:function(t,a){o(t),e.onClickRow&&e.onClickRow(t,a)}})})})})),L=(a(70042),a(22414)),V=(a(3069),(0,d.Pi)((function(){var e,t=(0,L.mZ)(),a=(t.loading,t.panelApprovalStore),n=(t.transactionDetailsStore,t.routerStore),d=t.loginStore,g=t.patientResultStore,x=(t.receiptStore,(0,u.cI)()),m=(x.control,x.handleSubmit,x.formState.errors,x.setValue,(0,s.useState)()),f=(0,r.Z)(m,2),v=(f[0],f[1],(0,s.useState)([])),h=(0,r.Z)(v,2),b=h[0],P=h[1],S=(0,s.useState)(!1),C=(0,r.Z)(S,2),j=C[0],y=C[1],w=function(e){var t=e.type,n=e.data;switch(t){case"update":a.panelApprovalService.update({input:(0,l.Z)((0,l.Z)({},n.fields),{},{_id:n.id})}).then((function(e){e.updatePanelApproval.success&&(c.FN.success({message:"\ud83d\ude0a ".concat(e.updatePanelApproval.message)}),a.panelApprovalService.listPanelApproval())}));break;case"updateMany":a.panelApprovalService.update({input:{updateMany:{fields:n.rows,type:n.type}}}).then((function(e){e.updatePanelApproval.success&&(c.FN.success({message:"\ud83d\ude0a ".concat(e.updatePanelApproval.message)}),a.panelApprovalService.listPanelApproval())}))}},N=(0,s.useMemo)((function(){return(0,F.jsx)(k,{data:a.panelApprovalList||[],totalSize:a.panelApprovalListCount,selectedId:null===b||void 0===b?void 0:b.map((function(e){return e._id}))[0],isDelete:p.o.checkPermission(n.userPermission,"Delete"),isEditModify:p.o.checkPermission(n.userPermission,"Edit/Modify"),onSelectedRow:function(e,t){w({show:!0,type:"updateMany",data:{rows:e,type:t},title:"Are you sure?",body:"Update items!"})},onUpdateFields:function(e,t){w({show:!0,type:"update",data:{fields:e,id:t},title:"Are you sure?",body:"Update items!"})},onUpdateResult:function(e,t){!function(e,t){var n;g.patientResultService.updateSingleFiled({input:{result:null===t||void 0===t?void 0:t.result,resultType:null===t||void 0===t?void 0:t.resultType,file:null===t||void 0===t?void 0:t.file,labId:null===t||void 0===t?void 0:t.labId,analyteCode:null===t||void 0===t?void 0:t.analyteCode,analyteName:null===t||void 0===t?void 0:t.analyteName,testStatus:null===t||void 0===t?void 0:t.testStatus,rangeType:null===t||void 0===t?void 0:t.rangeType,critical:null===t||void 0===t?void 0:t.critical,abnFlag:null===t||void 0===t?void 0:t.abnFlag,refRangesList:null===t||void 0===t?void 0:t.refRangesList,testCode:null===t||void 0===t?void 0:t.testCode,testName:null===t||void 0===t?void 0:t.testName,panelCode:null===t||void 0===t?void 0:t.panelCode,resultDate:null===t||void 0===t?void 0:t.resultDate,reportPriority:null===t||void 0===t?void 0:t.reportPriority,deliveryMode:null===t||void 0===t?void 0:t.deliveryMode,units:null===t||void 0===t?void 0:t.units,conclusion:null===t||void 0===t?void 0:t.conclusion,loNor:null===t||void 0===t?void 0:t.loNor,hiNor:null===t||void 0===t?void 0:t.hiNor,resultStatus:null===t||void 0===t?void 0:t.resultStatus,panelStatus:null===t||void 0===t?void 0:t.panelStatus,enteredBy:null===(n=d.login)||void 0===n?void 0:n.userId,_id:e,__v:void 0,flagUpdate:void 0}}).then((function(e){e.updatePatientResult.success&&(c.FN.success({message:"\ud83d\ude0a ".concat(e.updatePatientResult.message),timer:2e3}),a.panelApprovalService.listPanelApproval())})),y(!j)}(t,e)},onExpand:function(e){P("object"==typeof e?[e]:[])},onPageSizeChange:function(e,t){a.panelApprovalService.listPanelApproval(e,t)},onFilter:function(e,t,n,o){a.panelApprovalService.filter({input:{type:e,filter:t,page:n,limit:o}})},onRecheck:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t,n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.patientResultService.updateStatus({input:{filter:{id:t,patientResultId:n,mode:"reCheck"}}}).then((function(e){var t;c.FN.success({message:"\ud83d\ude0a ".concat(e.updateStatusPatientResult.message)}),null===(t=a.panelApprovalService)||void 0===t||t.listPanelApproval()}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onRetest:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t,n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.patientResultService.updateStatus({input:{filter:{id:t,patientResultId:n,mode:"reTest"}}}).then((function(e){var t;c.FN.success({message:"\ud83d\ude0a ".concat(e.updateStatusPatientResult.message)}),null===(t=a.panelApprovalService)||void 0===t||t.listPanelApproval()}));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()})}),[a.panelApprovalList,j]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(c.h4,{children:[(0,F.jsx)(c.CD,{title:(null===(e=n.selectedComponents)||void 0===e?void 0:e.title)||""}),(0,F.jsx)(c.Nd,{store:d})]}),(0,F.jsxs)("div",{className:"p-3 rounded-lg shadow-xl overflow-auto",children:[(0,F.jsx)("span",{className:"font-bold text-lg underline",children:"Result"}),N,(0,F.jsx)("span",{className:"text-red",children:"Note: Report Priority= Daily single-single update."})]}),(null===b||void 0===b?void 0:b.length)>0&&(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("div",{className:"p-1 rounded-lg shadow-xl overflow-auto mt-4",children:[(0,F.jsx)("span",{className:"font-bold text-lg underline",children:"Pending Panel Approval"}),(0,F.jsx)(O,{data:b||[],totalSize:b.length}),(0,F.jsx)("span",{className:"font-bold text-lg underline",children:"Patient Demographics"}),(0,F.jsx)(B,{data:b||[],totalSize:b.length})]})})]})}))),H=V}}]);
//# sourceMappingURL=7931.c31cd05a.chunk.js.map