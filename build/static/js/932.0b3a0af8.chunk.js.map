{"version":3,"file":"static/js/932.0b3a0af8.chunk.js","mappings":"qSAoBMA,GAAUC,EAAAA,EAAAA,KAAS,WAAO,IAAD,EAC7B,GAAgDC,EAAAA,EAAAA,MAAzCC,EAAY,EAAZA,aAAcC,EAAW,EAAXA,YAAaC,EAAU,EAAVA,WAClC,GAAsCC,EAAAA,EAAAA,YAAkB,eAAjDC,EAAW,KAAEC,EAAc,KAElC,GAKIC,EAAAA,EAAAA,MACJ,GALS,EAAPC,QACY,EAAZC,aACkB,EAAlBC,UAAYC,OACJ,EAARC,UAEoDR,EAAAA,EAAAA,aAAe,eAA9DS,EAAmB,KAAEC,EAAsB,KAClD,GAA4CV,EAAAA,EAAAA,YAAe,eAAtC,KAAmB,KAExC,OACE,iCACE,UAAC,KAAM,YACL,SAAC,KAAW,CAACW,OAAqC,QAA9B,EAAAb,EAAYc,0BAAkB,aAA9B,EAAgCD,QAAS,MAC7D,SAAC,KAAqB,CAACE,MAAOd,QAGhC,gBAAKe,UAAU,yCAAwC,UACrD,SAAC,KAAW,CACVC,KAAMlB,EAAamB,aAAe,GAClCC,UAAWpB,EAAaqB,iBACxBC,SAAUC,EAAAA,EAAAA,gBACRtB,EAAYuB,eACZ,UAEFC,aAAcF,EAAAA,EAAAA,gBACZtB,EAAYuB,eACZ,eAEFE,iBAAkB,SAACC,EAAMC,GACvB,EAEFC,SAAU,SAACC,EAAMC,EAAQJ,EAAMC,GAG7B,EAEFI,SAAU,SAAAC,GACRjC,EAAakC,eACVC,uBAAuB,CAACC,MAAO,CAACC,SAAc,OAAJJ,QAAI,IAAJA,OAAI,EAAJA,EAAMI,YAChDC,KAAI,yCAAC,WAAMC,GAAG,oFACiB,QAA9B,EAAIA,EAAIJ,8BAAsB,OAA1B,EAA4BK,SAC9BC,QAAQC,IAAI,CACVC,QAC4B,QADrB,EACLJ,EAAIJ,8BAAsB,OAAa,QAAb,EAA1B,EAA4BS,mBAAW,OAAe,QAAf,EAAvC,EAAyCC,qBAAa,WAA5B,EAA1B,EACIF,UAER9B,EAAuB,CACrBiC,MAAM,EACN5B,KAAgC,QAA5B,EAAEqB,EAAIJ,8BAAsB,aAA1B,EAA4BS,eAGpCG,EAAAA,GAAAA,MAAY,CACVC,QAAQ,gBAAD,OAAQT,EAAIJ,uBAAuBa,WACzC,2CACN,mDAfI,GAgBT,OAGJ,SAAC,KAAiB,kBACZpC,GAAmB,IACvBqC,QAAS,WACPpC,EAAuB,CAACiC,MAAM,GAChC,EACAI,gBAAiB,SAACC,EAAMrB,GACjB1B,EAaHgD,OAAOC,KAAKvB,EAAO1B,EAAa,UAZhCJ,EAAakC,eACVoB,qBAAqB,CAAClB,MAAO,CAACe,KAAAA,KAC9Bb,MAAK,SAAAC,GACmC,IAAD,IAAlCA,EAAIe,qBAAqBd,UAC3BnC,EAAuC,QAAzB,EAACkC,EAAIe,4BAAoB,aAAxB,EAA0BlD,aACzCgD,OAAOC,KAAK,GAAD,OACNvB,EAAI,YAA4B,QAA5B,EAAIS,EAAIe,4BAAoB,aAAxB,EAA0BlD,aACrC,UAGN,GAIN,OAIR,IAEA,W","sources":["features/account-receivable/receipt/screens/receipt.screen.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {observer} from 'mobx-react';\nimport _ from 'lodash';\n\nimport {\n  ModalConfirm,\n  Header,\n  PageHeading,\n  PageHeadingLabDetails,\n  Toast,\n} from '@/library/components';\nimport {useForm, Controller} from 'react-hook-form';\nimport {RouterFlow} from '@/flows';\nimport {ReceiptList} from '../components';\nimport {ModalReceiptShare} from '../../components';\nimport '@/library/assets/css/accordion.css';\nimport {useStores} from '@/stores';\nimport 'react-accessible-accordion/dist/fancy-example.css';\nimport axios from 'axios';\n\nconst Receipt = observer(() => {\n  const {receiptStore, routerStore, loginStore} = useStores();\n  const [receiptPath, setReceiptPath] = useState<string>();\n\n  const {\n    control,\n    handleSubmit,\n    formState: {errors},\n    setValue,\n  } = useForm();\n  const [modalPaymentReceipt, setModalPaymentReceipt] = useState<any>();\n  const [receiptDetails, setReceiptDetails] = useState<any>();\n\n  return (\n    <>\n      <Header>\n        <PageHeading title={routerStore.selectedComponents?.title || ''} />\n        <PageHeadingLabDetails store={loginStore} />\n      </Header>\n      {/*  */}\n      <div className='p-3 rounded-lg shadow-xl overflow-auto'>\n        <ReceiptList\n          data={receiptStore.receiptList || []}\n          totalSize={receiptStore.receiptListCount}\n          isDelete={RouterFlow.checkPermission(\n            routerStore.userPermission,\n            'Delete',\n          )}\n          isEditModify={RouterFlow.checkPermission(\n            routerStore.userPermission,\n            'Edit/Modify',\n          )}\n          onPageSizeChange={(page, limit) => {\n            // bannerStore.fetchListBanner(page, limit);\n          }}\n          onFilter={(type, filter, page, limit) => {\n            // bannerStore.BannerService.filter({\n            //   input: {type, filter, page, limit},\n            // });\n          }}\n          onReport={item => {\n            receiptStore.receiptService\n              .generatePaymentReceipt({input: {headerId: item?.headerId}})\n              .then(async res => {\n                if (res.generatePaymentReceipt?.success) {\n                  console.log({\n                    labLogo:\n                      res.generatePaymentReceipt?.receiptData?.headerDetails\n                        ?.labLogo,\n                  });\n                  setModalPaymentReceipt({\n                    show: true,\n                    data: res.generatePaymentReceipt?.receiptData,\n                  });\n                } else\n                  Toast.error({\n                    message: `ðŸ˜” ${res.generatePaymentReceipt.message}`,\n                  });\n              });\n          }}\n        />\n      </div>\n      <ModalReceiptShare\n        {...modalPaymentReceipt}\n        onClose={() => {\n          setModalPaymentReceipt({show: false});\n        }}\n        onReceiptUpload={(file, type) => {\n          if (!receiptPath) {\n            receiptStore.receiptService\n              .paymentReceiptUpload({input: {file}})\n              .then(res => {\n                if (res.paymentReceiptUpload.success) {\n                  setReceiptPath(res.paymentReceiptUpload?.receiptPath);\n                  window.open(\n                    `${type} ${res.paymentReceiptUpload?.receiptPath}`,\n                    '_blank',\n                  );\n                }\n              });\n          } else {\n            window.open(type + receiptPath, '_blank');\n          }\n        }}\n      />\n    </>\n  );\n});\n\nexport default Receipt;\n"],"names":["Receipt","observer","useStores","receiptStore","routerStore","loginStore","useState","receiptPath","setReceiptPath","useForm","control","handleSubmit","formState","errors","setValue","modalPaymentReceipt","setModalPaymentReceipt","title","selectedComponents","store","className","data","receiptList","totalSize","receiptListCount","isDelete","RouterFlow","userPermission","isEditModify","onPageSizeChange","page","limit","onFilter","type","filter","onReport","item","receiptService","generatePaymentReceipt","input","headerId","then","res","success","console","log","labLogo","receiptData","headerDetails","show","Toast","message","onClose","onReceiptUpload","file","window","open","paymentReceiptUpload"],"sourceRoot":""}