(this.webpackJsonplimsplus_portal=this.webpackJsonplimsplus_portal||[]).push([[6],{914:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"SettingForRS232Table",(function(){return S})),a.d(n,"SettingForTCP_IPTable",(function(){return w}));var o={};a.r(o),a.d(o,"HL7Table",(function(){return k}));var i=a(11),l=a.n(i),r=a(16),c=a(3),u=a(9),m=a(1),s=a.n(m),d=a(14),p=a(2),v=a(133),f=(a(281),a(4)),b=a(762),h=[{title:"COM1"},{title:"COM2"},{title:"COM3"},{title:"COM4"},{title:"COM5"}],g=[{title:"110"},{title:"300"},{title:"600"},{title:"1200"},{title:"2400"},{title:"4800"},{title:"9600"},{title:"14400"},{title:"19200"},{title:"38400"},{title:"57600"},{title:"115200"},{title:"128000"},{title:"256000"}],C=[{title:"1"},{title:"1.5"},{title:"2"}],E=[{title:"7"},{title:"8"}],O=[{title:"None (N)"},{title:"Odd (O)"},{title:"Even \u20ac"},{title:"Mark (M)"},{title:"Space (S)"}],y=[{title:"On"},{title:"Off"},{title:"None"},{title:"Hardware"}],j=[{title:"1381"},{title:"1394"}],S=Object(d.a)((function(){var e,t,a,n,o,i,l,r,u,m,d,p,v,S,w=Object(f.b)().hostCommunicationStore;return s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,{striped:!0,bordered:!0,hover:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{style:{color:"green"}},"Communication Settings"),s.a.createElement("th",{style:{color:"green"}},"Value"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,"Com Port"),s.a.createElement("td",null,s.a.createElement("select",{name:"defualtLab",value:null===(e=w.hostCommuication)||void 0===e||null===(t=e.serialPortCommunication)||void 0===t?void 0:t.comPort,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t,a=e.target.value;w.updateHostCommuication(Object(c.a)(Object(c.a)({},w.hostCommuication),{},{serialPortCommunication:Object(c.a)(Object(c.a)({},null===(t=w.hostCommuication)||void 0===t?void 0:t.serialPortCommunication),{},{comPort:a})}))}},s.a.createElement("option",{selected:!0},"Select"),h.map((function(e){return s.a.createElement("option",{key:e.title,value:e.title},e.title)}))))),s.a.createElement("tr",null,s.a.createElement("td",null,"Baud rate"),s.a.createElement("td",null," ",s.a.createElement("select",{name:"defualtLab",value:null===(a=w.hostCommuication)||void 0===a||null===(n=a.serialPortCommunication)||void 0===n?void 0:n.baudRate,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t,a=e.target.value;w.updateHostCommuication(Object(c.a)(Object(c.a)({},w.hostCommuication),{},{serialPortCommunication:Object(c.a)(Object(c.a)({},null===(t=w.hostCommuication)||void 0===t?void 0:t.serialPortCommunication),{},{baudRate:a})}))}},s.a.createElement("option",{selected:!0},"Select"),g.map((function(e){return s.a.createElement("option",{key:e.title,value:e.title},e.title)}))))),s.a.createElement("tr",null,s.a.createElement("td",null,"Data bits"),s.a.createElement("td",null,s.a.createElement("select",{name:"defualtLab",value:null===(o=w.hostCommuication)||void 0===o||null===(i=o.serialPortCommunication)||void 0===i?void 0:i.dataBits,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t,a=e.target.value;w.updateHostCommuication(Object(c.a)(Object(c.a)({},w.hostCommuication),{},{serialPortCommunication:Object(c.a)(Object(c.a)({},null===(t=w.hostCommuication)||void 0===t?void 0:t.serialPortCommunication),{},{dataBits:a})}))}},s.a.createElement("option",{selected:!0},"Select"),E.map((function(e){return s.a.createElement("option",{key:e.title,value:e.title},e.title)}))))),s.a.createElement("tr",null,s.a.createElement("td",null,"Stop bits"),s.a.createElement("td",null,s.a.createElement("select",{name:"defualtLab",value:null===(l=w.hostCommuication)||void 0===l||null===(r=l.serialPortCommunication)||void 0===r?void 0:r.stopBits,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t,a=e.target.value;w.updateHostCommuication(Object(c.a)(Object(c.a)({},w.hostCommuication),{},{serialPortCommunication:Object(c.a)(Object(c.a)({},null===(t=w.hostCommuication)||void 0===t?void 0:t.serialPortCommunication),{},{stopBits:a})}))}},s.a.createElement("option",{selected:!0},"Select"),C.map((function(e){return s.a.createElement("option",{key:e.title,value:e.title},e.title)}))))),s.a.createElement("tr",null,s.a.createElement("td",null,"Parity"),s.a.createElement("td",null," ",s.a.createElement("select",{name:"defualtLab",value:null===(u=w.hostCommuication)||void 0===u||null===(m=u.serialPortCommunication)||void 0===m?void 0:m.parity,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t,a=e.target.value;w.updateHostCommuication(Object(c.a)(Object(c.a)({},w.hostCommuication),{},{serialPortCommunication:Object(c.a)(Object(c.a)({},null===(t=w.hostCommuication)||void 0===t?void 0:t.serialPortCommunication),{},{parity:a})}))}},s.a.createElement("option",{selected:!0},"Select"),O.map((function(e){return s.a.createElement("option",{key:e.title,value:e.title},e.title)}))))),s.a.createElement("tr",null,s.a.createElement("td",null,"Flow control (Handshaking)"),s.a.createElement("td",null," ",s.a.createElement("select",{name:"defualtLab",value:null===(d=w.hostCommuication)||void 0===d||null===(p=d.serialPortCommunication)||void 0===p?void 0:p.flowControl,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t,a=e.target.value;w.updateHostCommuication(Object(c.a)(Object(c.a)({},w.hostCommuication),{},{serialPortCommunication:Object(c.a)(Object(c.a)({},null===(t=w.hostCommuication)||void 0===t?void 0:t.serialPortCommunication),{},{flowControl:a})}))}},s.a.createElement("option",{selected:!0},"Select"),y.map((function(e){return s.a.createElement("option",{key:e.title,value:e.title},e.title)}))))),s.a.createElement("tr",null,s.a.createElement("td",null,"Protocol"),s.a.createElement("td",null," ",s.a.createElement("select",{name:"defualtLab",value:null===(v=w.hostCommuication)||void 0===v||null===(S=v.serialPortCommunication)||void 0===S?void 0:S.protocol,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t,a=e.target.value;w.updateHostCommuication(Object(c.a)(Object(c.a)({},w.hostCommuication),{},{serialPortCommunication:Object(c.a)(Object(c.a)({},null===(t=w.hostCommuication)||void 0===t?void 0:t.serialPortCommunication),{},{protocol:a})}))}},s.a.createElement("option",{selected:!0},"Select"),j.map((function(e){return s.a.createElement("option",{key:e.title,value:e.title},e.title)}))))))))})),w=Object(d.a)((function(){var e,t,a,n,o,i,l,r,u=Object(f.b)().hostCommunicationStore;return s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,{striped:!0,bordered:!0,hover:!0},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{style:{color:"green"}},"Communication Settins"),s.a.createElement("th",{style:{color:"green"}},"Value"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,"Host IP address"),s.a.createElement("td",null,s.a.createElement(p.a.Form.Input,{id:"hostIpAddress",placeholder:"Host Ip Address",value:null===(e=u.hostCommuication)||void 0===e||null===(t=e.tcpipCommunication)||void 0===t?void 0:t.hostIpAddress,onChange:function(e){var t;u.updateHostCommuication(Object(c.a)(Object(c.a)({},u.hostCommuication),{},{tcpipCommunication:Object(c.a)(Object(c.a)({},null===(t=u.hostCommuication)||void 0===t?void 0:t.tcpipCommunication),{},{hostIpAddress:e})}))}}))),s.a.createElement("tr",null,s.a.createElement("td",null,"Port number"),s.a.createElement("td",null," ",s.a.createElement(p.a.Form.Input,{id:"portNumber",placeholder:"Port Number",value:null===(a=u.hostCommuication)||void 0===a||null===(n=a.tcpipCommunication)||void 0===n?void 0:n.portNumber,onChange:function(e){var t;u.updateHostCommuication(Object(c.a)(Object(c.a)({},u.hostCommuication),{},{tcpipCommunication:Object(c.a)(Object(c.a)({},null===(t=u.hostCommuication)||void 0===t?void 0:t.tcpipCommunication),{},{portNumber:e})}))}}))),s.a.createElement("tr",null,s.a.createElement("td",null,"Timeout"),s.a.createElement("td",null," ",s.a.createElement(p.a.Form.Input,{id:"timeout",placeholder:"Timeout",value:null===(o=u.hostCommuication)||void 0===o||null===(i=o.tcpipCommunication)||void 0===i?void 0:i.timeout,onChange:function(e){var t;u.updateHostCommuication(Object(c.a)(Object(c.a)({},u.hostCommuication),{},{tcpipCommunication:Object(c.a)(Object(c.a)({},null===(t=u.hostCommuication)||void 0===t?void 0:t.tcpipCommunication),{},{timeout:e})}))}}))),s.a.createElement("tr",null,s.a.createElement("td",null,"Response Time"),s.a.createElement("td",null," ",s.a.createElement(p.a.Form.Input,{id:"responseTime",placeholder:"Response Time",value:null===(l=u.hostCommuication)||void 0===l||null===(r=l.tcpipCommunication)||void 0===r?void 0:r.responseTime,onChange:function(e){var t;u.updateHostCommuication(Object(c.a)(Object(c.a)({},u.hostCommuication),{},{tcpipCommunication:Object(c.a)(Object(c.a)({},null===(t=u.hostCommuication)||void 0===t?void 0:t.tcpipCommunication),{},{responseTime:e})}))}}))))))})),k=function(e){console.log({data:e.data});var t=Object(m.useState)(e.data[0][1]),a=Object(u.a)(t,2),n=a[0],o=a[1],i=Object(m.useState)(e.data[0][0]),l=Object(u.a)(i,2),r=l[0],c=l[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"mb-2"},s.a.createElement(p.a.List,{space:2,direction:"row",justify:"center",fill:!0},s.a.createElement("div",null,e.data.map((function(e,t){return s.a.createElement("div",{className:"mb-2",style:{display:"inline-block",marginLeft:2,marginBottom:2},key:t},s.a.createElement(p.a.Buttons.Button,{size:"medium",key:t,type:"solid",onClick:function(){o(e[1]),c(e[0])},style:{margin:4}},e[0]))}))))),s.a.createElement("div",{className:"rounded-lg overflow-auto"},s.a.createElement(b.a,{bordered:!0},s.a.createElement("thead",null,s.a.createElement("th",{style:{color:"green"}},r),s.a.createElement("th",{style:{color:"green"}},"Value")),s.a.createElement("tbody",null,n.map((function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("th",null,"".concat(e.field_no,". ").concat(e.filed.charAt(0).toUpperCase()+e.filed.slice(1).replaceAll("_"," "))),s.a.createElement("th",null,e.value))}))))))},x=a(18),I=a(28),T=a(13),_=a(20),F=a(36),N=function e(t){var a=this;Object(T.a)(this,e),this._blockStart=void 0,this._blockEnd=void 0,this._fileds=void 0,this._instrumentType="",this.parseSegment=function(e){var t=e.split(a._fileds.FIELD_DELIMITER);return"MSH"===t[0]&&(t[0]=a._fileds.FIELD_DELIMITER,t=["MSH"].concat(t)),{fields:t.shift(),values:t}},this.parse=function(e){if("ERP"===a._instrumentType||"ERP_REG"===a._instrumentType){if("MSH"!==e.substr(0,3))return null}else if("URISED"===a._instrumentType){if(e.substr(0,4)!==a._blockStart)return null;if(e.substr(e.length-12)!==a._blockEnd)return null;e=e.slice(4,-12)}else if("HORIBA_H550"===a._instrumentType){if(console.log({start:e.substr(0,5),ss:a._blockStart}),console.log({end:e.substr(e.length-9),ss:a._blockEnd}),e.substr(0,5)!==a._blockStart)return null;if(e.substr(e.length-9)!==a._blockEnd)return null;e=e.slice(5,-9)}console.log({data:e});for(var t=[],n=new RegExp(a._fileds.NEW_LINE),o=e.split(n),i=0;i<o.length;i++)if(""!==o[i]){var l=o[i].replace(/  +/g,""),r=a.parseSegment(l);t.push(r)}return console.log({result:t}),t},this.parseString=function(e){return e&&"string"===typeof e?e=a.parse(e):null},this._blockStart=void 0!==t.blockStart?t.blockStart.replaceAll(/&amp;/g,"&").replaceAll(/&gt;/g,">").replaceAll(/&lt;/g,"<").replaceAll(/&quot;/g,'"').replaceAll(/\xe2\x80\x99/g,"\u2019").replaceAll(/\xe2\x80\xa6/g,"\u2026").toString():void 0,this._blockEnd=t.blockEnd?t.blockEnd.replaceAll(/&amp;/g,"&").replaceAll(/&gt;/g,">").replaceAll(/&lt;/g,"<").replaceAll(/&quot;/g,'"').replaceAll(/\xe2\x80\x99/g,"\u2019").replaceAll(/\xe2\x80\xa6/g,"\u2026").toString():void 0;var n={};t.fileds.map((function(e){return n[e.filed]=e.value.replaceAll(/&amp;/g,"&").replaceAll(/&gt;/g,">").replaceAll(/&lt;/g,"<").replaceAll(/&quot;/g,'"').replaceAll(/\xe2\x80\x99/g,"\u2019").replaceAll(/\xe2\x80\xa6/g,"\u2026").toString()})),this._fileds=n,this._instrumentType=t.instrumentType},A=function(){function e(t,a,n){Object(T.a)(this,e),this._message=void 0,this._config=void 0,t=new N(a).parseString(t),this._message=t,this._config=n}return Object(_.a)(e,[{key:"getSegmentsByType",value:function(e){return this._message.segments.filter((function(t){return t.name===e}))}},{key:"process",value:function(){var e,t=[],a=Object(F.a)(this._message);try{for(a.s();!(e=a.n()).done;){var n=e.value;console.log({message:n});var o=[];if(this._config.mapping[n.fields.toLowerCase()]){var i,l=Object(F.a)(this._config.mapping[n.fields.toLowerCase()].values);try{for(l.s();!(i=l.n()).done;){var r=i.value;if(void 0!==r&&r.field&&n instanceof Object){var c=r.component[0],u=this._generateObject(r.field,n.values[c-1],r.field_no);r.mandatory&&o.push(u)}}}catch(m){l.e(m)}finally{l.f()}o.sort((function(e,t){return e.field_no-t.field_no})),t.push([[n.fields],o])}}}catch(m){a.e(m)}finally{a.f()}return console.log({obj:t}),t}},{key:"_generateObject",value:function(e,t,a){return{filed:e.split(".")[1],value:t,field_no:a}}}]),e}(),P=function(){function e(t,a,n){Object(T.a)(this,e),this._message=void 0,this._interfaceManager=void 0,this._config=void 0,this._decoder=void 0,this._message=t,this._interfaceManager=a,this._config=n,this._decoder=this._setDynamicDecoder()}return Object(_.a)(e,[{key:"decode",value:function(){return this._message?this._decoder.process():null}},{key:"_setDynamicDecoder",value:function(){return new A(this._message,this._interfaceManager,this._config)}}]),e}();function H(e,t,a){return new P(e,t,a).decode()}var L,M=new function e(){var t=this;Object(T.a)(this,e),this.mapping=function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n,o,i,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.a.segmentMappingStore.listSegmentMapping,n=[],o=[],i=void 0!==t.dataFlowFrom?t.dataFlowFrom.replaceAll(/&amp;/g,"&").replaceAll(/&gt;/g,">").replaceAll(/&lt;/g,"<").replaceAll(/&quot;/g,'"').replaceAll(/\xe2\x80\x99/g,"\u2019").replaceAll(/\xe2\x80\xa6/g,"\u2026"):void 0,null===a||void 0===a||a.forEach((function(e){var a,n;e.equipmentType===t.instrumentType&&e.dataFlowFrom===i&&o.push({segments:e.segments,field:"".concat(null===(a=e.segments)||void 0===a?void 0:a.toLowerCase(),".").concat(null===(n=e.element_name)||void 0===n?void 0:n.toLowerCase().replaceAll(" ","_")),component:[Number(e.field_no),1],field_no:Number(e.field_no),mandatory:e.mandatory,default:""})})),r=o.reduce((function(e,t){return e[t.segments]=[].concat(Object(I.a)(e[t.segments]||[]),[t]),e}),{}),Object.entries(r).forEach((function(e){n.push(Object(x.a)({},e[0].toLowerCase()||"",{values:e[1]}))})),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.convetTo=function(e,a,n){return new Promise(function(){var o=Object(r.a)(l.a.mark((function o(i,r){var u,m,s,d;return l.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,t.mapping(a);case 3:if(u=o.sent,console.log({mappingList:u}),"HL7"!==e){o.next=14;break}if(m={},u.forEach((function(e){Object.keys(e).forEach((function(t){m[t]=e[t]}))})),s={mapping:m},d=H(n,f.a.hostCommunicationStore.selectedInterfaceManager,s)){o.next=12;break}return o.abrupt("return",alert("Please enter correct message"));case 12:f.a.hostCommunicationStore.updateConvertTo(Object(c.a)(Object(c.a)({},f.a.hostCommunicationStore.convertTo),{},{hl7:d})),f.a.hostCommunicationStore.updateHostCommuication(Object(c.a)({},f.a.hostCommunicationStore.hostCommuication));case 14:o.next=19;break;case 16:o.prev=16,o.t0=o.catch(0),r(o.t0);case 19:case"end":return o.stop()}}),o,null,[[0,16]])})));return function(e,t){return o.apply(this,arguments)}}())},this.newMessage=function(e){f.a.hostCommunicationStore.updateHostCommuication(Object(c.a)(Object(c.a)({},f.a.hostCommunicationStore.hostCommuication),{},{txtDataReceivefromInstrument:e,convertTo:""})),f.a.hostCommunicationStore.updateConvertTo(Object(c.a)(Object(c.a)({},f.a.hostCommunicationStore.convertTo),{},{hl7:void 0}))}},R=function e(t,a){var n=this;Object(T.a)(this,e),this._message=void 0,this._config=void 0,this.decode=function(){var e,t="",a=n._message.split(/[\n, ]+/),o=Object(F.a)(a);try{var i=function(){var a=e.value,o=n._config.filter((function(e){return e.hexadecimal===a}));t=Array.isArray(o)&&o.length>0?t+o[0].ascii:t};for(o.s();!(e=o.n()).done;)i()}catch(l){o.e(l)}finally{o.f()}return t},this._message=t,this._config=a},D=a(5),B=new function e(){var t=this;Object(T.a)(this,e),this.conversationMapping=Object(r.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.a.dataConversationStore.listdataConversation,a=[],null===t||void 0===t||t.forEach((function(e){a.push({hexadecimal:e.hexadecimal,ascii:void 0!==e.ascii?e.ascii.replaceAll(/&amp;/g,"&").replaceAll(/&gt;/g,">").replaceAll(/&lt;/g,"<").replaceAll(/&quot;/g,'"').replaceAll(/\xe2\x80\x99/g,"\u2019").replaceAll(/\xe2\x80\xa6/g,"\u2026").toString():void 0})})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),this.hextoascii=function(){var e=Object(r.a)(l.a.mark((function e(a){var n,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.conversationMapping();case 2:return n=e.sent,e.next=5,n;case 5:if(e.t0=e.sent.length,!(e.t0>0)){e.next=9;break}i=a,l=Object(D.toJS)(n),o=new R(i,l).decode(),f.a.hostCommunicationStore.updateHostCommuication(Object(c.a)(Object(c.a)({},f.a.hostCommunicationStore.hostCommuication),{},{txtDataReceivefromInstrument:o}));case 9:case"end":return e.stop()}var i,l}),e)})));return function(t){return e.apply(this,arguments)}}()},W=a(19),z=a(869),G=Object(d.a)((function(){var e,t,a,i,d,b,h,g,C,E,O,y,j,S,w=Object(f.b)(),k=w.loginStore,x=w.interfaceManagerStore,I=w.dataConversationStore,T=w.hostCommunicationStore,_=w.routerStore,F=w.segmentMappingStore,N=Object(m.useState)({}),A=Object(u.a)(N,2),P=A[0],H=(A[1],Object(m.useState)({})),R=Object(u.a)(H,2),G=R[0],q=R[1],Q=Object(m.useState)(!0),J=Object(u.a)(Q,2),V=J[0],U=J[1];return L=Object(z.io)("restapi-hosturl".split("/api")[0],{transports:["websocket"]}),Object(m.useEffect)((function(){L.on("hostCommunicationSendDataToInstrument",(function(e){T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{txtSendDatafromInstrument:e}))})),L.on("hostCommunicationSourceFile",(function(e){T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{txtDataReceivefromInstrument:e}))}))}),[]),s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a.Header,null,s.a.createElement(p.a.PageHeading,{title:(null===(e=_.selectedComponents)||void 0===e?void 0:e.title)||""}),s.a.createElement(p.a.PageHeadingLabDetails,{store:k})),W.a.checkPermission(Object(D.toJS)(_.userPermission),"Add")&&s.a.createElement(p.a.Buttons.ButtonCircleAddRemove,{show:V,onClick:function(e){return U(!V)}}),s.a.createElement("div",{className:"mx-auto"},s.a.createElement("div",{className:"p-2 rounded-lg shadow-xl"},s.a.createElement(p.a.Grid,{cols:3},s.a.createElement(p.a.List,{direction:"col",space:4,justify:"stretch",fill:!0},s.a.createElement(p.a.Grid,{cols:2},s.a.createElement(p.a.Form.Toggle,{label:(null===(t=T.hostCommuication)||void 0===t?void 0:t.manualAutomaticMode)?"Automatic":"Manual",id:"manualMode",value:null===(a=T.hostCommuication)||void 0===a?void 0:a.manualAutomaticMode,onChange:function(e){T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{manualAutomaticMode:e}))}}),s.a.createElement("div",null,s.a.createElement("label",null,"Connection Estabilished :"," ","".concat((null===(i=T.hostCommuication)||void 0===i?void 0:i.manualAutomaticMode)?"On":"Off")),s.a.createElement("label",{style:{color:(null===(d=T.hostCommuication)||void 0===d?void 0:d.manualAutomaticMode)?"green":"red"}},"Connection estabilished success."))),s.a.createElement(p.a.Form.InputWrapper,{label:"Instrument Type",id:"instrumentType"},s.a.createElement("select",{name:"instrumentType",value:null===(b=T.hostCommuication)||void 0===b?void 0:b.instrumentType,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t,a=e.target.value;T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{instrumentType:a}));var n=null===(t=x.listInterfaceManager)||void 0===t?void 0:t.find((function(e){return e.instrumentType===a}));T.updateSelectedInterfaceManager(n),T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{instrumentName:null===n||void 0===n?void 0:n.instrumentName}))}},s.a.createElement("option",{selected:!0},"Select"),null===(h=x.listInterfaceManager)||void 0===h?void 0:h.map((function(e){return s.a.createElement("option",{key:e.instrumentType,value:e.instrumentType},"".concat(e.instrumentType," - ").concat(e.dataFlowFrom.replaceAll(/&amp;/g,"&").replaceAll(/&gt;/g,">").replaceAll(/&lt;/g,"<").replaceAll(/&quot;/g,'"').replaceAll(/\xe2\x80\x99/g,"\u2019").replaceAll(/\xe2\x80\xa6/g,"\u2026").toString()))})))),s.a.createElement(p.a.Form.Input,{label:"Instrument Name",id:"instrumentName",placeholder:"Instrument Name",value:null===(g=T.hostCommuication)||void 0===g?void 0:g.instrumentName,onChange:function(e){T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{instrumentName:e}))}}),s.a.createElement(p.a.Form.InputWrapper,{label:"Mode of Communication",id:"modeOfCommunication"},s.a.createElement("select",{name:"defualtLab",value:null===(C=T.hostCommuication)||void 0===C?void 0:C.modeOfCommunication,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t=e.target.value;T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{modeOfCommunication:t}))}},s.a.createElement("option",{selected:!0},"Select"),[{title:"Broadcasting"},{title:"Host Query"},{title:"File based"}].map((function(e,t){return s.a.createElement("option",{key:e.title,value:e.title},e.title)})))),s.a.createElement(p.a.Form.InputWrapper,{label:"Type of Query",id:"typeOfQuery"},s.a.createElement("select",{name:"defualtLab",value:null===(E=T.hostCommuication)||void 0===E?void 0:E.typeOfQuery,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t=e.target.value;T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{typeOfQuery:t}))}},s.a.createElement("option",{selected:!0},"Select"),[{title:"Unidirectional"},{title:"Bidirectional"},{title:"Host Query\xa0"}].map((function(e,t){return s.a.createElement("option",{key:e.title,value:e.title},e.title)}))))),s.a.createElement(p.a.List,{direction:"col",space:4,justify:"stretch",fill:!0},s.a.createElement(p.a.Form.InputWrapper,{label:"Mode of Connection ",id:"modeOfConnection"},s.a.createElement("select",{name:"defualtLab",value:null===(O=T.hostCommuication)||void 0===O?void 0:O.modeOfConnection,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t=e.target.value;T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{modeOfConnection:t}))}},s.a.createElement("option",{selected:!0},"Select"),[{title:"Serial Port Communication"},{title:"TCP/IP Communication"}].map((function(e,t){return s.a.createElement("option",{key:e.title,value:e.title},e.title)})))),"Serial Port Communication"===(null===(y=T.hostCommuication)||void 0===y?void 0:y.modeOfConnection)&&s.a.createElement(n.SettingForRS232Table,null),"TCP/IP Communication"===(null===(j=T.hostCommuication)||void 0===j?void 0:j.modeOfConnection)&&s.a.createElement(n.SettingForTCP_IPTable,null)),s.a.createElement(p.a.List,{direction:"col",space:10,align:"between",justify:"center"},s.a.createElement("label",null,"Status : Pending"),s.a.createElement("div",{className:"flex"},s.a.createElement(p.a.Buttons.Button,{size:"medium",type:"solid",onClick:function(){}},"Save Setting")),s.a.createElement("div",{className:"flex mb-2"},s.a.createElement(p.a.Buttons.Button,{size:"medium",type:"solid",onClick:function(){}},"Generate Driver"))),s.a.createElement("div",{className:"clearfix"})),s.a.createElement(p.a.Grid,{cols:2},s.a.createElement(p.a.Form.InputWrapper,{label:"Apply Filtr on",id:"applyFiltrOn"},s.a.createElement("select",{name:"defualtLab",value:null===(S=T.hostCommuication)||void 0===S?void 0:S.applyFiltrOn,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t=e.target.value;T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{applyFiltrOn:t}))}},s.a.createElement("option",{selected:!0},"Select"),[{title:"Patient Data / QC Data"},{title:"Output Filter"},{title:"Import"}].map((function(e,t){return s.a.createElement("option",{key:e.title,value:e.title},e.title)})))),s.a.createElement(p.a.Form.Input,{label:"Log File",id:"logFileDataReceivefromInstrument",placeholder:"Log File",onChange:function(e){T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{logFileDataReceivefromInstrument:e}))}}),s.a.createElement("div",{className:"clerfix"})),s.a.createElement(v.Accordion,{allowMultiple:!0},[{title:"Hex to ASCII"},{title:"Source File"},{title:"Send data to Intrument"},{title:"Convert to"},{title:"Output in"}].map((function(e){var t,a,n,i,u,m,d,f,b,h,g,C,E,O,y,j,S,w;return s.a.createElement(v.AccordionItem,{title:"".concat(e.title)},"Hex to ASCII"===e.title&&s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a.List,{direction:"col",space:4,justify:"stretch",fill:!0},s.a.createElement("div",{className:"grid grid-cols-3 gap-4"},s.a.createElement("div",{className:"col-span-2"},s.a.createElement(p.a.Form.MultilineInput,{label:"",id:"txtHexToAscii",disabled:void 0==I.listdataConversation||void 0===(null===(t=T.hostCommuication)||void 0===t?void 0:t.instrumentType)||!((null===(a=I.listdataConversation)||void 0===a?void 0:a.length)>0),placeholder:"Hex",value:null===(n=T.hostCommuication)||void 0===n?void 0:n.hex,onChange:function(e){B.hextoascii(e),T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{hex:e}))}}))),s.a.createElement("div",{className:"clearfix"}))),"Source File"===e.title&&s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a.Grid,{cols:2},s.a.createElement(p.a.Form.InputWrapper,{label:"Source File",id:"sourceFileDataReceivefromInstrument"},s.a.createElement("select",{name:"defualtLab",value:null===(i=T.hostCommuication)||void 0===i?void 0:i.sourceFileDataReceivefromInstrument,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t=e.target.value;T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{sourceFileDataReceivefromInstrument:t}))}},s.a.createElement("option",{selected:!0},"Select"),[{title:"Hex decimal"},{title:"HL7"},{title:"ASTM"}].map((function(e,t){return s.a.createElement("option",{key:e.title,value:e.title},e.title)})))),s.a.createElement(p.a.Form.InputWrapper,{label:"Source Repository",id:"SourceRepositoryDataReceivefromInstrument"},s.a.createElement("select",{name:"defualtLab",disabled:void 0==F.listSegmentMapping||void 0===(null===(u=T.hostCommuication)||void 0===u?void 0:u.instrumentType)||!((null===(m=F.listSegmentMapping)||void 0===m?void 0:m.length)>0),value:null===(d=T.hostCommuication)||void 0===d?void 0:d.SourceRepositoryDataReceivefromInstrument,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t=e.target.value;if(T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{SourceRepositoryDataReceivefromInstrument:t})),"Phiysical file Location"===t){var a;if(T.hostCommuication,!(null===(a=T.hostCommuication)||void 0===a?void 0:a.instrumentType))return alert("Please entery instrument type");q({show:!0,title:"Import file!"})}}},s.a.createElement("option",{selected:!0},"Select"),[{title:"Phiysical file Location"},{title:"Collection of a database"}].map((function(e,t){return s.a.createElement("option",{key:e.title,value:e.title},e.title)})))),s.a.createElement("div",{className:"clearfix"})),s.a.createElement(p.a.List,{direction:"col",space:4,justify:"stretch",fill:!0},s.a.createElement("div",{className:"grid grid-cols-3 gap-4"},s.a.createElement("div",{className:"col-span-2"},s.a.createElement(p.a.Form.MultilineInput,{label:"",id:"txtDataReceivefromInstrument",placeholder:"Source file (Data Received Data from Instrument)",disabled:void 0==F.listSegmentMapping||void 0===(null===(f=T.hostCommuication)||void 0===f?void 0:f.instrumentType)||!((null===(b=F.listSegmentMapping)||void 0===b?void 0:b.length)>0),value:null===(h=T.hostCommuication)||void 0===h?void 0:h.txtDataReceivefromInstrument,onChange:function(e){M.newMessage(e)}})),s.a.createElement("div",{className:"flex flex-col items-center justify-center"},s.a.createElement("div",null,s.a.createElement(p.a.Buttons.Button,{size:"medium",type:"solid",onClick:function(){var e;L.emit("hostCommunicationSourceFile",null===(e=T.hostCommuication)||void 0===e?void 0:e.txtDataReceivefromInstrument)}},"Send")))),s.a.createElement("div",{className:"clearfix"}))),"Send data to Intrument"===e.title&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"grid grid-cols-3 gap-4"},s.a.createElement("div",{className:"col-span-2"},s.a.createElement(p.a.Form.MultilineInput,{label:"",id:"txtSendDatafromInstrument",placeholder:"Send data to Instrument",value:null===(g=T.hostCommuication)||void 0===g?void 0:g.txtSendDatafromInstrument,onChange:function(e){T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{txtSendDatafromInstrument:e}))}})),s.a.createElement("div",{className:"flex flex-col items-center justify-center"},s.a.createElement("div",null,s.a.createElement(p.a.Buttons.Button,{size:"medium",type:"solid",onClick:function(){var e;L.emit("hostCommunicationSendDataToInstrument",null===(e=T.hostCommuication)||void 0===e?void 0:e.txtSendDatafromInstrument)}},"Send"))))),"Convert to"===e.title&&s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a.Grid,{cols:2},s.a.createElement(p.a.Form.InputWrapper,{label:"Convert to",id:"convertTo"},s.a.createElement("select",{name:"defualtLab",value:null===(C=T.hostCommuication)||void 0===C?void 0:C.convertTo,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(){var e=Object(r.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{convertTo:n,SourceRepositoryDataReceivefromInstrument:""})),e.next=4,M.convetTo(n,T.selectedInterfaceManager,(null===(a=T.hostCommuication)||void 0===a?void 0:a.txtDataReceivefromInstrument)||"");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},s.a.createElement("option",{selected:!0},"Select"),[{title:"Hex decimal"},{title:"HL7"},{title:"ASTM"}].map((function(e,t){return s.a.createElement("option",{key:e.title,value:e.title},e.title)})))),s.a.createElement(p.a.Form.InputWrapper,{label:"Output Repository",id:"outputRepository"},s.a.createElement("select",{name:"defualtLab",value:null===(E=T.hostCommuication)||void 0===E?void 0:E.outputRepository,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t=e.target.value;T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{outputRepository:t}))}},s.a.createElement("option",{selected:!0},"Select"),[{title:"Phiysical file Location"},{title:"Collection of a database"}].map((function(e,t){return s.a.createElement("option",{key:e.title,value:e.title},e.title)})))),s.a.createElement("div",{className:"clearfix"})),s.a.createElement(p.a.List,{direction:"col",space:4,justify:"stretch",fill:!0},s.a.createElement("div",{className:"grid grid-cols-3 gap-4"},s.a.createElement("div",{className:"col-span-2"},void 0!==(null===(O=T.convertTo)||void 0===O?void 0:O.hl7)&&s.a.createElement(o.HL7Table,{data:Object(D.toJS)(T.convertTo.hl7)})),s.a.createElement("div",{className:"flex flex-col items-center justify-center"},s.a.createElement("div",null,s.a.createElement(p.a.Buttons.Button,{size:"medium",type:"solid",onClick:function(){}},"Convert")))),s.a.createElement("div",{className:"clearfix"}))),"Output in"===e.title&&s.a.createElement(s.a.Fragment,null,s.a.createElement(p.a.List,{direction:"col",space:4,justify:"start"},s.a.createElement(p.a.Form.InputWrapper,{label:"Output in",id:"outPutIn"},s.a.createElement("select",{name:"defualtLab",value:null===(y=T.hostCommuication)||void 0===y?void 0:y.outPutIn,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t=e.target.value;T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{outPutIn:t}))}},s.a.createElement("option",{selected:!0},"Select"),[{title:"PDF"},{title:"CSV"},{title:"TXT"},{title:"Table/Collection"},{title:"API"},{title:"Graph"}].map((function(e,t){return s.a.createElement("option",{key:e.title,value:e.title},e.title)})))),s.a.createElement("div",{className:"clearfix"})),s.a.createElement(p.a.List,{direction:"col",space:4,justify:"stretch",fill:!0},s.a.createElement("div",{className:"grid grid-cols-3 gap-4"},s.a.createElement("div",{className:"col-span-2"},s.a.createElement(p.a.Form.MultilineInput,{id:"txtOutputin",placeholder:"Output in",value:null===(j=T.hostCommuication)||void 0===j?void 0:j.txtOutputin,onChange:function(e){T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{txtOutputin:e}))}})),s.a.createElement("div",{className:"flex flex-col items-center justify-center"},s.a.createElement("div",null,s.a.createElement(p.a.Buttons.Button,{size:"medium",type:"solid",onClick:function(){}},"Output")))),s.a.createElement("div",{className:"clearfix"})),s.a.createElement(p.a.Grid,{cols:2},s.a.createElement(p.a.Form.InputWrapper,{label:"Output for Third party Software",id:"outputforThirdpartySoftware"},s.a.createElement("select",{name:"defualtLab",value:null===(S=T.hostCommuication)||void 0===S?void 0:S.outputforThirdpartySoftware,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t=e.target.value;T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{outputforThirdpartySoftware:t}))}},s.a.createElement("option",{selected:!0},"Select"),[{title:"Serial to Serial"},{title:"HL7"},{title:"ASTM"}].map((function(e,t){return s.a.createElement("option",{key:e.title,value:e.title},e.title)})))),s.a.createElement(p.a.Form.InputWrapper,{label:"Output Repository",id:"SourceRepositoryThiredPartySoftare"},s.a.createElement("select",{name:"defualtLab",value:null===(w=T.hostCommuication)||void 0===w?void 0:w.SourceRepositoryThiredPartySoftare,className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border border-gray-300 rounded-md",onChange:function(e){var t=e.target.value;T.updateHostCommuication(Object(c.a)(Object(c.a)({},T.hostCommuication),{},{SourceRepositoryThiredPartySoftare:t}))}},s.a.createElement("option",{selected:!0},"Select"),[{title:"Phiysical file Location"},{title:"Collection of a database"}].map((function(e,t){return s.a.createElement("option",{key:e.title,value:e.title},e.title)})))),s.a.createElement("div",{className:"clearfix"}))))}))),s.a.createElement("br",null),s.a.createElement(p.a.List,{direction:"row",space:3,align:"center"},s.a.createElement(p.a.Buttons.Button,{size:"medium",type:"solid",icon:p.a.Icon.Save,onClick:function(){}},"Save"),s.a.createElement(p.a.Buttons.Button,{size:"medium",type:"outline",icon:p.a.Icon.Remove,onClick:function(){window.location.reload()}},"Clear"))),s.a.createElement("br",null),s.a.createElement(p.b.ModalConfirm,Object.assign({},P,{click:function(){}}))),s.a.createElement(p.a.ModalImportFile,Object.assign({accept:".csv,.xlsx,.xls,.txt,.hl7"},G,{click:function(e){q({show:!1});var t=new FileReader;t.onload=function(e){var t=e.target.result.split(/\r/);console.log({lines:t});var a=t.join("\n");M.newMessage(a)},t.onerror=function(e){return alert(e.target.error.name)},t.readAsText(e)},close:function(){q({show:!1})}})))}));t.default=G}}]);