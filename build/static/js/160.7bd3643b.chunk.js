"use strict";(self.webpackChunklimsplus_portal=self.webpackChunklimsplus_portal||[]).push([[160],{40160:function(e,n,i){i.r(n);var o=i(4942),t=i(1413),l=i(29439),r=i(72791),s=i(71672),u=i(2805),c=i(47394),d=i(22414),a=i(2463),h=i(80184),g=(0,s.Pi)((function(){var e,n,i,s,g,v,p=(0,d.mZ)(),m=p.loginStore,f=p.shortcutMenuStore,x=p.routerStore;(0,r.useEffect)((function(){var e,n=[];null===(e=x.userRouter)||void 0===e||e.filter((function(e){e.children.filter((function(i){var o,t,l,r=(null===(o=m.login)||void 0===o?void 0:o.shortcutMenu)&&(null===(t=m.login)||void 0===t?void 0:t.shortcutMenu[m.login.role||""])&&(null===(l=m.login)||void 0===l?void 0:l.shortcutMenu[m.login.role||""].filter((function(n){return n.category===e.name&&n.name===i.name})));r&&(null===r||void 0===r?void 0:r.length)>0?i.selected=!0:i.selected=!1,i.category=e.name,n.push(i)}))})),f.updateShortcutMenu(n)}),[]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(a.Z,{title:(null===(e=x.selectedComponents)||void 0===e?void 0:e.title)||"",store:m}),(null===(n=m.login)||void 0===n?void 0:n.shortcutMenu)&&(null===(i=m.login)||void 0===i?void 0:i.shortcutMenu[m.login.role||""])&&(null===(s=m.login)||void 0===s?void 0:s.shortcutMenu)&&(null===(g=m.login)||void 0===g?void 0:g.shortcutMenu[m.login.role||""].length)>0&&(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"mt-2",children:"Active:"}),(0,h.jsx)(c.Z5,{onDragEnd:function(e){var n,i,r,s=Array.from((null===(n=m.login)||void 0===n?void 0:n.shortcutMenu)&&(null===(i=m.login)||void 0===i?void 0:i.shortcutMenu[m.login.role||""])||[]),u=s.splice(e.source.index,1),c=(0,l.Z)(u,1)[0];s.splice(e.destination.index,0,c),m.updateLogin((0,t.Z)((0,t.Z)({},m.login),{},{shortcutMenu:(0,o.Z)({},(null===(r=m.login)||void 0===r?void 0:r.role)||"",s)})),f.updateDragDrop(!0)},children:(0,h.jsx)(c.bK,{droppableId:"characters",direction:"horizontal",children:function(e,n){var i,o,l;return(0,h.jsx)("ul",(0,t.Z)((0,t.Z)({style:(l=n.isDraggingOver,{background:l?"lightblue":"none",display:"flex",padding:8,overflow:"auto"})},e.droppableProps),{},{ref:e.innerRef,children:(null===(i=m.login)||void 0===i?void 0:i.shortcutMenu)&&(null===(o=m.login)||void 0===o?void 0:o.shortcutMenu[m.login.role||""].map((function(e,n){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(c._l,{draggableId:e.title,index:n,children:function(n,i){return(0,h.jsxs)("div",(0,t.Z)((0,t.Z)((0,t.Z)({className:"flex items-center bg-blue-500  p-2 m-2 rounded-md",ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{children:[(0,h.jsx)(u.PJ.RIcon,{nameIcon:e.icon||"VscListSelection",propsIcon:{color:"#ffffff",size:18}}),(0,h.jsx)("li",{className:"m-2 text-white",children:e.title})]}))}},e.title)})})))}))}})}),f.isDragDropList&&(0,h.jsxs)("div",{className:"flex items-center justify-center",children:[(0,h.jsx)(u.EK.zx,{size:"medium",type:"solid",icon:u.ny.vc,onClick:function(){var e,n,i,o;f.ShortcutMenuService.updateShortcutMenu({input:{userRole:null===(e=m.login)||void 0===e?void 0:e.role,selectedList:(null===(n=m.login)||void 0===n?void 0:n.shortcutMenu)&&(null===(i=m.login)||void 0===i?void 0:i.shortcutMenu[m.login.role||""]),_id:null===(o=m.login)||void 0===o?void 0:o._id}}).then((function(e){e.updateShortcutMenu.success?(u.FN.success({message:"\ud83d\ude0a ".concat(e.updateShortcutMenu.message)}),f.updateDragDrop(!1)):u.FN.error({message:"\ud83d\ude14Please try agian."})}))},children:"Update"}),(0,h.jsx)("br",{})," ",(0,h.jsx)("br",{})]})]}),(0,h.jsx)("hr",{}),(0,h.jsxs)("div",{className:"flex-wrap",children:[(0,h.jsx)("label",{className:"mt-2",children:"List:"}),(0,h.jsx)("ul",{className:"grid sm:grid-cols-1 md:grid-cols-6 xl:grid-cols-6 p-2",children:f.shortcutMenuList&&(null===(v=f.shortcutMenuList)||void 0===v?void 0:v.map((function(e,n){return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"flex items-center bg-gray-500  p-2 m-2 rounded-md ",children:[(0,h.jsx)("input",{type:"checkbox",className:"mr-2",name:e.name,value:e.name,checked:e.selected,onChange:function(){return function(e,n){var i=f.shortcutMenuList;i&&(i[n].selected=!i[n].selected),f.updateShortcutMenu(i)}(0,n)}}),(0,h.jsx)(u.PJ.RIcon,{nameIcon:e.icon||"VscListSelection",propsIcon:{color:"#ffffff",size:18}}),(0,h.jsx)("li",{className:"m-2 text-white",children:e.title})]})})})))}),(0,h.jsx)("br",{}),(0,h.jsx)(u.aV,{direction:"row",space:3,align:"center",children:(0,h.jsx)(u.EK.zx,{size:"medium",type:"solid",icon:u.ny.vc,onClick:function(){var e,n,i,o=null===(e=f.shortcutMenuList)||void 0===e?void 0:e.filter((function(e){return!0===e.selected})),l=null===(n=m.login)||void 0===n?void 0:n.role;o&&(null===o||void 0===o?void 0:o.length)>0&&f.ShortcutMenuService.updateShortcutMenu({input:{userRole:l,selectedList:o,_id:null===(i=m.login)||void 0===i?void 0:i._id}}).then((function(e){e.updateShortcutMenu.success?(u.FN.success({message:"\ud83d\ude0a ".concat(e.updateShortcutMenu.message)}),m.updateLogin((0,t.Z)((0,t.Z)({},m.login),{},{shortcutMenu:e.updateShortcutMenu.data.shortcutMenu}))):u.FN.error({message:"\ud83d\ude14Please try agian."})}))},children:"Update"})})]})]})}));n.default=g}}]);
//# sourceMappingURL=160.7bd3643b.chunk.js.map