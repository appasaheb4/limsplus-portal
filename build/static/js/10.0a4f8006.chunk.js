(this.webpackJsonplimsplus_portal=this.webpackJsonplimsplus_portal||[]).push([[10],{912:function(e,t,n){"use strict";n.r(t);var o=n(18),l=n(3),a=n(9),i=n(1),r=n.n(i),c=n(14),u=n(2),s=n(121),d=n(4),g=Object(c.a)((function(){var e,t,n,c,g,m,v=Object(d.b)(),p=v.loginStore,h=v.shortcutMenuStore,f=v.routerStore;Object(i.useEffect)((function(){var e,t=[];null===(e=f.userRouter)||void 0===e||e.filter((function(e){e.children.filter((function(n){var o,l,a,i=(null===(o=p.login)||void 0===o?void 0:o.shortcutMenu)&&(null===(l=p.login)||void 0===l?void 0:l.shortcutMenu[p.login.role||""])&&(null===(a=p.login)||void 0===a?void 0:a.shortcutMenu[p.login.role||""].filter((function(t){return t.category===e.name&&t.name===n.name})));i&&(null===i||void 0===i?void 0:i.length)>0?n.selected=!0:n.selected=!1,n.category=e.name,t.push(n)}))})),h.updateShortcutMenu(t)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a.Header,null,r.a.createElement(u.a.PageHeading,{title:(null===(e=f.selectedComponents)||void 0===e?void 0:e.title)||""}),r.a.createElement(u.a.PageHeadingLabDetails,{store:p})),(null===(t=p.login)||void 0===t?void 0:t.shortcutMenu)&&(null===(n=p.login)||void 0===n?void 0:n.shortcutMenu[p.login.role||""])&&(null===(c=p.login)||void 0===c?void 0:c.shortcutMenu)&&(null===(g=p.login)||void 0===g?void 0:g.shortcutMenu[p.login.role||""].length)>0&&r.a.createElement("div",null,r.a.createElement("label",{className:"mt-2"},"Active:"),r.a.createElement(s.a,{onDragEnd:function(e){var t,n,i;console.log({user:p.login});var r=Array.from((null===(t=p.login)||void 0===t?void 0:t.shortcutMenu)&&(null===(n=p.login)||void 0===n?void 0:n.shortcutMenu[p.login.role||""])||[]),c=r.splice(e.source.index,1),u=Object(a.a)(c,1)[0];r.splice(e.destination.index,0,u),console.log({items:r}),p.updateLogin(Object(l.a)(Object(l.a)({},p.login),{},{shortcutMenu:Object(o.a)({},(null===(i=p.login)||void 0===i?void 0:i.role)||"",r)})),h.updateDragDrop(!0)}},r.a.createElement(s.c,{droppableId:"characters",direction:"horizontal"},(function(e,t){var n,o,l;return r.a.createElement("ul",Object.assign({style:(l=t.isDraggingOver,{background:l?"lightblue":"none",display:"flex",padding:8,overflow:"auto"})},e.droppableProps,{ref:e.innerRef}),(null===(n=p.login)||void 0===n?void 0:n.shortcutMenu)&&(null===(o=p.login)||void 0===o?void 0:o.shortcutMenu[p.login.role||""].map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{key:e.title,draggableId:e.title,index:t},(function(t,n){return r.a.createElement("div",Object.assign({className:"flex items-center bg-blue-500  p-2 m-2 rounded-md",ref:t.innerRef},t.draggableProps,t.dragHandleProps),r.a.createElement(u.a.Icons.IconContext,{color:"#fff",size:"22"},u.a.Icons.getIconTag(u.a.Icons.getIcons(e.icon)||u.a.Icons.IconBs.BsList)),r.a.createElement("li",{className:"m-2 text-white"},e.title))})))}))))}))),h.isDragDropList&&r.a.createElement("div",{className:"flex items-center justify-center"},r.a.createElement(u.a.Buttons.Button,{size:"medium",type:"solid",icon:u.a.Icon.Save,onClick:function(){var e,t,n,o;h.ShortcutMenuService.updateShortcutMenu({input:{userRole:null===(e=p.login)||void 0===e?void 0:e.role,selectedList:(null===(t=p.login)||void 0===t?void 0:t.shortcutMenu)&&(null===(n=p.login)||void 0===n?void 0:n.shortcutMenu[p.login.role||""]),_id:null===(o=p.login)||void 0===o?void 0:o._id}}).then((function(e){e.updateShortcutMenu.success?(u.a.Toast.success({message:"\ud83d\ude0a ".concat(e.updateShortcutMenu.message)}),h.updateDragDrop(!1)):u.a.Toast.error({message:"\ud83d\ude14Please try agian."})}))}},"Update"),r.a.createElement("br",null)," ",r.a.createElement("br",null))),r.a.createElement("hr",null),r.a.createElement("div",{className:"flex-wrap"},r.a.createElement("label",{className:"mt-2"},"List:"),r.a.createElement("ul",{className:"grid grid-cols-6 p-2"},h.shortcutMenuList&&(null===(m=h.shortcutMenuList)||void 0===m?void 0:m.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex items-center bg-gray-500  p-2 m-2 rounded-md"},r.a.createElement("input",{type:"checkbox",className:"mr-2",name:e.name,value:e.name,checked:e.selected,onChange:function(){return function(e,t){var n=h.shortcutMenuList;n&&(n[t].selected=!n[t].selected),console.log({list:n}),h.updateShortcutMenu(n)}(0,t)}}),r.a.createElement(u.a.Icons.IconContext,{color:"#fff",size:"22"},u.a.Icons.getIconTag(u.a.Icons.getIcons(e.icon)||u.a.Icons.IconBs.BsList)),r.a.createElement("li",{className:"m-2 text-white"},e.title)))})))),r.a.createElement("br",null),r.a.createElement(u.a.List,{direction:"row",space:3,align:"center"},r.a.createElement(u.a.Buttons.Button,{size:"medium",type:"solid",icon:u.a.Icon.Save,onClick:function(){var e,t,n,o=null===(e=h.shortcutMenuList)||void 0===e?void 0:e.filter((function(e){return!0===e.selected})),a=null===(t=p.login)||void 0===t?void 0:t.role;o&&(null===o||void 0===o?void 0:o.length)>0&&h.ShortcutMenuService.updateShortcutMenu({input:{userRole:a,selectedList:o,_id:null===(n=p.login)||void 0===n?void 0:n._id}}).then((function(e){e.updateShortcutMenu.success?(u.a.Toast.success({message:"\ud83d\ude0a ".concat(e.updateShortcutMenu.message)}),p.updateLogin(Object(l.a)(Object(l.a)({},p.login),{},{shortcutMenu:e.updateShortcutMenu.data.shortcutMenu}))):u.a.Toast.error({message:"\ud83d\ude14Please try agian."})}))}},"Update"))))}));t.default=g}}]);