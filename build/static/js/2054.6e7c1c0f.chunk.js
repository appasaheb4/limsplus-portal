"use strict";(self.webpackChunklimsplus_portal=self.webpackChunklimsplus_portal||[]).push([[2054],{12054:function(e,t,o){o.r(t),o.d(t,{default:function(){return H}});var n=o(74165),a=o(15861),i=o(1413),l=o(29439),r=o(72791),s=o(71672),d=o(763),c=o.n(d),u=o(20500),p=o(61134),v=o(10621),x=o(97892),f=o.n(x),g=o(4942),m=o(2002),h=o(33294),b=o.n(h),P=o(12657),S=o(36161),y=o(92746),j=(o(26192),o(65028)),w=o(80184),C=(h.Search.SearchBar,h.Search.ClearSearchButton,h.CSVExport.ExportCSVButton,function(e){var t=e.id,o=void 0===t?"":t,n=e.data,a=e.totalSize,s=void 0===a?10:a,d=(e.searchPlaceholder,e.page),u=void 0===d?0:d,p=e.sizePerPage,v=void 0===p?10:p,x=e.columns,h=e.fileName,j=e.isEditModify,C=(e.isSelectRow,e.selectedItem,e.onSelectedRow,e.onUpdateItem),F=e.onPageSizeChange,N=e.onFilter,R=(e.clearAllFilter,e.onClickRow),Z=(0,r.useState)(),I=(0,l.Z)(Z,2),T=(I[0],I[1],(0,r.useState)(!1)),k=(0,l.Z)(T,2),z=(k[0],k[1],{cutome:!0,totalSize:s,paginationSize:5,pageStartIndex:0,firstPageText:"<<",prePageText:"<",nextPageText:">",lastPageText:">>",disablePageTitle:!0,paginationTotalRenderer:function(e,t,o){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"clearfix"}),(0,w.jsxs)("span",{children:["Showing ",e," to ",t," of ",o," Results"]})]})},hideSizePerPage:!0,showTotal:!1,alwaysShowAllBtns:!0,sizePerPageList:[{text:"10",value:10},{text:"20",value:20},{text:"30",value:30},{text:"40",value:40},{text:"50",value:50}],hidePageListOnlyOnePage:!0,sizePerPageRenderer:function(e){var t=e.options,o=e.currSizePerPage,n=e.onSizePerPageChange;return(0,w.jsxs)("div",{className:"btn-group items-center",role:"group",children:[(0,w.jsx)("input",{type:"number",min:"0",placeholder:"No",onChange:function(e){e.target.value&&n(e.target.value)},className:"mr-2 ml-2 leading-4 p-2 w-14 focus:outline-none focus:ring block  shadow-sm sm:text-base border border-gray-300 rounded-md"}),t.map((function(e){return(0,w.jsx)("button",{type:"button",onClick:function(){return n(e.page)},className:"btn  ".concat(o==="".concat(e.page)?"bg-primary":"bg-grey"),children:e.text},e.text)}))]})}}),A=function(e,t){var o=t.data,n=t.cellEdit,a=t.page,i=t.sizePerPage,r=t.filters,d=t.sortField,u=t.sortOrder,p=t.searchText;if("cellEdit"===e&&j&&C&&C(n.newValue,n.dataField,n.rowId),"pagination"===e&&c().isEmpty(r)&&F&&F(a,i),"filter"===e||"pagination"===e&&!c().isEmpty(r)){if("pagination"===e){if(i>s)return alert("You have not more records.");if(a*i>s)return alert("You have not more records.")}for(var v={},x=0,f=Object.entries(r);x<f.length;x++){var m=(0,l.Z)(f[x],2),h=m[0],b=m[1],P=(0,g.Z)({},h,b.filterVal);v=Object.assign(v,P)}N&&N(e,v,"filter"===e&&1===a?0:a,i)}("search"===e&&setTimeout((function(){N&&N(e,{srText:p},a,i)}),2e3),"sort"===e)&&("asc"===u?o.sort((function(e,t){return e[d]>t[d]?1:t[d]>e[d]?-1:0})):o.sort((function(e,t){return e[d]>t[d]?-1:t[d]>e[d]?1:0})))},E={onClick:function(e,t,o){R&&R(t,o)}},D=function(e,t){var o,n,a,i,l;switch(null===e||void 0===e||null===(o=e.colorScheme)||void 0===o?void 0:o.envRangeColor){case"BOTH":return{backgroundColor:null===e||void 0===e||null===(n=e.colorScheme)||void 0===n?void 0:n.cellColor,color:null===e||void 0===e||null===(a=e.colorScheme)||void 0===a?void 0:a.fontColor};case"BACKGROUND":return{backgroundColor:null===e||void 0===e||null===(i=e.colorScheme)||void 0===i?void 0:i.cellColor};case"FONT":return{color:null===e||void 0===e||null===(l=e.colorScheme)||void 0===l?void 0:l.fontColor}}};return(0,w.jsx)(S.bN,{pagination:(0,S.ZP)(0!==s?z:{page:u,sizePerPage:v,totalSize:s}),keyField:o,columns:x,data:n,children:function(e){e.paginationProps;var t=e.paginationTableProps;return(0,w.jsx)(b(),{keyField:o,bootstrap4:!0,data:n,columns:x,search:!0,exportCSV:{fileName:"".concat(h,"_").concat(f()(new Date).format("YYYY-MM-DD HH:mm"),".csv"),noAutoBOM:!1,blobType:"text/csv;charset=ansi",exportAll:!1,onlyExportFiltered:!0},columnToggle:!0,children:function(e){return(0,w.jsx)("div",{children:(0,w.jsx)("div",{className:"scrollTable",children:(0,w.jsx)(m.Z,(0,i.Z)((0,i.Z)((0,i.Z)({remote:!0},e.baseProps),{},{noDataIndication:"Table is Empty",hover:!0},t),{},{filter:(0,y.ZP)(),cellEdit:j?(0,P.ZP)({mode:"dbclick",blurToSave:!0}):void 0,headerClasses:"bg-gray-500 text-white whitespace-nowrap",onTableChange:A,rowEvents:E,rowStyle:D}))})})}})}})}),F=o(73042),N=o(97430),R=function(e){var t=e.id,o=e.data,n=void 0===o?[]:o,a=e.totalSize,r=void 0===a?10:a,s=(e.searchPlaceholder,e.page),d=void 0===s?0:s,u=e.sizePerPage,p=void 0===u?10:u,v=e.columns,x=(e.onSelectedRow,e.onUpdateItem),f=e.onPageSizeChange,h=e.onFilter,P=(e.clearAllFilter,{cutome:!0,totalSize:r,paginationSize:5,pageStartIndex:0,firstPageText:"<<",prePageText:"<",nextPageText:">",lastPageText:">>",disablePageTitle:!0,paginationTotalRenderer:function(e,t,o){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"clearfix"}),(0,w.jsxs)("span",{children:["Showing ",e," to ",t," of ",o," Results"]})]})},hideSizePerPage:!0,showTotal:!1,alwaysShowAllBtns:!0,sizePerPageList:[{text:"10",value:10},{text:"20",value:20},{text:"30",value:30},{text:"40",value:40},{text:"50",value:50}],hidePageListOnlyOnePage:!0,sizePerPageRenderer:function(e){var t=e.options,o=e.currSizePerPage,n=e.onSizePerPageChange;return(0,w.jsxs)("div",{className:"btn-group items-center",role:"group",children:[(0,w.jsx)("input",{type:"number",min:"0",placeholder:"No",onChange:function(e){e.target.value&&n(e.target.value)},className:"mr-2 ml-2 leading-4 p-2 w-14 focus:outline-none focus:ring block  shadow-sm sm:text-base border border-gray-300 rounded-md"}),t.map((function(e){return(0,w.jsx)("button",{type:"button",onClick:function(){return n(e.page)},className:"btn ".concat(o==="".concat(e.page)?"btn-primary":"btn-secondary"),children:e.text},e.text)}))]})}}),C=function(e,t){var o=t.data,n=t.cellEdit,a=t.page,i=t.sizePerPage,s=t.filters,d=t.sortField,u=t.sortOrder,p=t.searchText;if("cellEdit"===e&&x&&x(n.newValue,n.dataField,n.rowId),"pagination"===e&&c().isEmpty(s)&&f&&f(a,i),"filter"===e||"pagination"===e&&!c().isEmpty(s)){if("pagination"===e){if(i>r)return alert("You have not more records.");if(a*i>r)return alert("You have not more records.")}for(var v={},m=0,b=Object.entries(s);m<b.length;m++){var P=(0,l.Z)(b[m],2),S=P[0],y=P[1],w=(0,g.Z)({},S,y.filterVal);v=Object.assign(v,w)}h&&(0,j.Ds)((function(){h(e,v,"filter"===e&&1===a?0:a,i)}))}("search"===e&&(0,j.Ds)((function(){h&&h(e,{srText:p},a,i)})),"sort"===e)&&("asc"===u?o.sort((function(e,t){return e[d]>t[d]?1:t[d]>e[d]?-1:0})):o.sort((function(e,t){return e[d]>t[d]?-1:t[d]>e[d]?1:0})))},F=function(e,t){var o,n,a,i,l;switch(null===e||void 0===e||null===(o=e.colorScheme)||void 0===o?void 0:o.envRangeColor){case"BOTH":return{backgroundColor:null===e||void 0===e||null===(n=e.colorScheme)||void 0===n?void 0:n.cellColor,color:null===e||void 0===e||null===(a=e.colorScheme)||void 0===a?void 0:a.fontColor};case"BACKGROUND":return{backgroundColor:null===e||void 0===e||null===(i=e.colorScheme)||void 0===i?void 0:i.cellColor};case"FONT":return{color:null===e||void 0===e||null===(l=e.colorScheme)||void 0===l?void 0:l.fontColor}}};return(0,w.jsx)(S.bN,{pagination:(0,S.ZP)(0!==r?P:{page:d,sizePerPage:p,totalSize:r}),keyField:t,columns:v,data:n,children:function(e){e.paginationProps;var o=e.paginationTableProps;return(0,w.jsx)(b(),{keyField:t,bootstrap4:!0,data:n,columns:v,search:!0,columnToggle:!0,children:function(e){return(0,w.jsx)("div",{style:{maxWidth:200},children:(0,w.jsx)(m.Z,(0,i.Z)((0,i.Z)((0,i.Z)({remote:!0},e.baseProps),{},{noDataIndication:"Table is Empty",hover:!0},o),{},{filter:(0,y.ZP)(),headerClasses:"bg-gray-500 text-white whitespace-nowrap",onTableChange:C,rowStyle:F}))})}})}})},Z=(0,s.Pi)((function(e){var t=(0,r.useState)({}),o=(0,l.Z)(t,2),s=o[0],d=o[1],c=(0,r.useState)("20px"),p=(0,l.Z)(c,2),v=p[0],x=p[1],g=(0,r.useState)(""),m=(0,l.Z)(g,2),h=m[0],b=m[1],P=(0,r.useState)("20px"),S=(0,l.Z)(P,2),y=S[0],j=S[1],Z=(0,r.useState)(""),I=(0,l.Z)(Z,2),T=I[0],k=I[1];return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{style:{position:"relative"},children:(0,w.jsx)(C,{id:"_id",data:null===e||void 0===e?void 0:e.data,totalSize:null===e||void 0===e?void 0:e.totalSize,selectedItem:s,columns:[{dataField:"_id",text:"Id",hidden:!0,csvExport:!1},{dataField:"sampleId",text:"Sample Id",sort:!0,editable:!1,headerClasses:"textHeaderm"},{dataField:"test",text:"Test",sort:!0,editable:!1,headerClasses:"textHeader6",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0,maxWidth:"130px",position:"relative"},formatter:function(e,t){return(0,w.jsx)("span",{title:t.test,children:e})}},{dataField:"analyte",text:"Analyte",sort:!0,editable:!1,headerClasses:"textHeader2",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0,maxWidth:"130px",position:"relative"},formatter:function(e,t){return(0,w.jsx)("span",{title:t.analyte,children:e})}},{dataField:"result",text:"Result",sort:!0,headerClasses:"textHeader1",editable:function(e,t,o,n){return null===t||void 0===t?void 0:t.isResultUpdate},editorRenderer:function(t,o,l,r,s,d){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(F.Y,{row:l,onSelect:function(){var t=(0,a.Z)((0,n.Z)().mark((function t(o){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=(0,i.Z)((0,i.Z)({},l),o),e.onUpdateResult&&e.onUpdateResult((0,i.Z)((0,i.Z)({},a),{},{resultStatus:(0,N.N0)(a.resultType,a),testStatus:(0,N.vL)(a.resultType,a),abnFlag:(0,N.cL)(a.resultType,a),critical:(0,N.O3)(a.resultType,a)},o),a._id,a.patientResultId);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})})}},{dataField:"abnFlag",text:"Abn Flag",sort:!0,editable:!1,formatter:function(e,t){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(u.l0.ZD,{disabled:!0,value:t.abnFlag})})}},{dataField:"critical",text:"Critical",sort:!0,editable:!1,formatter:function(e,t){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(u.l0.ZD,{disabled:!0,value:t.critical})})}},{dataField:"refRangesList",text:"Ref Ranges",sort:!0,editable:!1,headerClasses:"textHeaderxxm",style:{width:v},formatter:function(e,t){var o,n;return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,w.jsx)("span",{children:"NaN"===t.loNor&&"NaN"===t.hiNor||" "===t.loNor&&" "===t.hiNor?"-":"NaN"===t.loNor&&" "===t.hiNor?"<":" "===t.loNor&&"NaN"===t.hiNor?">":t.loNor+"-"+t.hiNor}),(0,w.jsx)("div",{children:(null===(o=t.refRangesList)||void 0===o?void 0:o.length)>0&&(0,w.jsx)(u.u,{tooltipText:t._id!=h?"Expand":"Collapse",children:(0,w.jsx)(u.PJ.IconContext,{color:"#000000",size:"20",onClick:function(){t._id===h?(b(""),x("30px")):(b(t._id),x("550px"))},children:u.PJ.getIconTag(t._id!=h?u.PJ.IconBi.BiExpand:u.PJ.IconBi.BiCollapse)})})})]}),h==t._id?(0,w.jsx)("div",{style:{width:v},children:(0,w.jsx)(R,{id:"_id",data:(null===t||void 0===t?void 0:t.refRangesList)||[],totalSize:(null===t||void 0===t||null===(n=t.refRangesList)||void 0===n?void 0:n.length)||0,columns:[{dataField:"result",text:"Result",editable:!1,formatter:function(){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("span",{children:t.result})})}},{dataField:"rangeType",text:"Range Type"},{dataField:"low",text:"Low"},{dataField:"high",text:"High"},{dataField:"rangeSetOn",text:"Range Set On"},{dataField:"rangeId",text:"Range Id"},{dataField:"version",text:"Range Version"}],onSelectedRow:function(e){},onUpdateItem:function(e,t,o){}})}):null]})}},{dataField:"units",text:"Units",sort:!0,editable:!1},{dataField:"conclusion",text:"Conclusion",style:{width:y},editable:function(e,t,o,n){return null===t||void 0===t?void 0:t.isResultUpdate},formatter:function(e,t){var o;return(0,w.jsx)("span",{children:null===t||void 0===t||null===(o=t.conclusion)||void 0===o?void 0:o.toString()})},editorRenderer:function(t,o,n,a,i,l){return(0,w.jsxs)("div",{className:"flex flex-col",children:[(0,w.jsx)(u.u,{tooltipText:n._id!=T?"Expand":"Collapse",children:(0,w.jsx)(u.PJ.IconContext,{color:"#000000",size:"20",onClick:function(){n._id===T?(k(""),j("30px")):(k(n._id),j("200px"))},children:u.PJ.getIconTag(n._id!=T?u.PJ.IconBi.BiExpand:u.PJ.IconBi.BiCollapse)})}),n._id===T&&(0,w.jsx)("div",{style:{width:y},children:(0,w.jsx)(u.l0.$l,{rows:3,placeholder:"Conclusion",className:"text-black",onBlur:function(t){e.onUpdateFields&&e.onUpdateFields({conclusion:t},n._id),k(""),j("30px")},defaultValue:null===n||void 0===n?void 0:n.conclusion})})]})}},{dataField:"sampleType",text:"Sample Type",sort:!0,editable:!1,headerClasses:"textHeaderm",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0,maxWidth:"130px",position:"relative"},formatter:function(e,t){return(0,w.jsx)("span",{title:t.sampleType,children:e})}},{dataField:"containerId",text:"Container Id",sort:!0,editable:!1},{dataField:"remarks",text:"Remarks",sort:!0,editable:!1},{dataField:"deltaFlag",text:"Delta Flag",sort:!0,editable:!1,formatter:function(e,t){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(u.l0.ZD,{disabled:!0,value:t.deltaFlag})})}},{dataField:"deltaValue",text:"Delta Value",sort:!0,editable:!1},{dataField:"Result Status",text:"Result Status",sort:!0,editable:!1},{dataField:"testStatus",text:"Test Status",sort:!0,editable:!1},{dataField:"approvalDate",text:"Approval Date",sort:!0,editable:!1,headerClasses:"textHeaderm",formatter:function(e,t){return t.approvalDate?f()(t.approvalDate).format("DD-MM-YYYY HH:mm:ss"):""}},{dataField:"autoRelease",text:"Auto Release",sort:!0,editable:!1,formatter:function(e,t){return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(u.l0.ZD,{disabled:!0,value:t.autoRelease})})}},{dataField:"final",text:"Final",sort:!0,editable:!1},{dataField:"enteredBy",text:"Entered By",sort:!0,csvFormatter:function(e){return e||""},editable:!1}],isEditModify:!0,isSelectRow:!0,fileName:"Pending Panel Approval",onSelectedRow:function(t){e.onSelectedRow&&e.onSelectedRow(t.map((function(e){return e._id})))},onUpdateItem:function(t,o,n){e.onUpdateItem&&e.onUpdateItem(t,o,n)},onPageSizeChange:function(t,o){e.onPageSizeChange&&e.onPageSizeChange(t,o)},onFilter:function(t,o,n,a){e.onFilter&&e.onFilter(t,o,n,a)},clearAllFilter:function(){},onClickRow:function(t,o){d(t),e.onClickRow&&e.onClickRow(t,o)}})})})})),I=h.Search.SearchBar,T=h.Search.ClearSearchButton,k=h.CSVExport.ExportCSVButton,z=function(e){var t,o=e.id,s=void 0===o?"":o,d=e.data,p=e.totalSize,v=void 0===p?10:p,x=e.searchPlaceholder,h=void 0===x?"Search by labId or sampleId":x,C=e.page,F=void 0===C?0:C,N=e.sizePerPage,R=void 0===N?10:N,z=e.columns,A=e.fileName,E=(e.isDelete,e.isEditModify),D=e.isExport,B=void 0===D||D,U=e.isSelectRow,_=(e.selectedItem,e.onSelectedRow),O=e.onUpdateItem,H=e.onPageSizeChange,Y=e.onFilter,J=e.clearAllFilter,M=e.onClickRow,L=e.onFilterRecord,V=e.onUpdateResult,W=e.onUpdateFields,K=e.onPagination,G=(0,r.useState)(),q=(0,l.Z)(G,2),$=q[0],Q=(q[1],(0,r.useState)(!1)),X=(0,l.Z)(Q,2),ee=X[0],te=X[1],oe=(0,r.useState)([0,1]),ne=(0,l.Z)(oe,2);ne[0],ne[1];(0,r.useEffect)((function(){setTimeout((function(){var e=document.getElementsByClassName("expand-cell")[0];null===e||void 0===e||e.click()}),1e3)}),[]);var ae=[{code:"Pending",value:"Pending",color:"blue"},{code:"ReCheck",value:"Recheck",color:"yellow"},{code:"ReTest",value:"Retest",color:"orange"},{code:"Hold",value:"Hold",color:"indigo"},{code:"All",value:"All",color:"red"},{code:"ReCall",value:"Recall",color:"gray"}],ie={cutome:!0,totalSize:v,paginationSize:5,pageStartIndex:0,firstPageText:"<<",prePageText:"<",nextPageText:">",lastPageText:">>",disablePageTitle:!0,hideSizePerPage:!0,showTotal:!1,alwaysShowAllBtns:!0,sizePerPageList:[{text:"10",value:10},{text:"20",value:20},{text:"30",value:30},{text:"40",value:40},{text:"50",value:50}],hidePageListOnlyOnePage:!0,sizePerPageRenderer:function(e){var t=e.options,o=e.currSizePerPage,n=e.onSizePerPageChange;return(0,w.jsxs)("div",{className:"btn-group items-center",role:"group",children:[U&&(0,w.jsxs)("div",{className:"flex flex-row gap-1 border-solid border-2 p-1",children:[(0,w.jsx)(u.u,{tooltipText:"Approved",children:(0,w.jsx)(u.PJ.IconContext,{color:"#fff",size:"30",onClick:function(){_&&_($,"Approved")},children:u.PJ.getIconTag(u.PJ.Iconai.AiFillCheckCircle)})}),(0,w.jsx)(u.u,{tooltipText:"Rejected",children:(0,w.jsx)(u.PJ.IconContext,{color:"#fff",size:"30",onClick:function(){_&&_($,"Rejected")},children:u.PJ.getIconTag(u.PJ.Iconai.AiFillCloseCircle)})})]}),(0,w.jsx)("input",{type:"number",min:"0",placeholder:"No",onChange:function(e){e.target.value&&n(e.target.value)},className:"mr-2 ml-2 leading-4 p-2 w-14 focus:outline-none focus:ring block  shadow-sm sm:text-base border border-gray-300 rounded-md"}),t.map((function(e){return(0,w.jsx)("button",{type:"button",onClick:function(){return n(e.page)},className:"btn  ".concat(o==="".concat(e.page)?"bg-primary":"bg-grey"),children:e.text},e.text)}))]})}},le={placeholder:h},re=function(e,t){var o=t.data,n=t.cellEdit,a=t.page,i=t.sizePerPage,r=t.filters,s=t.sortField,d=t.sortOrder,u=t.searchText;if("cellEdit"===e&&E&&O&&O(n.newValue,n.dataField,n.rowId),"pagination"===e&&c().isEmpty(r)&&H&&H(a,i),"filter"===e||"pagination"===e&&!c().isEmpty(r)){if("pagination"===e){if(i>v)return alert("You have not more records.");if(a*i>v)return alert("You have not more records.")}for(var p={},x=0,f=Object.entries(r);x<f.length;x++){var m=(0,l.Z)(f[x],2),h=m[0],b=m[1],P=(0,g.Z)({},h,b.filterVal);p=Object.assign(p,P)}Y&&(0,j.Ds)((function(){Y(e,p,"filter"===e&&1===a?0:a,i)}))}("search"===e&&(0,j.Ds)((function(){Y&&Y(e,{srText:u},a,i)})),"sort"===e)&&("asc"===d?null===o||void 0===o||o.sort((function(e,t){return e[s]>t[s]?1:t[s]>e[s]?-1:0})):null===o||void 0===o||o.sort((function(e,t){return e[s]>t[s]?-1:t[s]>e[s]?1:0})))},se=function(e){var t=e.columns,o=e.onColumnToggle,n=e.toggles;return(0,w.jsx)("div",{className:"flex btn-group btn-group-toggle","data-toggle":"buttons",children:t.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{toggle:n[e.dataField]})})).map((function(e,t){if(t>0)return(0,w.jsx)("button",{type:"button",className:" btn btn-primary border-white  btn-sm whitespace-nowrap ".concat(e.toggle?"active":"inactive"),style:{height:"31px"},"data-toggle":"button","aria-pressed":e.toggle?"true":"false",onClick:function(){return o(e.dataField)},children:e.text},e.dataField)}))})},de={onClick:function(e,t,o){M&&M(t,o)}},ce=function(e,t){var o,n,a,i,l;switch(null===e||void 0===e||null===(o=e.colorScheme)||void 0===o?void 0:o.envRangeColor){case"BOTH":return{backgroundColor:null===e||void 0===e||null===(n=e.colorScheme)||void 0===n?void 0:n.cellColor,color:null===e||void 0===e||null===(a=e.colorScheme)||void 0===a?void 0:a.fontColor};case"BACKGROUND":return{backgroundColor:null===e||void 0===e||null===(i=e.colorScheme)||void 0===i?void 0:i.cellColor};case"FONT":return{color:null===e||void 0===e||null===(l=e.colorScheme)||void 0===l?void 0:l.fontColor}}};return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(S.bN,{pagination:(0,S.ZP)(0!==v?ie:{page:F,sizePerPage:R,totalSize:v}),keyField:s,columns:z,data:(null===(t=c().without(d,void 0))||void 0===t?void 0:t.length)>0?d:[],children:function(e){e.paginationProps;var t,o=e.paginationTableProps;return(0,w.jsx)(b(),{keyField:s,bootstrap4:!0,data:(null===(t=c().without(d,void 0))||void 0===t?void 0:t.length)>0?d:[],columns:z,search:!0,exportCSV:{fileName:"".concat(A,"_").concat(f()(new Date).format("YYYY-MM-DD HH:mm"),".csv"),noAutoBOM:!1,blobType:"text/csv;charset=ansi",exportAll:!1,onlyExportFiltered:!0},columnToggle:!0,children:function(e){var t,l,r;return(0,w.jsxs)("div",{children:[(0,w.jsxs)("div",{className:"flex flex-row items-center flex-wrap justify-between",children:[(0,w.jsxs)("div",{className:"flex flex-row items-center flex-wrap",children:[(0,w.jsx)("div",{className:"mt-2",children:(0,w.jsx)(I,(0,i.Z)((0,i.Z)((0,i.Z)({},le),e.searchProps),{},{onChange:function(e){console.log({value:e})}}))}),(0,w.jsx)(T,(0,i.Z)({className:"bg-gray-500 px-3.5 py-1 ml-2 focus:outline-none items-center outline shadow-sm font-medium text-center rounded-md  text-white disabled:opacity-50 disabled:cursor-not-allowed"},e.searchProps)),(0,w.jsx)("button",{className:"bg-gray-500 px-3.5 py-2 mr-2 ml-2 focus:outline-none items-center outline shadow-sm font-medium text-center rounded-md  text-white disabled:opacity-50 disabled:cursor-not-allowed",onClick:J,children:"Clear all filters"}),B&&(0,w.jsx)(k,(0,i.Z)((0,i.Z)({className:"bg-gray-500 px-3.5 py-1.5 mr-2 focus:outline-none items-center outline shadow-sm font-medium text-center rounded-md  text-white disabled:opacity-50 disabled:cursor-not-allowed"},e.csvProps),{},{children:"Export CSV!!"})),ee?(0,w.jsx)(u.EK.zx,{size:"medium",type:"outline",onClick:function(){te(!ee)},children:(0,w.jsx)(u.PJ.IconFa.FaChevronUp,{})}):(0,w.jsx)(u.EK.zx,{size:"medium",type:"outline",onClick:function(){te(!ee)},children:(0,w.jsx)(u.PJ.IconFa.FaChevronDown,{})}),(0,w.jsx)("div",{className:"flex ml-2 flex-wrap gap-1",children:ae.map((function(e){return(0,w.jsx)("button",{className:"px-3.5 py-2 bg-".concat(e.color,"-600 text-white rounded"),onClick:function(){return null===L||void 0===L?void 0:L(e.code)},children:e.value},e.code)}))})]}),(0,w.jsx)("div",{className:"flex bg-blue-700 w-10 h-10 rounded-full justify-center items-center text-xl",children:(0,w.jsx)("span",{className:"text-white",children:v})})]}),ee&&(0,w.jsx)("div",{className:"mb-2 flex overflow-auto",children:(0,w.jsx)(se,(0,i.Z)({contextual:"primary",className:"list-custom-class",btnClassName:"list-btn-custom-class"},e.columnToggleProps))}),(0,w.jsxs)("div",{className:"scrollTable mb-2",children:[(0,w.jsx)(m.Z,(0,i.Z)((0,i.Z)((0,i.Z)({keyField:"_id",remote:!0},e.baseProps),{},{noDataIndication:"Table is Empty",hover:!0},o),{},{filter:(0,y.ZP)(),headerClasses:"bg-gray-500 text-white whitespace-nowrap",cellEdit:E?(0,P.ZP)({mode:"dbclick",blurToSave:!0}):void 0,rowEvents:de,rowStyle:ce,onTableChange:re})),(0,w.jsx)("div",{className:"-mt-2",children:(0,w.jsx)(Z,{data:(null===(t=c().without(d,void 0))||void 0===t?void 0:t.length)>0?d[0][1]:[],totalSize:(null===(l=c().without(d,void 0))||void 0===l?void 0:l.length)>0?null===(r=d[0][1])||void 0===r?void 0:r.length:[],onUpdateResult:function(e,t,o){V&&V(e,t,o)},onUpdateFields:function(e,t){W&&W(e,t)}})})]}),(0,w.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,w.jsx)(u.PJ.IconContext,{color:"#fff",size:"25",style:{backgroundColor:"#808080",width:32,height:32,borderRadius:16,align:"center",padding:4},onClick:(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K&&K("next");case 1:case"end":return e.stop()}}),e)}))),children:(0,w.jsx)(u.PJ.IconBi.BiSkipNext,{})}),(0,w.jsx)(u.PJ.IconContext,{color:"#fff",size:"25",style:{backgroundColor:"#808080",width:32,height:32,borderRadius:16,align:"center",padding:4},onClick:(0,a.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:K&&K("prev");case 1:case"end":return e.stop()}}),e)}))),children:(0,w.jsx)(u.PJ.IconBi.BiSkipPrevious,{})})]})]})}})}})})},A=function(e){var t=(0,r.useState)(""),o=(0,l.Z)(t,2),n=o[0],a=(o[1],(0,r.useState)(e.data)),s=(0,l.Z)(a,2),d=s[0],p=s[1],v=(0,r.useState)(""),x=(0,l.Z)(v,2),g=(x[0],x[1],(0,r.useState)("20px")),m=(0,l.Z)(g,2),h=(m[0],m[1],(0,r.useState)("20px")),b=(0,l.Z)(h,2),P=(b[0],b[1],(0,r.useState)("")),S=(0,l.Z)(P,2),y=(S[0],S[1],(0,r.useState)(!1)),j=(0,l.Z)(y,2),C=j[0],F=(j[1],(0,r.useState)(0)),N=(0,l.Z)(F,2),R=N[0],Z=N[1];return(0,r.useEffect)((function(){p(JSON.parse(JSON.stringify(e.data))||[])}),[e.data,e.selectedId]),(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"".concat(e.isView?"shown":"hidden"),children:(0,w.jsx)(z,{id:"_id",data:(null===d||void 0===d?void 0:d.length)>0?C?d:[d[R]]:[],totalSize:null===d||void 0===d?void 0:d.length,columns:[{dataField:"_id",text:"Id",hidden:!0,csvExport:!1},{dataField:"labId",text:"Lab Id",sort:!0,editable:!1,formatter:function(e,t){var o;return(0,w.jsx)("span",{children:null===(o=t[1][0])||void 0===o?void 0:o.labId})}},{dataField:"panel",text:"Panel",sort:!0,editable:!1,headerClasses:"textHeaderl",formatter:function(e,t){var o;return(0,w.jsx)("span",{children:null===(o=t[1][0])||void 0===o?void 0:o.panel})}},{dataField:"validationLevel",text:"Validation Level",sort:!0,formatter:function(t,o){var n,a;return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("select",{value:o[1][0].validationLevel,disabled:!(null!==(n=o[1][0])&&void 0!==n&&n.isResultUpdate),className:"leading-4 p-2 focus:outline-none focus:ring block w-full shadow-sm sm:text-base border-2  rounded-md",style:{color:"#000000",backgroundColor:"#ffffff"},onChange:function(t){var n=t.target.value;e.onUpdateFields&&e.onUpdateFields({validationLevel:Number.parseInt(n)},[o[1][0]._id])},children:[(0,w.jsx)("option",{selected:!0,style:{color:"#000000"},children:"Select"}),[0,1,2,3,4,5,6,7,8,9].splice(null===(a=o[1][0])||void 0===a?void 0:a.validationLevel,10).map((function(e,t){return(0,w.jsx)("option",{value:e,children:e},t)}))]})})}},{dataField:"dueDate",text:"Due Date",sort:!0,editable:!1,formatter:function(e,t){var o,n;return null!==(o=t[1][0])&&void 0!==o&&o.dueDate?f()(null===(n=t[1][0])||void 0===n?void 0:n.dueDate).format("DD-MM-YYYY HH:mm:ss"):""}},{dataField:"approvalStatus",text:"Approval Status",sort:!0,editable:!1,formatter:function(e,t){var o;return(0,w.jsx)("span",{children:null===(o=t[1][0])||void 0===o?void 0:o.approvalStatus})}},{dataField:"comments",text:"Comments",sort:!0,editable:!1,formatter:function(e,t){var o;return(0,w.jsx)("span",{children:null===(o=t[1][0])||void 0===o?void 0:o.comments})}},{dataField:"pLab",text:"PLab",sort:!0,editable:!1,formatter:function(e,t){var o;return(0,w.jsx)("span",{children:null===(o=t[1][0])||void 0===o?void 0:o.pLab})}},{dataField:"department",text:"Department",sort:!0,editable:!1,formatter:function(e,t){var o;return(0,w.jsx)("span",{children:null===(o=t[1][0])||void 0===o?void 0:o.department})}},{dataField:"approvalStatus",text:"Action",sort:!0,editable:!1,formatter:function(t,o){var a,i,l,r,s,d,p,v,x;return(0,w.jsxs)("div",{className:"flex flex-row gap-1",children:[null!==e&&void 0!==e&&e.isApproval&&null!==(i=o[1][0])&&void 0!==i&&i.isResultUpdate?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u.u,{tooltipText:"Approved",children:(0,w.jsx)(u.PJ.IconContext,{color:"#fff",size:"20",isDisable:"Hold"==(null===(l=o[1][0])||void 0===l?void 0:l.approvalStatus),onClick:function(){e.onUpdateFields&&e.onUpdateFields({approvalStatus:"Approved"},c().map(o[1],"_id")),Z(0),e.onExpand&&e.onExpand("")},children:u.PJ.getIconTag(u.PJ.Iconai.AiFillCheckCircle)})}),(0,w.jsx)(u.u,{tooltipText:"".concat("Hold"==(null===(r=o[1][0])||void 0===r?void 0:r.approvalStatus)?"Pending":"Hold"," "),children:(0,w.jsx)(u.PJ.IconContext,{color:"#fff",size:"20",onClick:function(){var t;e.onUpdateFields&&e.onUpdateFields({approvalStatus:"Hold"==(null===(t=o[1][0])||void 0===t?void 0:t.approvalStatus)?"Pending":"Hold"},c().map(o[1],"_id")),Z(0)},children:"Hold"==(null===(s=o[1][0])||void 0===s?void 0:s.approvalStatus)?u.PJ.getIconTag(u.PJ.Iconmd.MdOutlinePending):u.PJ.getIconTag(u.PJ.Iconmd.MdBackHand)})}),(0,w.jsx)(u.u,{tooltipText:"Recheck",children:(0,w.jsx)(u.PJ.IconContext,{color:"#fff",size:"20",isDisable:"Hold"==(null===(d=o[1][0])||void 0===d?void 0:d.approvalStatus),onClick:function(){var t,n;e.onRecheck&&e.onRecheck(null===(t=o[1][0])||void 0===t?void 0:t._id,null===(n=o[1][0])||void 0===n?void 0:n.patientResultId),Z(0)},children:(0,w.jsx)(u.PJ.RIcon,{nameIcon:"GoIssueReopened",propsIcon:{color:"Hold"==(null===(p=o[1][0])||void 0===p?void 0:p.approvalStatus)?"#808080":"#ffffff"}})})}),(0,w.jsx)(u.u,{tooltipText:"Retest",children:(0,w.jsx)(u.PJ.IconContext,{color:"#fff",size:"20",isDisable:"Hold"==(null===(v=o[1][0])||void 0===v?void 0:v.approvalStatus),onClick:function(){var t,n;e.onRetest&&e.onRetest(null===(t=o[1][0])||void 0===t?void 0:t._id,null===(n=o[1][0])||void 0===n?void 0:n.patientResultId),Z(0)},children:(0,w.jsx)(u.PJ.RIcon,{nameIcon:"TbBrandSpeedtest",propsIcon:{color:"Hold"==(null===(x=o[1][0])||void 0===x?void 0:x.approvalStatus)?"#808080":"#ffffff"}})})})]}):(0,w.jsx)("span",{className:"text-white",children:"Still result not update"}),n==o[1][0]._id?(0,w.jsx)(u.u,{tooltipText:"Expand",children:(0,w.jsx)(u.PJ.IconContext,{color:"#fff",size:"20",onClick:function(){e.onExpand&&e.onExpand("")},children:u.PJ.getIconTag(u.PJ.Iconai.AiFillMinusCircle)})}):(0,w.jsx)(u.u,{tooltipText:"Expand",children:(0,w.jsx)(u.PJ.IconContext,{color:"#fff",size:"20",onClick:function(){e.onExpand&&e.onExpand(o[1][0])},children:u.PJ.getIconTag(u.PJ.Iconai.AiFillPlusCircle)})})]},null===(a=o[1][0])||void 0===a?void 0:a._id)},headerClasses:"sticky right-0  bg-gray-500 text-white z-50",classes:function(e,t,o,n){return"sticky right-0 bg-gray-500"},style:function(t,o,n,a){var i;return{zIndex:(null===(i=e.data)||void 0===i?void 0:i.length)-n}}}],isDelete:e.isDelete,isEditModify:e.isUpdate,isExport:e.isExport,isSelectRow:!0,fileName:"Report Panel Approval",onSelectedRow:function(t,o){e.onSelectedRow&&e.onSelectedRow(t,o)},onFilter:function(t,o,n,a){e.onFilter&&e.onFilter(t,o,n,a)},onPageSizeChange:function(t,o){e.onPageSizeChange&&e.onPageSizeChange(t,o)},clearAllFilter:function(){undefined("")},onFilterRecord:function(t){e.onFilterRecord&&e.onFilterRecord(t)},onUpdateFields:function(t,o){e.onUpdateFields&&e.onUpdateFields((0,i.Z)({},t),[o])},onUpdateResult:function(t,o,n){e.onUpdateResult&&e.onUpdateResult(t,o,n)},onPagination:function(e){"next"==e?R<(null===d||void 0===d?void 0:d.length)-1?Z(R+1):Z((null===d||void 0===d?void 0:d.length)-1):0!=R&&R<(null===d||void 0===d?void 0:d.length)?Z(R-1):Z(R)}})})})},E=(h.Search.SearchBar,h.Search.ClearSearchButton,h.CSVExport.ExportCSVButton,function(e){var t=e.id,o=e.data,n=e.totalSize,a=void 0===n?10:n,s=(e.searchPlaceholder,e.page),d=void 0===s?0:s,u=e.sizePerPage,p=void 0===u?10:u,v=e.columns,x=e.fileName,h=e.isEditModify,P=(e.isSelectRow,e.selectedItem),j=(e.onSelectedRow,e.onUpdateItem),C=e.onPageSizeChange,F=e.onFilter,N=(e.clearAllFilter,e.onClickRow),R=(0,r.useState)(),Z=(0,l.Z)(R,2),I=(Z[0],Z[1],(0,r.useState)(!1)),T=(0,l.Z)(I,2),k=(T[0],T[1],{cutome:!0,totalSize:a,paginationSize:5,pageStartIndex:0,firstPageText:"<<",prePageText:"<",nextPageText:">",lastPageText:">>",disablePageTitle:!0,paginationTotalRenderer:function(e,t,o){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"clearfix"}),(0,w.jsxs)("span",{children:["Showing ",e," to ",t," of ",o," Results"]})]})},hideSizePerPage:!0,showTotal:!1,alwaysShowAllBtns:!0,sizePerPageList:[{text:"10",value:10},{text:"20",value:20},{text:"30",value:30},{text:"40",value:40},{text:"50",value:50}],hidePageListOnlyOnePage:!0,sizePerPageRenderer:function(e){var t=e.options,o=e.currSizePerPage,n=e.onSizePerPageChange;return(0,w.jsxs)("div",{className:"btn-group items-center",role:"group",children:[(0,w.jsx)("input",{type:"number",min:"0",placeholder:"No",onChange:function(e){e.target.value&&n(e.target.value)},className:"mr-2 ml-2 leading-4 p-2 w-14 focus:outline-none focus:ring block  shadow-sm sm:text-base border border-gray-300 rounded-md"}),t.map((function(e){return(0,w.jsx)("button",{type:"button",onClick:function(){return n(e.page)},className:"btn  ".concat(o==="".concat(e.page)?"bg-primary":"bg-grey"),children:e.text},e.text)}))]})}}),z=function(e,t){var o=t.data,n=t.cellEdit,i=t.page,r=t.sizePerPage,s=t.filters,d=t.sortField,u=t.sortOrder,p=t.searchText;if("cellEdit"===e&&h&&j&&j(n.newValue,n.dataField,n.rowId),"pagination"===e&&c().isEmpty(s)&&C&&C(i,r),"filter"===e||"pagination"===e&&!c().isEmpty(s)){if("pagination"===e){if(r>a)return alert("You have not more records.");if(i*r>a)return alert("You have not more records.")}for(var v={},x=0,f=Object.entries(s);x<f.length;x++){var m=(0,l.Z)(f[x],2),b=m[0],P=m[1],S=(0,g.Z)({},b,P.filterVal);v=Object.assign(v,S)}F&&F(e,v,"filter"===e&&1===i?0:i,r)}("search"===e&&setTimeout((function(){F&&F(e,{srText:p},i,r)}),2e3),"sort"===e)&&("asc"===u?o.sort((function(e,t){return e[d]>t[d]?1:t[d]>e[d]?-1:0})):o.sort((function(e,t){return e[d]>t[d]?-1:t[d]>e[d]?1:0})))},A={onClick:function(e,t,o){N&&N(t,o)}},E=function(e,t){if(e._id==(null===P||void 0===P?void 0:P._id))return{backgroundColor:"#a9a9a9"}};return(0,w.jsx)(S.bN,{pagination:(0,S.ZP)(0!==a?k:{page:d,sizePerPage:p,totalSize:a}),keyField:t,columns:v,data:o,children:function(e){e.paginationProps;var n=e.paginationTableProps;return(0,w.jsx)(b(),{keyField:t,bootstrap4:!0,data:o,columns:v,search:!0,exportCSV:{fileName:"".concat(x,"_").concat(f()(new Date).format("YYYY-MM-DD HH:mm"),".csv"),noAutoBOM:!1,blobType:"text/csv;charset=ansi",exportAll:!1,onlyExportFiltered:!0},columnToggle:!0,children:function(e){return(0,w.jsx)("div",{children:(0,w.jsx)("div",{className:"scrollTable",children:(0,w.jsx)(m.Z,(0,i.Z)((0,i.Z)((0,i.Z)({remote:!0},e.baseProps),{},{noDataIndication:"Table is Empty",hover:!0},n),{},{filter:(0,y.ZP)(),headerClasses:"bg-gray-500 text-white whitespace-nowrap",onTableChange:z,rowEvents:A,rowStyle:E}))})})}})}})}),D=(0,s.Pi)((function(e){var t=(0,r.useState)({}),o=(0,l.Z)(t,2),n=o[0],a=o[1];return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{style:{position:"relative"},children:(0,w.jsx)(E,{id:"_id",data:e.data,totalSize:e.totalSize,selectedItem:n,columns:[{dataField:"_id",text:"Id",hidden:!0,csvExport:!1},{dataField:"pId",text:"Pid",sort:!0,editable:!1},{dataField:"name",text:"Name",sort:!0,editable:!1},{dataField:"age",text:"Age",sort:!0,editable:!1},{dataField:"sex",text:"Sex",sort:!0,editable:!1},{dataField:"dob",text:"DOB",sort:!0,editable:!1,formatter:function(e,t){var o=t.dob.length>5?f()(t.dob).format("DD-MM-YYYY HH:mm:ss").slice(0,Math.max(0,5))+"...":f()(t.dob).format("DD-MM-YYYY HH:mm:ss");return(0,w.jsx)("div",{className:"flex flex-row",children:(0,w.jsx)("span",{title:f()(t.dob).format("DD-MM-YYYY HH:mm:ss"),children:"".concat(o)})})}},{dataField:"patientMobileNo",text:"patientMobileNo",sort:!0,editable:!1},{dataField:"doctorId",text:"Doctor Id",sort:!0,editable:!1},{dataField:"doctorMobileNo",text:"Doctor Mobile No",sort:!0,editable:!1},{dataField:"registrationLocation",text:"Registration Location",sort:!0,editable:!1,formatter:function(e,t){var o=t.registrationLocation.length>15?t.registrationLocation.slice(0,Math.max(0,15))+"...":t.registrationLocation;return(0,w.jsx)("div",{className:"flex flex-row",children:(0,w.jsx)("span",{title:t.registrationLocation,children:"".concat(o)})})}},{dataField:"contactNo",text:"Contact Number",sort:!0,editable:!1},{dataField:"history",text:"History",sort:!0,csvFormatter:function(e,t){return"".concat(t.history&&t.history?"Yes":"No")},editable:!1,formatter:function(e,t){return(0,w.jsxs)(w.Fragment,{children:[" ",(0,w.jsx)(u.l0.ZD,{disabled:!0,value:t.history})]})}}],isEditModify:e.isEditModify,isSelectRow:!0,fileName:"Pending Panel Approval",onSelectedRow:function(t){e.onSelectedRow&&e.onSelectedRow(t.map((function(e){return e._id})))},onUpdateItem:function(t,o,n){e.onUpdateItem&&e.onUpdateItem(t,o,n)},onPageSizeChange:function(t,o){e.onPageSizeChange&&e.onPageSizeChange(t,o)},onFilter:function(t,o,n,a){e.onFilter&&e.onFilter(t,o,n,a)},clearAllFilter:function(){},onClickRow:function(t,o){a(t),e.onClickRow&&e.onClickRow(t,o)}})})})})),B=o(79476),U=(0,s.Pi)((function(e){var t=e.visible,o=void 0!==t&&t,n=e.data,a=void 0===n?[]:n,i=e.onRecall,s=e.onClose,d=r.useState(!1),c=(0,l.Z)(d,2),p=c[0],v=c[1],x=[{title:"Lab Id",dataField:"labId"},{title:"Name",dataField:"name"},{title:"Panel",dataField:"panelCode"},{title:"Test",dataField:"testCode"},{title:"Analyte",dataField:"analyteCode"},{title:"Entered By",dataField:"enteredBy"},{title:"Action",dataField:"action"}];return(0,r.useEffect)((function(){v(o)}),[o]),(0,w.jsx)(B.W2,{children:p&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("div",{className:"justify-center items-center  overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,w.jsx)("div",{className:"relative w-auto my-6 mx-auto max-w-3xl",children:(0,w.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none",children:[(0,w.jsx)("div",{}),(0,w.jsx)("div",{className:"flex  flex-col  justify-between p-2 border-b border-solid border-gray-300 rounded-t",children:(0,w.jsx)("div",{className:"flex",children:(0,w.jsx)("h4",{className:"font-semibold text-lg",children:"Recall"})})}),(0,w.jsx)("div",{className:"relative p-2 flex-auto",children:(0,w.jsxs)("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400",children:[(0,w.jsx)("thead",{className:"text-xs text-white uppercase ",children:(0,w.jsx)("tr",{children:x.map((function(e){return(0,w.jsx)("th",{scope:"col",className:"p-2",children:null===e||void 0===e?void 0:e.title})}))})}),(0,w.jsx)("tbody",{children:null===a||void 0===a?void 0:a.map((function(e){return(0,w.jsx)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:x.map((function(t,o){return(0,w.jsx)(w.Fragment,{children:"action"==(null===t||void 0===t?void 0:t.dataField)?(0,w.jsx)("td",{className:"flex p-2  items-center justify-center",children:(0,w.jsx)(u.PJ.RIcon,{nameIcon:"FaRecycle",onClick:function(){i(e)},tooltip:"ReCall"})},o):(0,w.jsx)("td",{className:"p-2",children:e[null===t||void 0===t?void 0:t.dataField]},o)})}))},e.id)}))})]})}),(0,w.jsx)("div",{className:"flex items-center justify-end p-2 border-t border-solid border-gray-300 rounded-b",children:(0,w.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1",type:"button",style:{transition:"all .15s ease"},onClick:function(){v(!1),s()},children:"Close"})})]})})}),(0,w.jsx)("div",{className:"opacity-25 fixed inset-0 z-40 bg-black"})]})})})),_=(o(70042),o(53946)),O=(o(3069),(0,s.Pi)((function(){var e,t=(0,_.mZ)(),o=t.panelApprovalStore,s=t.routerStore,d=t.loginStore,x=t.patientResultStore,f=(0,p.cI)(),g=(f.control,f.handleSubmit,f.formState.errors,f.setValue,(0,r.useState)([])),m=(0,l.Z)(g,2),h=m[0],b=m[1],P=(0,r.useState)(),S=(0,l.Z)(P,2),y=(S[0],S[1],(0,r.useState)([])),j=(0,l.Z)(y,2),C=j[0],F=j[1],N=(0,r.useState)(!1),R=(0,l.Z)(N,2),Z=R[0],I=R[1],T=(0,r.useState)(""),k=(0,l.Z)(T,2),z=k[0],E=k[1],B=(0,r.useState)(""),O=(0,l.Z)(B,2),H=O[0],Y=(O[1],(0,r.useState)({visible:!1,data:[]})),J=(0,l.Z)(Y,2),M=J[0],L=J[1];(0,r.useEffect)((function(){var e=c().groupBy(o.panelApprovalList,(function(e){return"".concat(e.labId,"-").concat(e.panelCode)}));e&&b(Object.keys(e).map((function(t){return[t,e[t]]})))}),[o.panelApprovalList]);var V=function(e){var t=e.type,n=e.data;switch(t){case"update":o.panelApprovalService.update({input:(0,i.Z)((0,i.Z)({},n.fields),{},{_id:n.id})}).then((function(e){e.updatePanelApproval.success&&(u.FN.success({message:"\ud83d\ude0a ".concat(e.updatePanelApproval.message)}),o.panelApprovalService.listPanelApproval({}),I(!Z))}));break;case"updateMany":o.panelApprovalService.update({input:{updateMany:{fields:n.rows,type:n.type}}}).then((function(e){e.updatePanelApproval.success&&(u.FN.success({message:"\ud83d\ude0a ".concat(e.updatePanelApproval.message)}),o.panelApprovalService.listPanelApproval({}),I(!Z))}));break;case"updateByIds":o.panelApprovalService.updateByIds({input:(0,i.Z)((0,i.Z)({},n.fields),{},{ids:n.ids})}).then((function(e){e.updateByIdsPanelApproval.success&&(u.FN.success({message:"\ud83d\ude0a ".concat(e.updateByIdsPanelApproval.message)}),o.panelApprovalService.listPanelApproval({}))}))}},W=(0,r.useMemo)((function(){return(0,w.jsx)(A,{data:h||[],totalSize:o.panelApprovalListCount,selectedId:z,filterRecord:H,isView:v.o.checkPermission(s.userPermission,"View"),isDelete:v.o.checkPermission(s.userPermission,"Delete"),isUpdate:v.o.checkPermission(s.userPermission,"Update"),isExport:v.o.checkPermission(s.userPermission,"Export"),isApproval:v.o.checkPermission(s.userPermission,"Approval"),onSelectedRow:function(e,t){V({show:!0,type:"updateMany",data:{rows:e,type:t},title:"Are you sure?",body:"Update items!"})},onUpdateFields:function(e,t){V({show:!0,type:"updateByIds",data:{fields:e,ids:t},title:"Are you sure?",body:"Update items!"})},onUpdateResult:function(e,t,n){!function(e,t,n){o.panelApprovalService.update({input:{result:null===e||void 0===e?void 0:e.result,_id:t}}).then((function(t){var a;t.updatePanelApproval.success&&x.patientResultService.updateSingleFiled({input:{result:null===e||void 0===e?void 0:e.result,resultType:null===e||void 0===e?void 0:e.resultType,file:null===e||void 0===e?void 0:e.file,labId:null===e||void 0===e?void 0:e.labId,analyteCode:null===e||void 0===e?void 0:e.analyteCode,analyteName:null===e||void 0===e?void 0:e.analyteName,testStatus:null===e||void 0===e?void 0:e.testStatus,rangeType:null===e||void 0===e?void 0:e.rangeType,critical:null===e||void 0===e?void 0:e.critical,abnFlag:null===e||void 0===e?void 0:e.abnFlag,refRangesList:null===e||void 0===e?void 0:e.refRangesList,testCode:null===e||void 0===e?void 0:e.testCode,testName:null===e||void 0===e?void 0:e.testName,panelCode:null===e||void 0===e?void 0:e.panelCode,resultDate:null===e||void 0===e?void 0:e.resultDate,reportPriority:null===e||void 0===e?void 0:e.reportPriority,deliveryMode:null===e||void 0===e?void 0:e.deliveryMode,units:null===e||void 0===e?void 0:e.units,conclusion:null===e||void 0===e?void 0:e.conclusion,loNor:null===e||void 0===e?void 0:e.loNor,hiNor:null===e||void 0===e?void 0:e.hiNor,resultStatus:null===e||void 0===e?void 0:e.resultStatus,panelStatus:null===e||void 0===e?void 0:e.panelStatus,enteredBy:null===(a=d.login)||void 0===a?void 0:a.userId,_id:n,__v:void 0,flagUpdate:void 0}}).then((function(e){e.updatePatientResult.success&&(u.FN.success({message:"\ud83d\ude0a ".concat(e.updatePatientResult.message),timer:2e3}),o.panelApprovalService.listPanelApproval({}))}))})),I(!Z)}(e,t,n)},onExpand:function(e){"object"==typeof e?(E(null===e||void 0===e?void 0:e._id),F([e])):F([])},onPageSizeChange:function(e,t){o.panelApprovalService.listPanelApproval({page:e,limit:t})},onFilter:function(e,t,n,a){o.panelApprovalService.filter({input:{type:e,filter:t,page:n,limit:a}})},onRecheck:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.patientResultService.updateStatus({input:{filter:{id:t,patientResultId:a,mode:"reCheck",approvalStatus:"ReCheck",isResultUpdate:!1}}}).then((function(e){var t;u.FN.success({message:"\ud83d\ude0a ".concat(e.updateStatusPatientResult.message)}),null===(t=o.panelApprovalService)||void 0===t||t.listPanelApproval({})}));case 2:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),onRetest:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t,a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.patientResultService.updateStatus({input:{filter:{id:t,patientResultId:a,mode:"reTest",approvalStatus:"ReTest",isResultUpdate:!1}}}).then((function(e){var t;u.FN.success({message:"\ud83d\ude0a ".concat(e.updateStatusPatientResult.message)}),null===(t=o.panelApprovalService)||void 0===t||t.listPanelApproval({})}));case 2:case"end":return e.stop()}}),e)})));return function(t,o){return e.apply(this,arguments)}}(),onFilterRecord:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){var a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ReCall"!=t){e.next=7;break}return a=[],e.next=4,o.panelApprovalService.reCallList({input:{filter:{type:"fetch"}}}).then((function(e){var t,o;null!==(t=e.reCallPanelApproval)&&void 0!==t&&t.success?a=null===(o=e.reCallPanelApproval)||void 0===o?void 0:o.data:u.FN.warning({message:"\ud83d\ude0a Delivery status pending not found"})}));case 4:L({visible:!0,data:a}),e.next=8;break;case 7:"All"==t?o.panelApprovalService.listPanelApproval({isNotEqualToApproved:!0}):o.panelApprovalService.find({input:{filter:{approvalStatus:t}}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}),[h,Z,z,H]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(u._q,{title:(null===(e=s.selectedComponents)||void 0===e?void 0:e.title)||"",store:d}),(0,w.jsxs)("div",{className:"p-3 rounded-lg shadow-xl overflow-auto",children:[W,(0,w.jsx)("span",{className:"text-red hidden",children:"Note: Report Priority= Daily single-single update."})]}),(null===C||void 0===C?void 0:C.length)>0&&(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"p-1 rounded-lg shadow-xl overflow-auto mt-4",children:[(0,w.jsx)("span",{className:"font-bold text-lg underline",children:"Patient Demographics"}),(0,w.jsx)(D,{data:C||[],totalSize:C.length})]})}),(0,w.jsx)(U,(0,i.Z)((0,i.Z)({},M),{},{onRecall:function(){var e=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.panelApprovalService.reCallList({input:{filter:(0,i.Z)((0,i.Z)({},t),{},{type:"update"})}}).then((function(e){var n,a,l;null!==(n=e.reCallPanelApproval)&&void 0!==n&&n.success&&(u.FN.success({message:"\ud83d\ude0a ".concat(e.reCallPanelApproval.message)}),o.panelApprovalService.listPanelApproval({validationLevel:null===(a=d.login)||void 0===a?void 0:a.validationLevel}),L((0,i.Z)((0,i.Z)({},M),{},{data:null===(l=M.data)||void 0===l?void 0:l.filter((function(e){return e._id!=(null===t||void 0===t?void 0:t._id)}))})))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onClose:function(){L({visible:!1})}}))]})}))),H=O}}]);
//# sourceMappingURL=2054.6e7c1c0f.chunk.js.map