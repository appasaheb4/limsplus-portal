(this.webpackJsonplimsplus_portal=this.webpackJsonplimsplus_portal||[]).push([[8],{855:function(t,e,i){"use strict";i.r(e);var n,o,a,r,c=i(1),l=i.n(c),s=i(21),d=i(2),f=i(65),u=i.n(f),y=i(61),p=i(4),m=i(13),v=i(14),g=i(34),h=i(9),b=(i(58),i(24)),A=i(6),I=i(11),x=function t(){Object(v.a)(this,t),this.listLoginActivity=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new Promise((function(i,n){I.c.get("/auth/listLoginActivity/".concat(t,"/").concat(e)).then((function(t){var e=I.a.handleResponse(t);i(e)})).catch((function(t){n(new I.b(0,t.message,void 0))}))}))}},S={loginActivityStore:new(Object(b.c)(.1)((o=function(){function t(){Object(v.a)(this,t),Object(m.a)(this,"listLoginActivity",a,this),Object(m.a)(this,"listLoginActivityCount",r,this),Object(A.makeAutoObservable)(this)}return Object(g.a)(t,[{key:"LoginActivityService",get:function(){return new x}},{key:"fetchLoginActivity",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;this.LoginActivityService.listLoginActivity(t,i).then((function(t){console.log({res:t}),e.listLoginActivity=t.data.loginActivity,e.listLoginActivityCount=t.data.count}))}}]),t}(),a=Object(h.a)(o.prototype,"listLoginActivity",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),r=Object(h.a)(o.prototype,"listLoginActivityCount",[A.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Object(h.a)(o.prototype,"LoginActivityService",[A.computed],Object.getOwnPropertyDescriptor(o.prototype,"LoginActivityService"),o.prototype),Object(h.a)(o.prototype,"fetchLoginActivity",[A.action],Object.getOwnPropertyDescriptor(o.prototype,"fetchLoginActivity"),o.prototype),n=o))||n)},L=(l.a.createContext(S.loginActivityStore),y.Search.SearchBar,y.Search.ClearSearchButton,y.CSVExport.ExportCSVButton,Object(s.a)((function(){var t,e=Object(p.b)().loginStore;return Object(c.useEffect)((function(){S.loginActivityStore.fetchLoginActivity()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a.Header,null,l.a.createElement(d.a.PageHeading,{title:(null===(t=p.a.routerStore.selectedComponents)||void 0===t?void 0:t.title)||""}),l.a.createElement(d.a.PageHeadingLabDetails,{store:e})),l.a.createElement("div",{className:"mx-auto  flex-wrap"},l.a.createElement("div",{className:"p-2 rounded-lg shadow-xl overflow-auto"},l.a.createElement("div",{style:{position:"relative"}},l.a.createElement(d.c.TableBootstrap,{id:"_id",data:S.loginActivityStore.listLoginActivity||[],totalSize:S.loginActivityStore.listLoginActivityCount,columns:[{dataField:"_id",text:"Id",hidden:!0,csvExport:!1},{dataField:"user.fullName",text:"User name",sort:!0,filter:d.c.Utils.textFilter(),headerStyle:{minWidth:"200px"},editable:!1},{dataField:"user.userId",text:"User Id",sort:!0,filter:d.c.Utils.textFilter(),headerStyle:{minWidth:"200px"}},{dataField:"user.lab",text:"Lab",sort:!0,filter:d.c.Utils.textFilter(),headerStyle:{minWidth:"200px"}},{dataField:"user.role",text:"Role",sort:!0,filter:d.c.Utils.textFilter(),headerStyle:{minWidth:"200px"}},{dataField:"systemInfo.device",text:"Device",sort:!0,filter:d.c.Utils.textFilter(),headerStyle:{minWidth:"200px"}},{dataField:"systemInfo.v4",text:"Ip Information",filter:d.c.Utils.textFilter({getFilter:function(t){},onFilter:function(t){}}),headerStyle:{minWidth:"200px"},csvFormatter:function(t,e,i){return"Ip:".concat(e.systemInfo.ipInfo.ip,", Address:").concat(e.systemInfo.ipInfo.city,", ").concat(e.systemInfo.ipInfo.region,", ").concat(e.systemInfo.ipInfo.country,", Location:").concat(e.systemInfo.ipInfo.ll)},formatter:function(t,e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement("h6",null,"Ip: ",e.systemInfo.ipInfo.ip),e.systemInfo.ipInfo.city&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h6",null,"Address:"," ","".concat(e.systemInfo.ipInfo.city,", ").concat(e.systemInfo.ipInfo.region,", ").concat(e.systemInfo.ipInfo.country)),l.a.createElement("h6",null,"Location: ","".concat(e.systemInfo.ipInfo.ll)))))}},{dataField:"dateOfEntry",text:"In",sort:!0,filter:d.c.Utils.textFilter(),headerStyle:{minWidth:"200px"},formatter:function(t,e){return u()(e.dateOfEntry).format("YYYY-MM-DD h:mm:ss a")}},{dataField:"lastUpdated",text:"Out",sort:!0,formatter:function(t,e){return void 0!==e.lastUpdated?u()(e.lastUpdated).format("YYYY-MM-DD h:mm:ss a"):"Active User"}}],onPageSizeChange:function(t){S.loginActivityStore.fetchLoginActivity(t)},isEditModify:!1,isSelectRow:!1,fileName:"Login Activity"})))))})));e.default=L}}]);